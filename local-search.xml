<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title></title>
    <link href="/2023/12/10/build-testing-lab-in-local-dc-with-terraform-and-ansible/"/>
    <url>/2023/12/10/build-testing-lab-in-local-dc-with-terraform-and-ansible/</url>
    
    <content type="html"><![CDATA[<h1 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h1><h2 id="Linux-VM-provision-in-Batch-with-Terraform"><a href="#Linux-VM-provision-in-Batch-with-Terraform" class="headerlink" title="Linux VM provision in Batch with Terraform"></a>Linux VM provision in Batch with Terraform</h2><p><strong>Step 1: Create the linux vm template</strong></p><p><strong>Step 2: Use Terraform to provision the VM in batch, sample <code>main.tf</code> file as below:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@centos-0 ansible]<span class="hljs-comment"># cat ../terraform/sre-vsphere-lab/main.tf </span><br><span class="hljs-comment"># Configure the VMware vSphere Provider</span><br>provider <span class="hljs-string">&quot;vsphere&quot;</span> &#123;<br>  user           = <span class="hljs-string">&quot;administrator@vsphere.local&quot;</span><br>  password       = <span class="hljs-string">&quot;xxxx&quot;</span><br>  vsphere_server = <span class="hljs-string">&quot;xx.xx.xx.xx&quot;</span><br><br>  <span class="hljs-comment"># if you have a self-signed cert</span><br>  allow_unverified_ssl = <span class="hljs-literal">true</span><br>&#125;<br><br><span class="hljs-comment"># Deploy 3 linux VMs</span><br>module <span class="hljs-string">&quot;centos-server-linuxvm&quot;</span> &#123;<br>  <span class="hljs-built_in">source</span>    = <span class="hljs-string">&quot;Terraform-VMWare-Modules/vm/vsphere&quot;</span><br>  <span class="hljs-comment">#source    = &quot;.terraform/modules/centos-server-linuxvm&quot;</span><br>  version   = <span class="hljs-string">&quot;3.5.0&quot;</span><br>  vmtemp    = <span class="hljs-string">&quot;centos7&quot;</span><br>  instances = 3<br>  vmname    = <span class="hljs-string">&quot;CentOS&quot;</span><br>  vmnameformat  = <span class="hljs-string">&quot;%03d&quot;</span> <span class="hljs-comment">#To use three decimal with leading zero vmnames will be AdvancedVM001,AdvancedVM002</span><br>  vmrp      = <span class="hljs-string">&quot;USSRE/Resources/felix&quot;</span><br>  network = &#123;<br>    <span class="hljs-string">&quot;VM Network&quot;</span> = [<span class="hljs-string">&quot;10.52.184.221&quot;</span>, <span class="hljs-string">&quot;10.52.184.222&quot;</span>, <span class="hljs-string">&quot;10.52.184.223&quot;</span>] <span class="hljs-comment"># To use DHCP create Empty list [&quot;&quot;,&quot;&quot;]; You can also use a CIDR annotation;</span><br>  &#125;<br>  vmgateway = <span class="hljs-string">&quot;xx.xx.xx.xx&quot;</span><br>  dc        = <span class="hljs-string">&quot;USRELAB&quot;</span><br>  datastore = <span class="hljs-string">&quot;data&quot;</span><br>  ipv4submask  = [<span class="hljs-string">&quot;16&quot;</span>, <span class="hljs-string">&quot;16&quot;</span>, <span class="hljs-string">&quot;16&quot;</span>]<br>  network_type = [<span class="hljs-string">&quot;vmxnet3&quot;</span>, <span class="hljs-string">&quot;vmxnet3&quot;</span>, <span class="hljs-string">&quot;vmxnet3&quot;</span>]<br>  dns_server_list  = [<span class="hljs-string">&quot;10.52.191.10&quot;</span>, <span class="hljs-string">&quot;10.52.191.10&quot;</span>, <span class="hljs-string">&quot;10.52.191.10&quot;</span>]<br>  is_windows_image = <span class="hljs-literal">false</span><br>&#125;<br><br>output <span class="hljs-string">&quot;vmnames&quot;</span> &#123;<br>  value = module.centos-server-linuxvm.VM<br>&#125;<br><br>output <span class="hljs-string">&quot;vmnameswip&quot;</span> &#123;<br>  value = module.centos-server-linuxvm.ip<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Step 3: Run the terraform yaml file as below</strong></p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coq">terraform init<br>terraform plan<br>terraform <span class="hljs-built_in">apply</span><br></code></pre></td></tr></table></figure><h2 id="Use-Ansible-to-manage-the-Linux-VM-and-set-up-the-k8s-cluster"><a href="#Use-Ansible-to-manage-the-Linux-VM-and-set-up-the-k8s-cluster" class="headerlink" title="Use Ansible to manage the Linux VM and set up the k8s cluster"></a>Use Ansible to manage the Linux VM and set up the k8s cluster</h2><p><strong>Topology:</strong></p><ul><li>1 CentOS 7 VM for the Kubernetes Master (e.g., 192.168.0.10)</li><li>2 CentOS 7 VMs for the Kubernetes Nodes (e.g., 192.168.0.11, 192.168.0.12)</li></ul><p><strong>Step 1: Prepare the Control Node:</strong></p><ul><li><p>Set up a separate CentOS 7 VM as your Ansible control node.</p></li><li><p>Install Ansible on the control node using the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo yum install ansible<br></code></pre></td></tr></table></figure></li><li><p>Create ansible.cfg file under the working folder (same folder with yml files), set <code>host_key_checking=false</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@centos-0 ansible]<span class="hljs-comment"># cat ansible.cfg </span><br>[defaults]<br>host_key_checking=<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>This is to ignore SSH authenticity checking, to avoid any human intervention in the middle of the script execution for below prompts:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># GATHERING FACTS <span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">***</span></span><br><span class="hljs-strong"><span class="hljs-section"># The authenticity of host &#x27;xxx.xxx.xxx.xxx (xxx.xxx.xxx.xxx)&#x27; can&#x27;t be established.</span></span><br><span class="hljs-strong"><span class="hljs-section"># RSA key fingerprint is xx:yy:zz:....</span></span><br><span class="hljs-strong"><span class="hljs-section"># Are you sure you want to continue connecting (yes/no)?</span></span><br></code></pre></td></tr></table></figure></li></ul><p><strong>Step 2: Set up Inventory and Hosts File:</strong></p><ul><li><p>Create an inventory file on the control node, e.g., <code>inventory.ini</code> with the following content:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[masters]<br>192.168.0.10<br><br>[workers]<br>192.168.0.11<br>192.168.0.12<br><br>[all:vars]<br>ansible_user=root<br>ansible_ssh_pass=your_ssh_password<br></code></pre></td></tr></table></figure></li><li><p>Test the SSH connection to the linux VM</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@centos-0 ansible]<span class="hljs-comment"># ansible -i inventory.ini all -m ping</span><br>10.52.184.222 | SUCCESS =&gt; &#123;<br>    <span class="hljs-string">&quot;ansible_facts&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;discovered_interpreter_python&quot;</span>: <span class="hljs-string">&quot;/usr/bin/python&quot;</span><br>    &#125;, <br>    <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">false</span>, <br>    <span class="hljs-string">&quot;ping&quot;</span>: <span class="hljs-string">&quot;pong&quot;</span><br>&#125;<br>10.52.184.223 | SUCCESS =&gt; &#123;<br>    <span class="hljs-string">&quot;ansible_facts&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;discovered_interpreter_python&quot;</span>: <span class="hljs-string">&quot;/usr/bin/python&quot;</span><br>    &#125;, <br>    <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">false</span>, <br>    <span class="hljs-string">&quot;ping&quot;</span>: <span class="hljs-string">&quot;pong&quot;</span><br>&#125;<br>10.52.184.221 | SUCCESS =&gt; &#123;<br>    <span class="hljs-string">&quot;ansible_facts&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;discovered_interpreter_python&quot;</span>: <span class="hljs-string">&quot;/usr/bin/python&quot;</span><br>    &#125;, <br>    <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">false</span>, <br>    <span class="hljs-string">&quot;ping&quot;</span>: <span class="hljs-string">&quot;pong&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p><strong>Step 3: Create Ansible Playbook:</strong></p><ul><li><p>Create a playbook file, e.g., <code>kubernetes-setup.yml</code> with the following content:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">all</span><br>  <span class="hljs-attr">become:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">vars:</span><br>    <span class="hljs-attr">k8s_version:</span> <span class="hljs-string">&quot;1.28.2&quot;</span><br>    <span class="hljs-attr">kubelet_version:</span> <span class="hljs-string">&quot;1.28.2&quot;</span><br>    <span class="hljs-attr">container_runtime:</span> <span class="hljs-string">&quot;containerd&quot;</span><br>    <span class="hljs-attr">master_ip:</span> <span class="hljs-string">&quot;10.52.184.221&quot;</span><br>    <span class="hljs-attr">pod_subnet:</span> <span class="hljs-string">&quot;10.244.0.0/16&quot;</span><br>    <span class="hljs-attr">service_subnet:</span> <span class="hljs-string">&quot;your_service_subnet&quot;</span><br><br>  <span class="hljs-attr">tasks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Configure</span> <span class="hljs-string">Kubernetes</span> <span class="hljs-string">Yum</span> <span class="hljs-string">repository</span><br>      <span class="hljs-attr">copy:</span><br>        <span class="hljs-attr">dest:</span> <span class="hljs-string">&quot;/etc/yum.repos.d/kubernetes.repo&quot;</span><br>        <span class="hljs-attr">content:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          [kubernetes]</span><br><span class="hljs-string">          name=Kubernetes</span><br><span class="hljs-string">          baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span><br><span class="hljs-string">          enabled=1</span><br><span class="hljs-string">          gpgcheck=0</span><br><span class="hljs-string">          repo_gpgcheck=0</span><br><span class="hljs-string">          gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span><br><span class="hljs-string"></span>      <span class="hljs-attr">notify:</span> <span class="hljs-string">Reload</span> <span class="hljs-string">Repository</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">SELinux</span> <span class="hljs-string">to</span> <span class="hljs-string">permissive</span> <span class="hljs-string">mode</span><br>      <span class="hljs-attr">selinux:</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">permissive</span><br>        <span class="hljs-attr">policy:</span> <span class="hljs-string">targeted</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Disable</span> <span class="hljs-string">firewalld</span><br>      <span class="hljs-attr">systemd:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">firewalld</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">stopped</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">no</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Allow</span> <span class="hljs-string">ports</span> <span class="hljs-number">6443 </span><span class="hljs-string">and</span> <span class="hljs-number">10250</span> <span class="hljs-string">in</span> <span class="hljs-string">firewall</span> <span class="hljs-string">using</span> <span class="hljs-string">iptables</span><br>      <span class="hljs-attr">iptables:</span><br>        <span class="hljs-attr">chain:</span> <span class="hljs-string">INPUT</span><br>        <span class="hljs-attr">protocol:</span> <span class="hljs-string">tcp</span><br>        <span class="hljs-attr">destination_port:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; item &#125;&#125;</span>&quot;</span><br>        <span class="hljs-attr">jump:</span> <span class="hljs-string">ACCEPT</span><br>      <span class="hljs-attr">with_items:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-number">6443</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-number">10250</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Disable</span> <span class="hljs-string">swap</span><br>      <span class="hljs-attr">command:</span> <span class="hljs-string">swapoff</span> <span class="hljs-string">-a</span><br>      <span class="hljs-attr">ignore_errors:</span> <span class="hljs-literal">yes</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Comment</span> <span class="hljs-string">out</span> <span class="hljs-string">swap</span> <span class="hljs-string">entry</span> <span class="hljs-string">in</span> <span class="hljs-string">/etc/fstab</span><br>      <span class="hljs-attr">lineinfile:</span><br>        <span class="hljs-attr">path:</span> <span class="hljs-string">/etc/fstab</span><br>        <span class="hljs-attr">regexp:</span> <span class="hljs-string">&#x27;^/dev/mapper/.*swap.*$&#x27;</span><br>        <span class="hljs-attr">line:</span> <span class="hljs-string">&#x27;# <span class="hljs-template-variable">&#123;&#123; item &#125;&#125;</span>&#x27;</span><br>      <span class="hljs-attr">with_items:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;UUID=xxxxxxxxxx   none            swap    sw              0       0&quot;</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Enable</span> <span class="hljs-string">bridge</span> <span class="hljs-string">and</span> <span class="hljs-string">IP</span> <span class="hljs-string">forwarding</span><br>      <span class="hljs-attr">command:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; item &#125;&#125;</span>&quot;</span><br>      <span class="hljs-attr">with_items:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;modprobe br_netfilter&quot;</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;sysctl net.bridge.bridge-nf-call-iptables=1&quot;</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;sysctl net.ipv4.ip_forward=1&quot;</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Update</span> <span class="hljs-string">system</span> <span class="hljs-string">packages</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;*&quot;</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">latest</span><br>        <span class="hljs-attr">update_cache:</span> <span class="hljs-literal">yes</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Add</span> <span class="hljs-string">Containerd</span> <span class="hljs-string">repository</span><br>      <span class="hljs-attr">yum_repository:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">containerd</span><br>        <span class="hljs-attr">description:</span> <span class="hljs-string">Containerd</span> <span class="hljs-string">Repository</span><br>        <span class="hljs-attr">baseurl:</span> <span class="hljs-string">https://download.docker.com/linux/centos/7/$basearch/stable</span><br>        <span class="hljs-attr">gpgkey:</span> <span class="hljs-string">https://download.docker.com/linux/centos/gpg</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">yes</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Containerd</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">containerd.io</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">present</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Configure</span> <span class="hljs-string">Containerd</span><br>      <span class="hljs-attr">copy:</span><br>        <span class="hljs-attr">content:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes.runc]</span><br><span class="hljs-string">            runtime_type = &quot;io.containerd.runc.v2&quot;</span><br><span class="hljs-string"></span><br>          [<span class="hljs-string">plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes.containerd</span>]<br>            <span class="hljs-string">runtime_type</span> <span class="hljs-string">=</span> <span class="hljs-string">&quot;io.containerd.runtime.v1.linux&quot;</span><br>        <span class="hljs-attr">dest:</span> <span class="hljs-string">/etc/containerd/config.toml</span><br>        <span class="hljs-attr">owner:</span> <span class="hljs-string">root</span><br>        <span class="hljs-attr">group:</span> <span class="hljs-string">root</span><br>        <span class="hljs-attr">mode:</span> <span class="hljs-number">0644</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Start</span> <span class="hljs-string">and</span> <span class="hljs-string">enable</span> <span class="hljs-string">Containerd</span> <span class="hljs-string">service</span><br>      <span class="hljs-attr">service:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">containerd</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">started</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Kubernetes</span> <span class="hljs-string">components</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-string">kubelet-&#123;&#123;</span> <span class="hljs-string">k8s_version</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-string">kubeadm-&#123;&#123;</span> <span class="hljs-string">k8s_version</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-string">kubectl-&#123;&#123;</span> <span class="hljs-string">k8s_version</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">present</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Enable</span> <span class="hljs-string">and</span> <span class="hljs-string">start</span> <span class="hljs-string">kubelet</span> <span class="hljs-string">service</span><br>      <span class="hljs-attr">service:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">kubelet</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">started</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br><br>  <span class="hljs-attr">handlers:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Reload</span> <span class="hljs-string">Repository</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;*&quot;</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">present</span><br>        <span class="hljs-attr">enablerepo:</span> <span class="hljs-string">kubernetes</span><br>        <span class="hljs-attr">disablerepo:</span> <span class="hljs-string">&quot;*&quot;</span><br>        <span class="hljs-attr">update_cache:</span> <span class="hljs-literal">yes</span><br><br><br><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">masters</span><br>  <span class="hljs-attr">become:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">vars:</span><br>    <span class="hljs-attr">k8s_version:</span> <span class="hljs-string">&quot;1.28.2&quot;</span><br>    <span class="hljs-attr">kubelet_version:</span> <span class="hljs-string">&quot;1.28.2&quot;</span><br>    <span class="hljs-attr">container_runtime:</span> <span class="hljs-string">&quot;containerd&quot;</span><br>    <span class="hljs-attr">master_ip:</span> <span class="hljs-string">&quot;10.52.184.221&quot;</span><br>    <span class="hljs-attr">pod_subnet:</span> <span class="hljs-string">&quot;10.244.0.0/16&quot;</span><br>    <span class="hljs-attr">service_subnet:</span> <span class="hljs-string">&quot;your_service_subnet&quot;</span><br>    <br>  <span class="hljs-attr">tasks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">bridge-nf-call-iptables</span> <span class="hljs-string">to</span> <span class="hljs-number">1</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">sysctl</span> <span class="hljs-string">net.bridge.bridge-nf-call-iptables=1</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Initialize</span> <span class="hljs-string">Kubernetes</span> <span class="hljs-string">master</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">kubeadm</span> <span class="hljs-string">init</span> <span class="hljs-string">--kubernetes-version=&#123;&#123;</span> <span class="hljs-string">k8s_version</span> <span class="hljs-string">&#125;&#125;</span> <span class="hljs-string">--pod-network-cidr=&#123;&#123;</span> <span class="hljs-string">pod_subnet</span> <span class="hljs-string">&#125;&#125;</span> <span class="hljs-string">--apiserver-advertise-address=&#123;&#123;</span> <span class="hljs-string">master_ip</span> <span class="hljs-string">&#125;&#125;</span><br>      <span class="hljs-attr">register:</span> <span class="hljs-string">kubeadm_output</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">kubeadm</span> <span class="hljs-string">output</span> <span class="hljs-string">on</span> <span class="hljs-string">master</span> <span class="hljs-string">node</span><br>      <span class="hljs-attr">set_fact:</span><br>        <span class="hljs-attr">kubeadm_output:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; kubeadm_output.stdout_lines[-2:] | join(&#x27; &#x27;) | regex_replace(&#x27;\t&#x27;, &#x27;&#x27;) | regex_replace(&#x27;\\\\&#x27;, &#x27;&#x27;) &#125;&#125;</span>&quot;</span><br>      <span class="hljs-attr">when:</span> <span class="hljs-string">kubeadm_output.stdout_lines</span> <span class="hljs-string">is</span> <span class="hljs-string">defined</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Remove</span> <span class="hljs-string">existing</span> <span class="hljs-string">kubeconfig</span> <span class="hljs-string">file</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">rm</span> <span class="hljs-string">-f</span> <span class="hljs-string">$HOME/.kube/config</span><br>      <span class="hljs-attr">ignore_errors:</span> <span class="hljs-literal">yes</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">kubeconfig</span> <span class="hljs-string">directory</span><br>      <span class="hljs-attr">file:</span><br>        <span class="hljs-attr">path:</span> <span class="hljs-string">$HOME/.kube</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">directory</span><br>        <span class="hljs-attr">owner:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; ansible_user &#125;&#125;</span>&quot;</span><br>        <span class="hljs-attr">group:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; ansible_user &#125;&#125;</span>&quot;</span><br>        <span class="hljs-attr">mode:</span> <span class="hljs-string">&#x27;0755&#x27;</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Copy</span> <span class="hljs-string">kubeconfig</span> <span class="hljs-string">to</span> <span class="hljs-string">user&#x27;s</span> <span class="hljs-string">home</span> <span class="hljs-string">directory</span><br>      <span class="hljs-attr">copy:</span><br>        <span class="hljs-attr">src:</span> <span class="hljs-string">/etc/kubernetes/admin.conf</span><br>        <span class="hljs-attr">dest:</span> <span class="hljs-string">$HOME/.kube/config</span><br>        <span class="hljs-attr">remote_src:</span> <span class="hljs-literal">true</span><br>        <span class="hljs-attr">owner:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; ansible_user &#125;&#125;</span>&quot;</span><br>        <span class="hljs-attr">group:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; ansible_user &#125;&#125;</span>&quot;</span><br>        <span class="hljs-attr">mode:</span> <span class="hljs-string">&#x27;0644&#x27;</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Flannel</span> <span class="hljs-string">pod</span> <span class="hljs-string">network</span> <span class="hljs-string">addon</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">kubectl</span> <span class="hljs-string">apply</span> <span class="hljs-string">-f</span> <span class="hljs-string">https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span><br><br><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">workers</span><br>  <span class="hljs-attr">become:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">vars:</span><br>    <span class="hljs-attr">master_ip:</span> <span class="hljs-string">&quot;10.52.184.221&quot;</span><br><br><br>  <span class="hljs-attr">tasks:</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">net.ipv4.ip_forward</span> <span class="hljs-string">to</span> <span class="hljs-number">1</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">sysctl</span> <span class="hljs-string">net.ipv4.ip_forward=1</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Join</span> <span class="hljs-string">worker</span> <span class="hljs-string">nodes</span> <span class="hljs-string">to</span> <span class="hljs-string">the</span> <span class="hljs-string">cluster</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; hostvars[groups[&#x27;masters&#x27;][0]].kubeadm_output &#125;&#125;</span>&quot;</span><br>      <span class="hljs-attr">register:</span> <span class="hljs-string">join_output</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Debug</span> <span class="hljs-string">join</span> <span class="hljs-string">output</span><br>      <span class="hljs-attr">debug:</span><br>        <span class="hljs-attr">var:</span> <span class="hljs-string">join_output.stdout</span><br>      <span class="hljs-attr">when:</span> <span class="hljs-string">join_output.stdout</span> <span class="hljs-string">is</span> <span class="hljs-string">defined</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Debug</span> <span class="hljs-string">join</span> <span class="hljs-string">error</span><br>      <span class="hljs-attr">debug:</span><br>        <span class="hljs-attr">var:</span> <span class="hljs-string">join_output.stderr</span><br>      <span class="hljs-attr">when:</span> <span class="hljs-string">join_output.stderr</span> <span class="hljs-string">is</span> <span class="hljs-string">defined</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>Step 4: Run the Ansible Playbook:</strong></p><ul><li><p>Run the Ansible playbook using the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">ansible-playbook -i inventory.ini kubernetes-setup.yml<br><br><span class="hljs-comment">## running the playbook with debug model as needed</span><br><span class="hljs-comment"># ansible-playbook -i inventory.ini kubernetes-setup.yml -vvv</span><br></code></pre></td></tr></table></figure></li><li><p>The output is as below:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@centos-0 ansible]<span class="hljs-comment"># ansible-playbook -i inventory.ini  k8s-cluster.yml</span><br><br>PLAY [all] *******************************************************************************************************************************************************************************************************<br>TASK [Gathering Facts] *******************************************************************************************************************************************************************************************ok: [10.52.184.221]<br>ok: [10.52.184.222]<br>ok: [10.52.184.223]<br><br>TASK [Configure Kubernetes Yum repository] ***********************************************************************************************************************************************************************changed: [10.52.184.222]<br>changed: [10.52.184.223]<br>changed: [10.52.184.221]<br><br>TASK [Set SELinux to permissive mode] ****************************************************************************************************************************************************************************changed: [10.52.184.223]<br>changed: [10.52.184.222]<br>changed: [10.52.184.221]<br><br>TASK [Disable firewalld] *****************************************************************************************************************************************************************************************changed: [10.52.184.222]<br>changed: [10.52.184.221]<br>changed: [10.52.184.223]<br><br>TASK [Allow ports 6443 and 10250 <span class="hljs-keyword">in</span> firewall using iptables] *****************************************************************************************************************************************************changed: [10.52.184.221] =&gt; (item=6443)<br>changed: [10.52.184.223] =&gt; (item=6443)<br>changed: [10.52.184.222] =&gt; (item=6443)<br>changed: [10.52.184.221] =&gt; (item=10250)<br>[WARNING]: The value 6443 (<span class="hljs-built_in">type</span> int) <span class="hljs-keyword">in</span> a string field was converted to u<span class="hljs-string">&#x27;6443&#x27;</span> (<span class="hljs-built_in">type</span> string). If this does not look like what you expect, quote the entire value to ensure it does not change.<br>[WARNING]: The value 10250 (<span class="hljs-built_in">type</span> int) <span class="hljs-keyword">in</span> a string field was converted to u<span class="hljs-string">&#x27;10250&#x27;</span> (<span class="hljs-built_in">type</span> string). If this does not look like what you expect, quote the entire value to ensure it does not change.<br>changed: [10.52.184.223] =&gt; (item=10250)<br>changed: [10.52.184.222] =&gt; (item=10250)<br><br>TASK [Disable swap] **********************************************************************************************************************************************************************************************changed: [10.52.184.221]<br>changed: [10.52.184.222]<br>changed: [10.52.184.223]<br><br>TASK [Comment out swap entry <span class="hljs-keyword">in</span> /etc/fstab] **********************************************************************************************************************************************************************changed: [10.52.184.222] =&gt; (item=UUID=xxxxxxxxxx   none            swap    sw              0       0)<br>changed: [10.52.184.223] =&gt; (item=UUID=xxxxxxxxxx   none            swap    sw              0       0)<br>changed: [10.52.184.221] =&gt; (item=UUID=xxxxxxxxxx   none            swap    sw              0       0)<br><br>TASK [Enable bridge and IP forwarding] ***************************************************************************************************************************************************************************changed: [10.52.184.222] =&gt; (item=modprobe br_netfilter)<br>changed: [10.52.184.223] =&gt; (item=modprobe br_netfilter)<br>changed: [10.52.184.221] =&gt; (item=modprobe br_netfilter)<br>changed: [10.52.184.222] =&gt; (item=sysctl net.bridge.bridge-nf-call-iptables=1)<br>changed: [10.52.184.223] =&gt; (item=sysctl net.bridge.bridge-nf-call-iptables=1)<br>changed: [10.52.184.221] =&gt; (item=sysctl net.bridge.bridge-nf-call-iptables=1)<br>changed: [10.52.184.222] =&gt; (item=sysctl net.ipv4.ip_forward=1)<br>changed: [10.52.184.223] =&gt; (item=sysctl net.ipv4.ip_forward=1)<br>changed: [10.52.184.221] =&gt; (item=sysctl net.ipv4.ip_forward=1)<br><br>TASK [Update system packages] ************************************************************************************************************************************************************************************ok: [10.52.184.223]<br>ok: [10.52.184.222]<br>ok: [10.52.184.221]<br><br>TASK [Add Containerd repository] *********************************************************************************************************************************************************************************changed: [10.52.184.221]<br>changed: [10.52.184.223]<br>changed: [10.52.184.222]<br><br>TASK [Install Containerd] ****************************************************************************************************************************************************************************************changed: [10.52.184.222]<br>changed: [10.52.184.223]<br>changed: [10.52.184.221]<br><br>TASK [Configure Containerd] **************************************************************************************************************************************************************************************changed: [10.52.184.223]<br>changed: [10.52.184.222]<br>changed: [10.52.184.221]<br><br>TASK [Start and <span class="hljs-built_in">enable</span> Containerd service] ***********************************************************************************************************************************************************************changed: [10.52.184.223]<br>changed: [10.52.184.222]<br>changed: [10.52.184.221]<br><br>TASK [Install Kubernetes components] *****************************************************************************************************************************************************************************changed: [10.52.184.221]<br>changed: [10.52.184.223]<br>changed: [10.52.184.222]<br><br>TASK [Enable and start kubelet service] **************************************************************************************************************************************************************************changed: [10.52.184.222]<br>changed: [10.52.184.221]<br>changed: [10.52.184.223]<br><br>RUNNING HANDLER [Reload Repository] ******************************************************************************************************************************************************************************ok: [10.52.184.222]<br>ok: [10.52.184.221]<br>ok: [10.52.184.223]<br><br>PLAY [masters] ***************************************************************************************************************************************************************************************************<br>TASK [Gathering Facts] *******************************************************************************************************************************************************************************************ok: [10.52.184.221]<br><br>TASK [Set bridge-nf-call-iptables to 1] **************************************************************************************************************************************************************************changed: [10.52.184.221]<br><br>TASK [Initialize Kubernetes master] ******************************************************************************************************************************************************************************changed: [10.52.184.221]<br><br>TASK [Set kubeadm output on master node] *************************************************************************************************************************************************************************ok: [10.52.184.221]<br><br>TASK [Print <span class="hljs-built_in">join</span> <span class="hljs-built_in">command</span> on master node] *************************************************************************************************************************************************************************skipping: [10.52.184.221]<br><br>TASK [Remove existing kubeconfig file] ***************************************************************************************************************************************************************************[WARNING]: Consider using the file module with state=absent rather than running <span class="hljs-string">&#x27;rm&#x27;</span>.  If you need to use <span class="hljs-built_in">command</span> because file is insufficient you can add <span class="hljs-string">&#x27;warn: false&#x27;</span> to this <span class="hljs-built_in">command</span> task or <span class="hljs-built_in">set</span><br><span class="hljs-string">&#x27;command_warnings=False&#x27;</span> <span class="hljs-keyword">in</span> ansible.cfg to get rid of this message.<br>changed: [10.52.184.221]<br><br>TASK [Create kubeconfig directory] *******************************************************************************************************************************************************************************changed: [10.52.184.221]<br><br>TASK [Copy kubeconfig to user<span class="hljs-string">&#x27;s home directory] ******************************************************************************************************************************************************************changed: [10.52.184.221]</span><br><span class="hljs-string"></span><br><span class="hljs-string">TASK [Install Flannel pod network addon] *************************************************************************************************************************************************************************changed: [10.52.184.221]</span><br><span class="hljs-string"></span><br><span class="hljs-string">PLAY [workers] ***************************************************************************************************************************************************************************************************</span><br><span class="hljs-string">TASK [Gathering Facts] *******************************************************************************************************************************************************************************************ok: [10.52.184.222]</span><br><span class="hljs-string">ok: [10.52.184.223]</span><br><span class="hljs-string"></span><br><span class="hljs-string">TASK [Set net.ipv4.ip_forward to 1] ******************************************************************************************************************************************************************************changed: [10.52.184.222]</span><br><span class="hljs-string">changed: [10.52.184.223]</span><br><span class="hljs-string"></span><br><span class="hljs-string">TASK [Join worker nodes to the cluster] **************************************************************************************************************************************************************************changed: [10.52.184.223]</span><br><span class="hljs-string">changed: [10.52.184.222]</span><br><span class="hljs-string"></span><br><span class="hljs-string">TASK [Debug join output] *****************************************************************************************************************************************************************************************ok: [10.52.184.222] =&gt; &#123;</span><br><span class="hljs-string">    &quot;join_output.stdout&quot;: &quot;[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with &#x27;</span>kubectl -n kube-system get cm kubeadm-config -o yaml<span class="hljs-string">&#x27;\n[kubelet-start] Writing kubelet configuration to file \&quot;/var/lib/kubelet/config.yaml\&quot;\n[kubelet-start] Writing kubelet environment file with flags to file \&quot;/var/lib/kubelet/kubeadm-flags.env\&quot;\n[kubelet-start] Starting the kubelet\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...\n\nThis node has joined the cluster:\n* Certificate signing request was sent to apiserver and a response was received.\n* The Kubelet was informed of the new secure connection details.\n\nRun &#x27;</span>kubectl get nodes<span class="hljs-string">&#x27; on the control-plane to see this node join the cluster.&quot;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">ok: [10.52.184.223] =&gt; &#123;</span><br><span class="hljs-string">    &quot;join_output.stdout&quot;: &quot;[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with &#x27;</span>kubectl -n kube-system get cm kubeadm-config -o yaml<span class="hljs-string">&#x27;\n[kubelet-start] Writing kubelet configuration to file \&quot;/var/lib/kubelet/config.yaml\&quot;\n[kubelet-start] Writing kubelet environment file with flags to file \&quot;/var/lib/kubelet/kubeadm-flags.env\&quot;\n[kubelet-start] Starting the kubelet\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...\n\nThis node has joined the cluster:\n* Certificate signing request was sent to apiserver and a response was received.\n* The Kubelet was informed of the new secure connection details.\n\nRun &#x27;</span>kubectl get nodes<span class="hljs-string">&#x27; on the control-plane to see this node join the cluster.&quot;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">TASK [Debug join error] ******************************************************************************************************************************************************************************************ok: [10.52.184.222] =&gt; &#123;</span><br><span class="hljs-string">    &quot;join_output.stderr&quot;: &quot;&quot;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">ok: [10.52.184.223] =&gt; &#123;</span><br><span class="hljs-string">    &quot;join_output.stderr&quot;: &quot;&quot;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">PLAY RECAP *******************************************************************************************************************************************************************************************************10.52.184.221              : ok=24   changed=19   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   </span><br><span class="hljs-string">10.52.184.222              : ok=21   changed=15   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   </span><br><span class="hljs-string">10.52.184.223              : ok=21   changed=15   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   </span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure></li><li><p>Verify the k8s cluster status from master node</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@CentOS001 ~]<span class="hljs-comment"># kubectl get nodes</span><br>NAME        STATUS   ROLES           AGE     VERSION<br>centos001   Ready    control-plane   4h18m   v1.28.2<br>centos002   Ready    &lt;none&gt;          4h17m   v1.28.2<br>centos003   Ready    &lt;none&gt;          4h17m   v1.28.2<br><br>[root@CentOS001 ~]<span class="hljs-comment"># kubectl get pods -A</span><br>NAMESPACE      NAME                                READY   STATUS    RESTARTS   AGE<br>kube-flannel   kube-flannel-ds-58ztz               1/1     Running   0          4h18m<br>kube-flannel   kube-flannel-ds-d7ktx               1/1     Running   0          4h18m<br>kube-flannel   kube-flannel-ds-jtdtf               1/1     Running   0          4h18m<br>kube-system    coredns-5dd5756b68-fqspp            1/1     Running   0          4h18m<br>kube-system    coredns-5dd5756b68-pvqkw            1/1     Running   0          4h18m<br>kube-system    etcd-centos001                      1/1     Running   0          4h18m<br>kube-system    kube-apiserver-centos001            1/1     Running   0          4h18m<br>kube-system    kube-controller-manager-centos001   1/1     Running   0          4h18m<br>kube-system    kube-proxy-btpvq                    1/1     Running   0          4h18m<br>kube-system    kube-proxy-j6fj4                    1/1     Running   0          4h18m<br>kube-system    kube-proxy-qjkcn                    1/1     Running   0          4h18m<br>kube-system    kube-scheduler-centos001            1/1     Running   0          4h18m<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>NFS server on CentOS8</title>
    <link href="/2023/12/08/nfs-server-on-centos8/"/>
    <url>/2023/12/08/nfs-server-on-centos8/</url>
    
    <content type="html"><![CDATA[<h1 id="NFS-server-on-CentOS8"><a href="#NFS-server-on-CentOS8" class="headerlink" title="NFS server on CentOS8"></a>NFS server on CentOS8</h1><h2 id="Install-and-configure-NFS-server"><a href="#Install-and-configure-NFS-server" class="headerlink" title="Install and configure NFS server"></a>Install and configure NFS server</h2><p><strong>Step 1: Install NFS Packages:</strong></p><ol><li><p>Open a terminal on your CentOS 8 VM.</p></li><li><p>Run the following command to install the necessary NFS packages using</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo yum install nfs-utils<br></code></pre></td></tr></table></figure></li></ol><p><strong>Step 2: Configure NFS Exports:</strong></p><ol><li><p>Create a directory that will be shared with NFS clients. For example, lets create a directory called &#x2F;shared</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">mkdir</span> /shared<br></code></pre></td></tr></table></figure></li><li><p>Assign appropriate permissions to the shared directory:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">chmod</span> -R 777 /shared<br></code></pre></td></tr></table></figure></li><li><p>Open the <code>/etc/exports</code> file in a text editor:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo vi /etc/exports<br></code></pre></td></tr></table></figure></li><li><p>Add an entry in the file to define the shared directory and specify the allowed NFS clients. For example:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/shared 192.168.1.0/24(rw,<span class="hljs-built_in">sync</span>,no_root_squash)<br></code></pre></td></tr></table></figure><ul><li><code>/shared</code>: Path to the directory you created.</li><li><code>192.168.1.0/24</code>: IP address range or specific IP of the NFS clients allowed to access the shared directory.</li><li><code>rw</code>: Allows read and write access.</li><li><code>sync</code>: Synchronizes changes to the disk before acknowledging the request.</li><li><code>no_root_squash</code>: Allows the root user on the NFS client to have root privileges on the NFS server.</li></ul></li></ol><p><strong>Step 3: Start and Enable NFS Services:</strong></p><ol><li><p>Start the NFS server service:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl start nfs-server<br></code></pre></td></tr></table></figure></li><li><p>Enable the NFS server service to start automatically at boot:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl <span class="hljs-built_in">enable</span> nfs-server<br></code></pre></td></tr></table></figure></li></ol><p><strong>Step 4: Configure Firewall for NFS:</strong></p><ol><li><p>If you have a firewall enabled, open the necessary ports for NFS:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo firewall-cmd --permanent --zone=public --add-service=nfs<br>sudo firewall-cmd --permanent --zone=public --add-service=mountd<br>sudo firewall-cmd --permanent --zone=public --add-service=rpc-bind<br>sudo firewall-cmd --reload<br></code></pre></td></tr></table></figure></li></ol><p><strong>Step 5: Export the Shared Directory:</strong></p><ol><li><p>Export the shared directory by running the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo exportfs -r<br></code></pre></td></tr></table></figure></li></ol><p><strong>Step 6: Test NFS Access:</strong></p><ol><li><p>On a client machine, ensure that the NFS utilities package is installed. If not, install it using <code>sudo dnf install nfs-utils</code>.</p></li><li><p>Create a directory on the client machine where you want to mount the NFS share. For example, lets create a directory called</p><p> <code>/mnt/nfs</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">mkdir</span> /mnt/nfs<br></code></pre></td></tr></table></figure></li><li><p>Mount the NFS share from the server to the client:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo mount server_ip:/shared /mnt/nfs<br></code></pre></td></tr></table></figure><ul><li>Replace <code>server_ip</code> with the IP address of your NFS server.</li></ul></li><li><p>Verify that the NFS share is mounted successfully by accessing the <code>/mnt/nfs</code> directory on the client.</p></li></ol><h2 id="Access-NFS-server-shared-folder-from-windows"><a href="#Access-NFS-server-shared-folder-from-windows" class="headerlink" title="Access NFS server shared folder from windows"></a>Access NFS server shared folder from windows</h2><p><strong>Step 1: Enable NFS Client Feature:</strong></p><ol><li>Open the Control Panel on your Windows machine.</li><li>Go to Programs or Programs and Features.</li><li>Click on Turn Windows features on or off.</li><li>Scroll down and locate Services for NFS.</li><li>Check the box next to Client for NFS.</li><li>Click OK and wait for the feature to be installed.</li></ol><p><strong>Step 2: Mount the NFS Share:</strong></p><ol><li><p>Open the File Explorer on your Windows machine.</p></li><li><p>In the address bar, enter the following command, replacing <code>nfs_server_ip</code> with the IP address of your NFS server and <code>shared_directory</code> with the path to the shared directory on the NFS server:</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ceylon">\\nfs<span class="hljs-number">_</span>server<span class="hljs-number">_</span>ip\<span class="hljs-keyword">shared</span><span class="hljs-number">_</span>directory<br></code></pre></td></tr></table></figure><p>For example:</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">\\<span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>\<span class="hljs-keyword">shared</span><br></code></pre></td></tr></table></figure></li><li><p>Press Enter or click on the arrow button to access the NFS share.</p></li><li><p>If prompted, enter the appropriate credentials to access the NFS share (if the NFS server requires authentication).</p></li><li><p>Optional: Use web browser to access the shared folder:</p><p><img src="https://felixyanghui.synology.me:8441/images/2023/12/08/image-20231208113943859.png" alt="image-20231208113943859"></p></li></ol>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag>centos</tag>
      
      <tag>linux</tag>
      
      <tag>NFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Alist on Synology NA</title>
    <link href="/2023/11/21/alist-on-synology-nas/"/>
    <url>/2023/11/21/alist-on-synology-nas/</url>
    
    <content type="html"><![CDATA[<hr><h1 id="Set-up-Alist-on-Synology-NAS"><a href="#Set-up-Alist-on-Synology-NAS" class="headerlink" title="Set up Alist on Synology NAS"></a>Set up Alist on Synology NAS</h1><blockquote><p>If you want to set up downloader with Aria as well , use the other docker image here <a href="https://hub.docker.com/r/xhofe/alist-aria2">https://hub.docker.com/r/xhofe/alist-aria2</a></p></blockquote><h2 id="Install-Alist-through-docker"><a href="#Install-Alist-through-docker" class="headerlink" title="Install Alist through docker"></a>Install Alist through docker</h2><h3 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h3><ul><li><p>Create a folder under <code>docker/alist</code>, grant full permission to Everyone</p></li><li><p>Connect to synology through remote SSH</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">felixy@USLC-FELIXY-M ~ % ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 -c aes256-cbc XXX -p XXX<br><br>felix_yanghui@DS218plus:~$ <br></code></pre></td></tr></table></figure></li></ul><h3 id="Run-Docker"><a href="#Run-Docker" class="headerlink" title="Run Docker"></a>Run Docker</h3><ul><li><p>Run the docker with docker-cli</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">felix_yanghui@DS218plus:~$ sudo docker pull xhofe/alist<br>Password: <br>Using default tag: latest<br>latest: Pulling from xhofe/alist<br>7264a8db6415: Pull complete <br>79745e4f888f: Pull complete <br>3c33e08caf6b: Pull complete <br>45f351bad286: Pull complete <br>a98fc4aad311: Pull complete <br>Digest: sha256:1e931c57d9de771f75c5c853231f215ffd8a684563323fa42138beda8ff42e5a<br>Status: Downloaded newer image for xhofe/alist:latest<br>docker.io/xhofe/alist:latest<br><br>felix_yanghui@DS218plus:~$ sudo docker run -d --restart=always -v /volume1/docker/alist:/opt/alist/data -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist:latest<br>4a1fa7bef232bb549e394dd7338932bad8e2cf467da21e50e927e89c07046f0b<br></code></pre></td></tr></table></figure></li><li><p>set up the new password for Alist container</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">felix_yanghui@DS218plus:~$ sudo docker exec -it alist ./alist admin set &quot;xxx&quot;<br>INFO[2023-11-20 18:51:52] reading config file: data/config.json        <br>INFO[2023-11-20 18:51:52] load config from env with prefix: ALIST_     <br>INFO[2023-11-20 18:51:52] init logrus...                               <br>INFO[2023-11-20 18:51:52] admin user has been updated:                 <br>INFO[2023-11-20 18:51:52] username: admin                              <br>INFO[2023-11-20 18:51:52] password: xxx<br></code></pre></td></tr></table></figure></li></ul><h2 id="Set-up-the-network-connection"><a href="#Set-up-the-network-connection" class="headerlink" title="Set up the network connection"></a>Set up the network connection</h2><ul><li><p>Set up the port maping on router</p><p><img src="https://felixyanghui.synology.me:8441/images/2023/11/21/image-20231120131921976.png" alt="image-20231120131921976"></p></li><li><p>Set up the reverse proxy of the FQDN and port </p><ul><li>Control panel - &gt; System - &gt; logon portal - &gt; Advanced - &gt; Reversed proxy</li></ul></li></ul><h2 id="Access-to-the-Alist-portal-from-external-internet"><a href="#Access-to-the-Alist-portal-from-external-internet" class="headerlink" title="Access to the Alist portal from external internet"></a>Access to the Alist portal from external internet</h2><p><img src="https://felixyanghui.synology.me:8441/images/2023/11/21/image-20231120132259397.png" alt="image-20231120132259397"></p>]]></content>
    
    
    
    <tags>
      
      <tag>synology</tag>
      
      <tag>Alist</tag>
      
      <tag>Docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>How to make a bootable windows 10 USB on a Mac</title>
    <link href="/2023/11/20/how-to-make-a-bootable-windows-10-usb-on-a-mac/"/>
    <url>/2023/11/20/how-to-make-a-bootable-windows-10-usb-on-a-mac/</url>
    
    <content type="html"><![CDATA[<h1 id="How-to-make-a-bootable-windows-10-USB-on-a-Mac"><a href="#How-to-make-a-bootable-windows-10-USB-on-a-Mac" class="headerlink" title="How to make a bootable windows 10 USB on a Mac"></a>How to make a bootable windows 10 USB on a Mac</h1><h2 id="Inset-the-USB-driver"><a href="#Inset-the-USB-driver" class="headerlink" title="Inset the USB driver"></a>Inset the USB driver</h2><h3 id="Open-the-disk-utility-and-format-the-USB-driver"><a href="#Open-the-disk-utility-and-format-the-USB-driver" class="headerlink" title="Open the disk utility and format the USB driver"></a>Open the disk utility and format the USB driver</h3><p><img src="https://felixyanghui.synology.me:8441/images/2023/11/20/image-20231119230448398.png" alt="image-20231119230448398"></p><h2 id="Download-the-windows-10-ISO-file"><a href="#Download-the-windows-10-ISO-file" class="headerlink" title="Download the windows 10 ISO file"></a>Download the windows 10 ISO file</h2><p><a href="https://www.microsoft.com/en-us/software-download/windows10ISO">https://www.microsoft.com/en-us/software-download/windows10ISO</a></p><p>Step-0: Double click the ISO file to mount the disk</p><p>Step-1: Copy all the files expect the folder <code>sources</code>  from ISO mounted driver to USB driver</p><p>Step-2: Create a new folder <code>sources</code> in USB driver</p><p>Step-3: Copy all the files except the <code>install.wim</code> under <code>sources</code> folder of ISO mounted driver, into new folder <code>sources</code> in USB driver</p><h2 id="Split-the-big-file-install-wim"><a href="#Split-the-big-file-install-wim" class="headerlink" title="Split the big file: install.wim"></a>Split the big file: <code>install.wim</code></h2><h3 id="Brew-install-wimlib"><a href="#Brew-install-wimlib" class="headerlink" title="Brew install wimlib"></a>Brew install wimlib</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">felixy@USLC-FELIXY-M ~ % brew install wimlib<br>==&gt; Downloading https://formulae.brew.sh/api/formula.jws.json<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">######################################################################################################################################################################################################################################################## 100.0%</span></span><br>==&gt; Downloading https://formulae.brew.sh/api/cask.jws.json<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">######################################################################################################################################################################################################################################################## 100.0%</span></span><br>Warning: wimlib 1.14.3 is already installed and up-to-date.<br>To reinstall 1.14.3, run:<br>  brew reinstall wimlib<br></code></pre></td></tr></table></figure><h3 id="Split-the-big-file-install-wim-and-output-the-splited-files-to-sources-folder-of-USB-driver"><a href="#Split-the-big-file-install-wim-and-output-the-splited-files-to-sources-folder-of-USB-driver" class="headerlink" title="Split the big file: install.wim and output the splited files to sources folder of USB driver"></a>Split the big file: install.wim and output the splited files to <code>sources</code> folder of USB driver</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">felixy@USLC-FELIXY-M ~ % wimlib-imagex split /Volumes/CCCOMA_X64FRE_ZH-CN_DV9/sources/install.wim /Volumes/WINDOWS10/sources/install.swm 4000 <br>Splitting WIM: 4815 MiB of 4815 MiB (100%) written, part 2 of 2<br>Finished splitting &quot;/Volumes/CCCOMA_X64FRE_ZH-CN_DV9/sources/install.wim&quot;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag>bootable</tag>
      
      <tag>windows</tag>
      
      <tag>Mac</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>-GCP VM</title>
    <link href="/2023/06/12/kuo-zhan-ci-pan-gcp-vm/"/>
    <url>/2023/06/12/kuo-zhan-ci-pan-gcp-vm/</url>
    
    <content type="html"><![CDATA[<hr><p>[TOC]</p><blockquote><p>Weeks ago, I created a GCP VM for the VPN and Jupyter notebook server, however I used the minimum spec in order to save the cost. The disk was only 10G, which could not meet the requirements of Pytorch installation, so I got to extend the capacity of my vm disk to which is 20G in my case.</p><p>The Pytorch is required in transformers.GPT2LMHeadModel</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-comment"># Import the necessary libraries</span><br><span class="hljs-number">2</span> <span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> GPT2Tokenizer, GPT2LMHeadModel<br><span class="hljs-number">3</span><br><span class="hljs-number">4</span> <span class="hljs-comment"># Load the pre-trained GPT-2 tokenizer and model</span><br><span class="hljs-number">5</span> tokenizer = GPT2Tokenizer.from_pretrained(<span class="hljs-string">&#x27;gpt2&#x27;</span>)<br><span class="hljs-number">6</span> model = GPT2LMHeadModel.from_pretrained(<span class="hljs-string">&#x27;gpt2&#x27;</span>)<br><span class="hljs-number">7</span><br><span class="hljs-number">8</span> <span class="hljs-comment"># Set the model to evaluation mode</span><br><span class="hljs-number">9</span> model.<span class="hljs-built_in">eval</span>()<br><span class="hljs-number">10</span><br><span class="hljs-number">11</span> <span class="hljs-comment"># Define a prompt for the model to complete</span><br><span class="hljs-number">12</span> prompt = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;You: &quot;</span>)<br><span class="hljs-number">13</span><br><span class="hljs-number">14</span> <span class="hljs-comment"># Tokenize the prompt and generate text</span><br><span class="hljs-number">15</span> input_ids = tokenizer.encode(prompt, return_tensors=<span class="hljs-string">&#x27;pt&#x27;</span>)<br><span class="hljs-number">16</span> output = model.generate(input_ids, max_length=<span class="hljs-number">50</span>, do_sample=<span class="hljs-literal">True</span>)<br><span class="hljs-number">17</span><br><span class="hljs-number">18</span> <span class="hljs-comment"># Decode the generated text and print it to the console</span><br><span class="hljs-number">19</span> generated_text = tokenizer.decode(output[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)<br><span class="hljs-number">20</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AI: &quot;</span> + generated_text)<br></code></pre></td></tr></table></figure></blockquote><h1 id="Install-Pytorch"><a href="#Install-Pytorch" class="headerlink" title="Install Pytorch"></a>Install Pytorch</h1><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Refer to <a href="https://pytorch.org/get-started/locally/">PyTorch</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip3 install torch torchvision --no-cache-dir<br></code></pre></td></tr></table></figure><blockquote><p>By default, pip will download all the packages into memory instead of the disk for installation, use <code>--no-cache-dir</code> to avoid downloading them into memory.</p></blockquote><h2 id="VERIFICATION"><a href="#VERIFICATION" class="headerlink" title="VERIFICATION"></a>VERIFICATION</h2><p>To ensure that PyTorch was installed correctly, we can verify the installation by running sample PyTorch code. Here we will construct a randomly initialized tensor.</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import torch<br>x = torch<span class="hljs-selector-class">.rand</span>(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x)</span></span><br></code></pre></td></tr></table></figure><p>The output should be something similar to:</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs inform7">tensor(<span class="hljs-comment">[<span class="hljs-comment">[0.3380, 0.3845, 0.3217]</span>,</span><br><span class="hljs-comment">        <span class="hljs-comment">[0.8337, 0.9050, 0.2650]</span>,</span><br><span class="hljs-comment">        <span class="hljs-comment">[0.2979, 0.7141, 0.9069]</span>,</span><br><span class="hljs-comment">        <span class="hljs-comment">[0.1449, 0.1132, 0.1375]</span>,</span><br><span class="hljs-comment">        <span class="hljs-comment">[0.4675, 0.3947, 0.1426]</span>]</span>)<br></code></pre></td></tr></table></figure><h1 id="Extend-disk-of-GCP-VM"><a href="#Extend-disk-of-GCP-VM" class="headerlink" title="Extend disk of GCP VM"></a>Extend disk of GCP VM</h1><p>Refer to <a href="https://cloud.google.com/compute/docs/disks/resize-persistent-disk?hl=zh-cn">Increase the size of a persistent disk</a></p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag>GCP</tag>
      
      <tag>Pytorch</tag>
      
      <tag>Disk</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jupyter Notebook on Cloud</title>
    <link href="/2023/06/09/jupyter-notebook-on-cloud/"/>
    <url>/2023/06/09/jupyter-notebook-on-cloud/</url>
    
    <content type="html"><![CDATA[<hr><p>[TOC]</p><h1 id="jupyter-notebook-server"><a href="#jupyter-notebook-server" class="headerlink" title="jupyter notebook server"></a>jupyter notebook server</h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul><li></li><li>https</li><li>notebook chatgpt</li></ul><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul><li>Google Cloud VM (ubuntu server 18.4)<ul><li>VPC network rule8443 jupyter server</li></ul></li><li>DNS xxx.excelsre.com</li><li>HTTPS <ul><li>certbot</li></ul></li></ul><h2 id="jupyter-server"><a href="#jupyter-server" class="headerlink" title="jupyter server"></a>jupyter server</h2><h3 id="SSH-GCP-VM"><a href="#SSH-GCP-VM" class="headerlink" title="SSH GCP VM"></a>SSH GCP VM</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh -i /Users/&lt;username&gt;/.ssh/id_rsa &lt;your-user-name-for-ssh&gt;@&lt;public-ip or hostname&gt;<br></code></pre></td></tr></table></figure><h3 id="jupyter-notebook"><a href="#jupyter-notebook" class="headerlink" title="jupyter notebook"></a>jupyter notebook</h3><ol><li><p>Ubuntu jupyter2</p><ul><li><p>apt </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install jupyter notebook<br></code></pre></td></tr></table></figure></li><li><p>pip3python3jupyter</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt-get install -y python3-pip<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>pip3 install --upgrade pip<br><br>pip3 install jupyter<br></code></pre></td></tr></table></figure></li></ul></li><li><p>HTTPS </p><ul><li><p>certbot </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo certbot certonly --standalone<br></code></pre></td></tr></table></figure><blockquote><p> <code>/etc/letsencrypt/live/&lt;YOUR.DOMAIN.COM/&gt;</code> 90 cron job ,  <code>crontab -e</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">0 0 1 * * /usr/bin/certbot renew --force-renewal<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">jupyter notebook servicehttps://github.com/libuliduobuqiuqiu/Jupyter_Control/blob/master/jupyter.sh</span><br></code></pre></td></tr></table></figure></blockquote></li><li><p>ownerrootuser jupyter serverowner </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo chown &lt;user&gt;:&lt;user&gt; cert.pem<br>sudo chown &lt;user&gt;:&lt;user&gt; privkey.pem<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">jupyter notebook --generate-config<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">jupyter notebook password<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">vi ~/.jupyter/jupyter_notebook_config.py<br><br><span class="hljs-comment"># </span><br><br><span class="hljs-comment"># </span><br>c.NotebookApp.ip = <span class="hljs-string">&#x27;0.0.0.0&#x27;</span><br>c.NotebookApp.port = 8443<br><br><span class="hljs-comment"># </span><br>c.NotebookApp.allow_remote_access = True<br><br><span class="hljs-comment"># HTTPS </span><br>c.NotebookApp.certfile = <span class="hljs-string">&#x27;/etc/letsencrypt/live/&lt;your-domain-name&gt;/cert.pem&#x27;</span><br>c.NotebookApp.keyfile = <span class="hljs-string">&#x27;/etc/letsencrypt/live/&lt;your-domain-name&gt;/privkey.pem&#x27;</span><br><br><span class="hljs-comment"># notbook</span><br>c.NotebookApp.open_browser = False<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v <span class="hljs-string">&#x27;^#&#x27;</span> ~/.jupyter/jupyter_notebook_config.py | sed <span class="hljs-string">&#x27;/^\s*$/d&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li></ol><h3 id="jupyter-notebook-server"><a href="#jupyter-notebook-server" class="headerlink" title="jupyter notebook server"></a>jupyter notebook server</h3><ol><li><p>notebook </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> jupyter_workspace<br><span class="hljs-built_in">cd</span> jupyter_workspace/<br></code></pre></td></tr></table></figure></li><li><p>jupyterroot owner root root owner user</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sudo</span> nohup jupyter notebook --<span class="hljs-literal">allow</span>-root &gt; ../log <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &amp;<br></code></pre></td></tr></table></figure><blockquote><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>jupyter notebook<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"> &gt;</span><br>nohup jupyter notebook &gt;/usr/local/JupyterNotebook/jupyterLog/jupyter.log 2&gt;&amp;1 &amp;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">root</span><br>jupyter notebook ---allow-root<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>nohup jupyter notebook --ip=0.0.0.0 --port=8080 --no-browser --allow-root &gt;~/usr/local/JupyterNotebook/jupyterLog/jupyter.log 2&gt;&amp;1 &amp;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>ps -ef |grep jupyter      <br><br>kill -9 &quot;&quot;          <br></code></pre></td></tr></table></figure></blockquote></li></ol><h2 id="jupyter-notebook-server"><a href="#jupyter-notebook-server" class="headerlink" title="jupyter notebook server"></a>jupyter notebook server</h2><p><a href="https://domain-name:8443/">https://domain-name:8443</a></p><img src="https://felixyanghui.synology.me:8441/images/2023/06/09/image-20230609163901711.png" alt="image-20230609163901711" style="zoom: 50%;" />]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag>cloud</tag>
      
      <tag>jupyter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title> - </title>
    <link href="/2023/06/06/ke-xue-shang-wang-zui-jia-shi-jian/"/>
    <url>/2023/06/06/ke-xue-shang-wang-zui-jia-shi-jian/</url>
    
    <content type="html"><![CDATA[<hr><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p> <a href="https://github.com/haoel/haoel.github.io">https://github.com/haoel/haoel.github.io</a> </p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="Google-Cloud-VM"><a href="#Google-Cloud-VM" class="headerlink" title="Google Cloud VM"></a>Google Cloud VM</h3><ol><li><p>VPC </p><ul><li><em></em> <em>name of the vac</em></li><li><em></em></li><li><em></em><ul><li><em>name of the subnet</em></li><li><em> select the region</em></li><li><em>IPv4  IP address range for the subnet</em></li></ul></li><li><em></em><ul><li><em> allow-icmp, allow-rep, allow-ssh</em></li><li><em>allow-https443 </em></li></ul></li></ul></li><li><p>VM Computer Engine - &gt;  -&gt; </p><ul><li><p><em> name of the VM</em></p></li><li><p><em>&#x2F;select the region and AZ</em> </p><blockquote><p><em>TW asia-east1</em></p></blockquote></li><li><p><em></em></p><ul><li><em>  N1</em></li><li><em> e2-micro</em></li></ul></li><li><p><em></em></p><ul><li><em>image Ubuntu 18.04 LTS</em></li></ul></li><li><p><em></em></p><ul><li><em>HTTPS </em></li></ul></li><li><p><em> - &gt; </em></p><ul><li><em> VPC </em></li></ul></li></ul></li><li><p>SSH VM</p><ul><li><p>SSH public key (macOS)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh-keygen -t rsa -f ~/.ssh/&lt;username&gt;_gcp_key -C &lt;your-user-name-for-SSH&gt;<br></code></pre></td></tr></table></figure></li><li><p>public keyVM</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat ~/.ssh/&lt;username&gt;_gcp_key.pub<br></code></pre></td></tr></table></figure><p> -&gt;  -&gt; SSH  -&gt;  public key</p></li><li><p>SSH VM</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh -i /Users/&lt;username&gt;/.ssh/id_rsa &lt;your-user-name-for-ssh&gt;@&lt;public-ip or hostname&gt;<br></code></pre></td></tr></table></figure></li></ul></li></ol><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get update<br>sudo install -m 0755 -d /etc/apt/keyrings<br>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg<br>sudo chmod a+r /etc/apt/keyrings/docker.gpg<br><br>echo   &quot;deb [arch=&quot;$(dpkg --print-architecture)&quot; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \<br>    &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; |   sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null<br><br>sudo apt-get update<br>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin<br><br>sudo docker run hello-world<br></code></pre></td></tr></table></figure><h3 id="TCP-BBR-"><a href="#TCP-BBR-" class="headerlink" title="TCP BBR "></a>TCP BBR </h3><blockquote><p>TCP BBRBottleneck Bandwidth and Round-trip propagation timeGoogle2016BBRBBRCUBICGoogleYouTubeYouTube4%14%</p><p>BBRLinux4.9QUIC</p><p> <a href="https://github.com/iMeiji/shadowsocks_install/wiki/%E5%BC%80%E5%90%AF-TCP-BBR-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95">TCP BBR</a> </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">uname -r<br>lsmod | grep bbr<br>sudo modprobe tcp_bbr<br>echo &quot;tcp_bbr&quot; | sudo tee --append /etc/modules-load.d/modules.conf<br>echo &quot;net.core.default_qdisc=fq&quot; | sudo tee --append /etc/sysctl.conf<br>echo &quot;net.ipv4.tcp_congestion_control=bbr&quot; | sudo tee --append /etc/sysctl.conf<br>sudo sysctl -p<br>sysctl net.ipv4.tcp_available_congestion_control<br>sysctl net.ipv4.tcp_congestion_control<br>lsmod | grep bbr<br></code></pre></td></tr></table></figure><h3 id="-DNSHTTPS"><a href="#-DNSHTTPS" class="headerlink" title=" DNSHTTPS"></a> DNSHTTPS</h3><ol><li><p></p><ul><li>DNSPod DNS </li></ul></li><li><p>DNS </p><ul><li>A  </li></ul></li><li><p>certbot</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install snapd<br>sudo snap install core<br>sudo snap refresh core<br>sudo snap install --classic certbot<br>sudo ln -s /snap/bin/certbot /usr/bin/certbot<br>sudo certbot renew --dry-run<br><br></code></pre></td></tr></table></figure></li><li><p>standalone VM</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo certbot certonly --standalone</span><br></code></pre></td></tr></table></figure><p> <code>/etc/letsencrypt/live/&lt;YOUR.DOMAIN.COM/&gt;</code> 90 cron job ,  <code>crontab -e</code> </p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span> * * /<span class="hljs-keyword">usr</span>/bin/certbot renew --force-renewal<br><span class="hljs-symbol">5 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span> * * /<span class="hljs-keyword">usr</span>/bin/docker restart gost<br></code></pre></td></tr></table></figure></li></ol><h3 id="GostHTTPS-"><a href="#GostHTTPS-" class="headerlink" title="GostHTTPS "></a>GostHTTPS </h3><p><a href="https://github.com/ginuerzh/gost">gost</a>  HTTPS Web<strong></strong></p><p> gost  Docker  gost </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">felix_yang@c1ws-test:~$ cat gost_install.sh<br><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>DOMAIN=&quot;YOU.DOMAIN.NAME&quot;<br>USER=&quot;username&quot;<br>PASS=&quot;password&quot;<br>PORT=443<br><br>BIND_IP=0.0.0.0<br>CERT_DIR=/etc/letsencrypt<br>CERT=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/fullchain.pem<br>KEY=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/privkey.pem<br>sudo docker run -d --name gost \<br>    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \<br>    --net=host ginuerzh/gost \<br>    -L &quot;http2://$&#123;USER&#125;:$&#123;PASS&#125;@$&#123;BIND_IP&#125;:$&#123;PORT&#125;?cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=web:www.bing.com&amp;knock=www.google.com&quot;<br></code></pre></td></tr></table></figure><blockquote><p><strong>Note:</strong> </p><ol><li><p> Gost <code>probe_resist=web:www.bing.com</code>bing.com Web </p></li><li><p> <code>407 Proxy Authentication Required</code>(Chrome SwitchyOmega )knock407<code>knock</code><code>www.google.com</code> <code>https://www.google.com</code>  <code>407</code> SwitchyOmega </p></li><li><p>auth <code>auth</code>  gost  2.9.2+ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell">DOMAIN=&quot;YOU.DOMAIN.NAME&quot;<br>USER=&quot;username&quot;<br>PASS=&quot;password&quot;<br>PORT=443<br>AUTH=$(echo -n $&#123;USER&#125;:$&#123;PASS&#125; | base64)<br>   <br>BIND_IP=0.0.0.0<br>CERT_DIR=/etc/letsencrypt<br>CERT=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/fullchain.pem<br>KEY=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/privkey.pem<br>sudo docker run -d --name gost \<br>    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \<br>    --net=host ginuerzh/gost \<br>    -L &quot;http2://$&#123;USER&#125;:$&#123;PASS&#125;@$&#123;BIND_IP&#125;:$&#123;PORT&#125;?cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=web:www.bing.com&amp;knock=www.google.com&quot;<br></code></pre></td></tr></table></figure></li></ol></blockquote><p> </p><ul><li><code>sudo docker ps</code>  gost </li><li><code>netstat -nolp | grep 443</code>  gost  443 </li><li><code>sudo docker logs gost</code>  gost </li></ul><p> gost </p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">curl -v <span class="hljs-string">&quot;https://www.google.com&quot;</span> --proxy <span class="hljs-string">&quot;https://DOMAIN&quot;</span> --proxy-<span class="hljs-keyword">user</span> <span class="hljs-title">&#x27;USER</span>:PASS&#x27;<br></code></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ol><li><p> - Chrome </p><ul><li><p><a href="chrome-extension://padekgcemlokbadohgkifijomclgjgif/options.html#!/about">SwitchyOmega</a></p><img src="https://felixyanghui.synology.me:8441/images/2023/06/06/image-20230606112051680.png" alt="image-20230606112051680" style="zoom:50%;" /></li><li><p><code>knock</code></p></li></ul></li><li><p>iPhone&#x2F;iPad - Shadowrocket</p><blockquote><p> How to get Shadowrocket:   taobao , appstore 2appstore </p></blockquote><img src="https://felixyanghui.synology.me:8441/images/2023/06/06/image-20230606111533591.png" alt="image-20230606111533591" style="zoom:50%;" /></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>OpenAI GPT For Python Developers</title>
    <link href="/2023/05/30/openai-gpt-for-python-developers/"/>
    <url>/2023/05/30/openai-gpt-for-python-developers/</url>
    
    <content type="html"><![CDATA[<hr><p><img src="https://felixyanghui.synology.me:8441/images/2023/05/30/image-20230530182644993.png" alt="image-20230530182644993"></p><p>[TOC]</p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id="What-is-ChatGPT-GPT-GPT-3-DALL-E-Codex"><a href="#What-is-ChatGPT-GPT-GPT-3-DALL-E-Codex" class="headerlink" title="What is ChatGPT, GPT, GPT-3, DALL-E, Codex?"></a>What is ChatGPT, GPT, GPT-3, DALL-E, Codex?</h2><h3 id="Story-of-OpenAI"><a href="#Story-of-OpenAI" class="headerlink" title="Story of OpenAI"></a>Story of OpenAI</h3><p>An artificial intelligence research laboratory consisting of the for-profit corporation OpenAI LP and its parent company, the non-profit OpenAI Inc.</p><ul><li><p>Y2015, promoting and developing a friendly AI in a way that benefits humanity as a whole </p></li><li><p><em><strong>Sam Altman, Elon Musk,</strong> Greg Brockman, Reid Hoffman, Jessica Livingston, Peter Thiel, Amazon</em></p><p><em>Web Services (AWS), Infosys, and YC Research announced the formation of OpenAI and pledged</em></p><p><em>over <strong>US$1 billion</strong> to the venture.</em></p></li><li><p>Y2016, relase Universe, a software platform for measuring and training an AIs general intelligence accross the worlds supply of games, websites and other applications</p></li><li><p><strong>Y2018, Elon Musk resigned from his board seat</strong>, but remained a donor.</p></li><li><p>Y2019, transitioned from non-profit to capped-profit (profit cap set to 100 times on any investment), The company distributed equity to its employees and partnered with <strong>Microsoft, which announced an investment package of US$1 billion into the company</strong>.</p></li><li><p>Y2020, GPT-3, a language model trained on trillions of words from the Internet.</p></li><li><p>Y2021, DALL-E, a deep-learning model that can generate digital images from natural language descriptions.</p></li><li><p><strong>Y2022, ChatGPT  - </strong></p></li></ul><h3 id="ChatGPT"><a href="#ChatGPT" class="headerlink" title="ChatGPT"></a>ChatGPT</h3><p>ChatGPT simply stands for <strong>G</strong>enerative <strong>P</strong>re-trained <strong>T</strong>ransformer, is built on top of OpenAIs GPT-3 family of large language models.</p><p>Other projects using GPT-3 are:</p><ul><li><p><em>GitHub Copilot (using the OpenAI Codex model, a descendant of GPT-3, fine-tuned for generating code)</em></p></li><li><p><em>Copy.ai and  Jasper.ai (content generation for marketing purposes)</em></p></li><li><p><em>Drexel University (detection of early signs of Alzheimers disease)</em></p></li><li><p><em>Algolia (enhancing their search engine capabilities)</em></p></li></ul><h3 id="What-we-can-do-with-GPT"><a href="#What-we-can-do-with-GPT" class="headerlink" title="What we can do with GPT?"></a>What we can do with GPT?</h3><ol><li><p><em>By the end of your learning journey, you will have built applications such as:</em></p><ul><li><p>A fine-tuned medical chatbot assistant</p></li><li><p>An intelligent coffee recommendation system</p></li><li><p>An intelligent conversational system with memory and context</p></li><li><p>An AI voice assistant like Alexa but smarter</p></li><li><p>A Chatbot assistant to help with Linux commands</p></li><li><p>A semantic search engine</p></li><li><p>A news category prediction system</p></li><li><p>An image recognition intelligent system (image to text)</p></li><li><p>An image generator (text to image)</p></li><li><p>and more!</p></li></ul></li><li><p>By reading this guide and following the examples, you will be able to:</p><ul><li><p>Understand the different models available, and how and when to use each one.</p></li><li><p>Generate human-like text for various purposes, such as answering questions, creating content, and other creative uses.</p></li><li><p>Control the creativity of GPT models and adopt the best practices to generate high-quality text.</p></li><li><p>Transform and edit the text to perform translation, formatting, and other useful tasks.</p></li><li><p>Optimize the performance of GPT models using the various parameters and options such as suffix, max_tokens, temperature, top_p, n, stream, logprobs, echo, stop, presence_penalty, frequency_penalty, best_of, and others.</p></li><li><p>Stem, lemmatize, and reduce your bills when using the API</p></li><li><p>Understand Context Stuffing, chaining, and practice using advanced techniques</p></li><li><p>Understand text embedding and how companies such as Tesla and Notion are using it</p></li><li><p>Understand and implement semantic search and other advanced tools and concepts.</p></li><li><p>Creating prediction algorithms and zero-shot techniques and evaluating their accuracy </p></li><li><p>Understand, practice, and improve few-shot learning.</p></li><li><p>Understand fine-tuning and leveraging its power to create your own models.</p></li><li><p>Understand and use the best practices to create your own models.</p></li><li><p>Practice training and classification techniques using GPT.</p></li><li><p>Create advanced fine-tuned models.</p></li><li><p>Use OpenAI Whisper and other tools to create intelligent voice assistants.</p></li><li><p>Implement image classification using OpenAI CLIP.</p></li><li><p>Generate and edit images using OpenAI DALL-E.</p></li><li><p>Draw inspiration from other images to create yours.</p></li><li><p>Reverse engineer images prompts from Stable Diffusion (image to text)</p></li></ul></li></ol><h2 id="How-Does-GPT-Work"><a href="#How-Does-GPT-Work" class="headerlink" title="How Does GPT Work?"></a>How Does GPT Work?</h2><h3 id="Deep-Learning-Machine-Learning-and-AI"><a href="#Deep-Learning-Machine-Learning-and-AI" class="headerlink" title="Deep Learning, Machine Learning and AI"></a><a href="https://learn.microsoft.com/zh-cn/azure/machine-learning/concept-deep-learning-vs-machine-learning?view=azureml-api-2">Deep Learning, Machine Learning and AI</a></h3><p><img src="https://felixyanghui.synology.me:8441/images/2023/06/10/ai-vs-machine-learning-vs-deep-learning.png" alt="AI"></p><blockquote><ul><li><strong>Deep learning</strong> is a subset of machine learning thats based on <strong>artificial neural networks</strong>. The <em>learning process</em> is <em>deep</em> because the structure of artificial neural networks consists of multiple input, output, and hidden layers. Each layer contains units that transform the input data into information that the next layer can use for a certain predictive task. Thanks to this structure, a machine can learn through its own data processing.</li><li><strong>Generative AI</strong> is a subset of artificial intelligence that uses techniques (such as deep learning) to generate new content. For example, you can use generative AI to create images, text, or audio. These models leverage massive pre-trained knowledge to generate this content.</li></ul></blockquote><h3 id="Artificial-neural-networks"><a href="#Artificial-neural-networks" class="headerlink" title="Artificial neural networks"></a>Artificial neural networks</h3><p>Artificial neural networks are formed by layers of connected nodes. Deep learning models use neural networks that have a large number of layers.</p><p>The following are most popular artificial neural network typologies and models</p><ul><li><p>Feedforward neural network</p></li><li><p>Recurrent neural network (RNN)</p></li><li><p>Convolutional neural network (CNN)</p></li><li><p>Generative adversarial network (GAN)</p></li><li><p><strong>Transformers</strong></p></li></ul><h3 id="Transformers"><a href="#Transformers" class="headerlink" title="Transformers"></a>Transformers</h3><p>Transformers are a model architecture of <strong>Artificial neural networks</strong> that is suited for solving problems containing sequences such as text or time-series data. They consist of <a href="https://en.wikipedia.org/wiki/Transformer_(machine_learning_model)#Encoder">encoder and decoder layers</a>. The encoder takes an input and maps it to a numerical representation containing information such as context. The decoder uses information from the encoder to produce an output such as translated text. What makes transformers different from other architectures containing encoders and decoders are the attention sub-layers. Attention is the idea of focusing on specific parts of an input based on the importance of their context in relation to other inputs in a sequence. For example, when summarizing a news article, not all sentences are relevant to describe the main idea. By focusing on key words throughout the article, summarization can be done in a single sentence, the headline.</p><p>Transformers have been used to solve natural language processing problems such as translation, text generation, question answering, and text summarization.</p><p>Some well-known implementations of transformers are:</p><ul><li>Bidirectional Encoder Representations from Transformers (BERT)</li><li>Generative Pre-trained Transformer 2 (<strong>GPT</strong>-2)</li><li>Generative Pre-trained Transformer 3 (<strong>GPT</strong>-3)</li></ul><h3 id="GPT-Generative-Pre-trained-Transformer"><a href="#GPT-Generative-Pre-trained-Transformer" class="headerlink" title="GPT (Generative Pre-trained Transformer)"></a>GPT (<strong>G</strong>enerative <strong>P</strong>re-trained <strong>T</strong>ransformer)</h3><p>GPT is a type of neural network called a transformer, which is specifically designed for natural language processing tasks. The architecture of a transformer is based on a series of <em><strong>self-attention</strong></em> mechanisms that allow the model to process input text in parallel and weigh the importance of each word or token based on its context.</p><h3 id="Self-attention"><a href="#Self-attention" class="headerlink" title="Self-attention"></a>Self-attention</h3><p>Self-attention is a mechanism used in deep learning models for natural language processing (NLP) that allows a model to weigh the importance of different parts of a sentence or a number of sentences when making predictions. Part of the Transformer architecture, it enables a neural network to achieve a satisfactory degree of performance when it comes to NLP tasks.</p><h3 id="How-GPT-generate-text-differently-from-other"><a href="#How-GPT-generate-text-differently-from-other" class="headerlink" title="How GPT generate text differently from other"></a>How GPT generate text differently from other</h3><p>An example of using Hugging Face transformers for GPT-2 interface</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline<br><span class="hljs-number">2</span> generator = pipeline(<span class="hljs-string">&#x27;text-generation&#x27;</span>, model = <span class="hljs-string">&#x27;gpt2&#x27;</span>)<br><span class="hljs-number">3</span> generator(<span class="hljs-string">&quot;Hello, I&#x27;m a language model&quot;</span>, max_length = <span class="hljs-number">30</span>, num_return_sequences=<span class="hljs-number">3</span>)<br><span class="hljs-number">4</span> <span class="hljs-comment">## [&#123;&#x27;generated_text&#x27;: &quot;Hello, I&#x27;m a language modeler. So while writing this, when I\</span><br><span class="hljs-number">5</span> went out to meet my wife <span class="hljs-keyword">or</span> come home she told me that my<span class="hljs-string">&quot;&#125;,</span><br><span class="hljs-string">6 ## &#123;&#x27;generated_text&#x27;: &quot;</span>Hello, I<span class="hljs-string">&#x27;m a language modeler. I write and maintain software\</span><br><span class="hljs-string">7 in Python. I love to code, and that includes coding things that require writing&quot;&#125;, \</span><br><span class="hljs-string">8 ...</span><br></code></pre></td></tr></table></figure><p>By default, a model has no memory, this means that each input is processed independently, without any information being carried over from previous inputs. When GPT generates text, it doesnt have any preconceived notions about what should come next based on previous inputs. <strong>Instead, it generates <em>each word</em> based on the probability of it being the next likely word given the previous input</strong>. This results in text that can be surprising and creative.</p><p>GPT<strong></strong><strong></strong></p><p>This is another example of code that uses a GPT model to generate text based on user input.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Import the necessary libraries</span><br><span class="hljs-number">2</span> <span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> GPT2Tokenizer, GPT2LMHeadModel<br><span class="hljs-number">3</span><br><span class="hljs-number">4</span> <span class="hljs-comment"># Load the pre-trained GPT-2 tokenizer and model</span><br><span class="hljs-number">5</span> tokenizer = GPT2Tokenizer.from_pretrained(<span class="hljs-string">&#x27;gpt2&#x27;</span>)<br><span class="hljs-number">6</span> model = GPT2LMHeadModel.from_pretrained(<span class="hljs-string">&#x27;gpt2&#x27;</span>)<br><span class="hljs-number">7</span><br><span class="hljs-number">8</span> <span class="hljs-comment"># Set the model to evaluation mode</span><br><span class="hljs-number">9</span> model.<span class="hljs-built_in">eval</span>()<br><span class="hljs-number">10</span><br><span class="hljs-number">11</span> <span class="hljs-comment"># Define a prompt for the model to complete</span><br><span class="hljs-number">12</span> prompt = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;You: &quot;</span>)<br><span class="hljs-number">13</span><br><span class="hljs-number">14</span> <span class="hljs-comment"># Tokenize the prompt and generate text</span><br><span class="hljs-number">15</span> input_ids = tokenizer.encode(prompt, return_tensors=<span class="hljs-string">&#x27;pt&#x27;</span>)<br><span class="hljs-number">16</span> output = model.generate(input_ids, max_length=<span class="hljs-number">50</span>, do_sample=<span class="hljs-literal">True</span>)<br><span class="hljs-number">17</span><br><span class="hljs-number">18</span> <span class="hljs-comment"># Decode the generated text and print it to the console</span><br><span class="hljs-number">19</span> generated_text = tokenizer.decode(output[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)<br><span class="hljs-number">20</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AI: &quot;</span> + generated_text)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install openai<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install --upgrade openai<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br>openai.api_key = <span class="hljs-string">&#x27;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&#x27;</span><br><br>models = openai.Model.<span class="hljs-built_in">list</span>()<br>datas = models[<span class="hljs-string">&#x27;data&#x27;</span>]<br><span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> datas:<br>    <span class="hljs-built_in">print</span>(data[<span class="hljs-string">&#x27;id&#x27;</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br>openai.api_key = <span class="hljs-string">&#x27;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&#x27;</span><br><br><br>response = openai.ChatCompletion.create(<br>    model=<span class="hljs-string">&quot;gpt-3.5-turbo&quot;</span>,<br>    messages=[<br>        &#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;system&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;Assistant is a large language model trained by OpenAI.&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;Who were the founders of Microsoft?&quot;</span>&#125;<br>    ]<br>)<br><br><span class="hljs-built_in">print</span>(response[<span class="hljs-string">&#x27;choices&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;message&#x27;</span>][<span class="hljs-string">&#x27;content&#x27;</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install transformers<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> GPT2Tokenizer, GPT2LMHeadModel<br><br>tokenizer = GPT2Tokenizer.from_pretrained(<span class="hljs-string">&#x27;gpt2&#x27;</span>)<br>model = GPT2LMHeadModel.from_pretrained_pretrained(<span class="hljs-string">&#x27;gpt2&#x27;</span>)<br><br>model.<span class="hljs-built_in">eval</span>()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">openai.api_key = <span class="hljs-string">&#x27;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&#x27;</span><br><span class="hljs-built_in">print</span>(openai.api_key)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>models = openai.Model.<span class="hljs-built_in">list</span>()<br>datas = models[<span class="hljs-string">&#x27;data&#x27;</span>]<br><span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> datas:<br>    <span class="hljs-built_in">print</span>(data[<span class="hljs-string">&#x27;id&#x27;</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">15</span>,<br>    temperature=<span class="hljs-number">0.5</span><br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h2 id="Using-GPT-Text-Completions"><a href="#Using-GPT-Text-Completions" class="headerlink" title="Using GPT Text Completions"></a>Using GPT Text Completions</h2><h3 id="Logprobs"><a href="#Logprobs" class="headerlink" title="Logprobs"></a>Logprobs</h3><p>To increase the possibilities, we can use the logprobs prameters. For example, setting logprobs to 2 will return two versions of each token</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">15</span>,<br>    temperature=<span class="hljs-number">0</span>,<br>    logprobs=<span class="hljs-number">3</span>,<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h3 id="Streaming-the-Results"><a href="#Streaming-the-Results" class="headerlink" title="Streaming the Results"></a>Streaming the Results</h3><p>Another common parameter we can use in OpenAI is the stream. It is possible to instruct the API to return a stream of tokens instead of a block containing all tokens. In this case, the API will return a generator that yields tokens in the order they were generated.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">7</span>,<br>    stream=<span class="hljs-literal">True</span>,<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-built_in">next</span>))<br><br><br><span class="hljs-comment"># # * will unpack the generator</span><br><span class="hljs-comment"># print(*next, sep=&#x27;\n&#x27;)</span><br><br><span class="hljs-comment"># Read the generator text elements one by one</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">next</span>:<br>    <span class="hljs-built_in">print</span>(i[<span class="hljs-string">&quot;choices&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;text&quot;</span>])<br></code></pre></td></tr></table></figure><h3 id="Controlling-Repetitivity-Frequency-and-Presence-Penalties"><a href="#Controlling-Repetitivity-Frequency-and-Presence-Penalties" class="headerlink" title="Controlling Repetitivity: Frequency and Presence Penalties"></a>Controlling Repetitivity: Frequency and Presence Penalties</h3><p>the completions API has two features that can be used to stop the same words from being suggested too often. These features change the chances of certain words being suggested by adding a bonus or penalty to the logits(the numbers that show how likely a word is to be suggested)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">100</span>,<br>    frequency_penalty=<span class="hljs-number">2.0</span>,<br>    presence_penalty=<span class="hljs-number">2.0</span>,<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=== Frequency and presence penalty 2.0 ===&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>[<span class="hljs-string">&quot;choices&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;text&quot;</span>])<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">100</span>,<br>    frequency_penalty=-<span class="hljs-number">2.0</span>,<br>    presence_penalty=-<span class="hljs-number">2.0</span>,<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=== Frequency and presence penalty -2.0 ===&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>[<span class="hljs-string">&quot;choices&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;text&quot;</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">5</span>,<br>    n=<span class="hljs-number">2</span><br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h3 id="Getting-the-best-of"><a href="#Getting-the-best-of" class="headerlink" title="Getting the best of"></a>Getting the best of</h3><p>It is possible to ask the AI models to generate possible completions for a given task on the server side and select the one with the highest probability of being correct. This can be done using the <code>best_of</code> parameter.<br>When using <code>best_of</code>, you need to specify two numbers: <strong>n</strong> and <strong>best_of</strong><br>As seen previously, n is the number of candidate completions you want to see.<br>Note: Make sure that best_of is greater than n.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">5</span>,<br>    n=<span class="hljs-number">1</span>,<br>    best_of=<span class="hljs-number">2</span>,<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h3 id="Controlling-when-the-completion-stops"><a href="#Controlling-when-the-completion-stops" class="headerlink" title="Controlling when the completion stops"></a>Controlling when the completion stops</h3><p>In most cases, it is useful to stop the API from generating more text.</p><p>Lets say, we want to generate a single paragraph and no more. In this case, we can ask the API to stop completing the text when theres a new line(\n). This can be done using a similar code as below:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">5</span>,<br>    stop=[<span class="hljs-string">&quot;\n&quot;</span>,],<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><p>The stop parameter can contain up to four stop words. Note that the completion will not include the stop sequence in the result. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Once upon a time&quot;</span>,<br>    max_tokens=<span class="hljs-number">5</span>,<br>    stop=[<span class="hljs-string">&quot;\n&quot;</span>, <span class="hljs-string">&quot;Story&quot;</span>, <span class="hljs-string">&quot;End&quot;</span>, <span class="hljs-string">&quot;Once upon a time&quot;</span>],<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h3 id="Using-Suffic-after-text-completion"><a href="#Using-Suffic-after-text-completion" class="headerlink" title="Using Suffic after text completion"></a>Using Suffic after text completion</h3><p>The parameter suffix comes after the completion of inserted text.</p><p>Imagine, we want to crate a Python dict containing the list of primary numbers between 0 and 9:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yml">&#123;<br>    <span class="hljs-attr">&quot;primes&quot;:</span> [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]<br>&#125;<br></code></pre></td></tr></table></figure><p>The API, in this case, is upposed to return 2, 3, 5, 7. We can use the suffic parmeter in this case.</p><p>Example-1:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Write a JSON containing primary numbers between 0 and 9 \n\n&#123;\n\t\&quot;primes\&quot;: [&quot;</span>,<br>)<br><br><span class="hljs-comment"># print(next[&quot;choices&quot;][0][&quot;text&quot;])</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><p>Example-2:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Write a JSON containing primary numbers between 0 and 9 \n\n&#123;\n\t\&quot;primes\&quot;: [&quot;</span>,<br>    suffix=<span class="hljs-string">&quot;]\n&#125;&quot;</span><br>)<br><br><span class="hljs-comment"># print(next[&quot;choices&quot;][0][&quot;text&quot;])</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h3 id="Extracting-keywords"><a href="#Extracting-keywords" class="headerlink" title="Extracting keywords"></a>Extracting keywords</h3><p>Through appending the keywords at the end of the prompt message to get the completion text, the model will recognize that we need keywords and output should look something like this:<br><code>Plankalku\u0308l, Fortran, ALGOL 58, Lisp</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;The first programming language to be invented was Plankalkul, which was designed by \</span><br><span class="hljs-string">Konrad Zuse in the 1940s, but not publicly known until 1972 (and not implemented unt\</span><br><span class="hljs-string">il 1998). The first widely known and successful high-level programming language was \</span><br><span class="hljs-string">Fortran, developed from 1954 to 1957 by a team of IBM researchers led by John Backus\</span><br><span class="hljs-string">. The success of FORTRAN led to the formation of a committee of scientists to develo\</span><br><span class="hljs-string">p a &quot;universal&quot; computer language; the result of their effort was ALGOL 58. Separate\</span><br><span class="hljs-string">ly, John McCarthy of MIT developed Lisp, the first language with origins in academia\</span><br><span class="hljs-string">to be successful. With the success of these initial efforts, programming languages \</span><br><span class="hljs-string">became an active topic of research in the 1960s and beyond.\n\nKeywords:&#x27;</span><br><br>tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">300</span>,<br>)<br><br><span class="hljs-built_in">print</span>(tweet[<span class="hljs-string">&quot;choices&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;text&quot;</span>])<br></code></pre></td></tr></table></figure><p>You can play with the prompt and try different things such as: <code>Keywords:\n-</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;The first programming language to be invented was Plankalkul, which was designed by \</span><br><span class="hljs-string">Konrad Zuse in the 1940s, but not publicly known until 1972 (and not implemented unt\</span><br><span class="hljs-string">il 1998). The first widely known and successful high-level programming language was \</span><br><span class="hljs-string">Fortran, developed from 1954 to 1957 by a team of IBM researchers led by John Backus\</span><br><span class="hljs-string">. The success of FORTRAN led to the formation of a committee of scientists to develo\</span><br><span class="hljs-string">p a &quot;universal&quot; computer language; the result of their effort was ALGOL 58. Separate\</span><br><span class="hljs-string">ly, John McCarthy of MIT developed Lisp, the first language with origins in academia\</span><br><span class="hljs-string">to be successful. With the success of these initial efforts, programming languages \</span><br><span class="hljs-string">became an active topic of research in the 1960s and beyond.\n\nKeywords:\n-&#x27;</span><br><br>tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">300</span>,<br>)<br><br><span class="hljs-built_in">print</span>(tweet.choices[<span class="hljs-number">0</span>].text)<br></code></pre></td></tr></table></figure><h3 id="Generating-Tweets"><a href="#Generating-Tweets" class="headerlink" title="Generating Tweets"></a>Generating Tweets</h3><p>We can apped tweet: instead of Keywords: to prompt the model to return the tweet-style message.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;The first programming language to be invented was Plankalkul, which was designed by \</span><br><span class="hljs-string">Konrad Zuse in the 1940s, but not publicly known until 1972 (and not implemented unt\</span><br><span class="hljs-string">il 1998). The first widely known and successful high-level programming language was \</span><br><span class="hljs-string">Fortran, developed from 1954 to 1957 by a team of IBM researchers led by John Backus\</span><br><span class="hljs-string">. The success of FORTRAN led to the formation of a committee of scientists to develo\</span><br><span class="hljs-string">p a &quot;universal&quot; computer language; the result of their effort was ALGOL 58. Separate\</span><br><span class="hljs-string">ly, John McCarthy of MIT developed Lisp, the first language with origins in academia\</span><br><span class="hljs-string">to be successful. With the success of these initial efforts, programming languages \</span><br><span class="hljs-string">became an active topic of research in the 1960s and beyond.\n\nTweet:&#x27;</span><br><br>tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">300</span>,<br>)<br><br><span class="hljs-built_in">print</span>(tweet.choices[<span class="hljs-number">0</span>].text)<br></code></pre></td></tr></table></figure><p>We can also add hashtags with <code>Tweet with hashtags:</code>, heres the code:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;The first programming language to be invented was Plankalkul, which was designed by \</span><br><span class="hljs-string">Konrad Zuse in the 1940s, but not publicly known until 1972 (and not implemented unt\</span><br><span class="hljs-string">il 1998). The first widely known and successful high-level programming language was \</span><br><span class="hljs-string">Fortran, developed from 1954 to 1957 by a team of IBM researchers led by John Backus\</span><br><span class="hljs-string">. The success of FORTRAN led to the formation of a committee of scientists to develo\</span><br><span class="hljs-string">p a &quot;universal&quot; computer language; the result of their effort was ALGOL 58. Separate\</span><br><span class="hljs-string">ly, John McCarthy of MIT developed Lisp, the first language with origins in academia\</span><br><span class="hljs-string">to be successful. With the success of these initial efforts, programming languages \</span><br><span class="hljs-string">became an active topic of research in the 1960s and beyond.\n\nTweet with hashtags:&#x27;</span><br><br>tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">300</span>,<br>)<br><br><span class="hljs-built_in">print</span>(tweet.choices[<span class="hljs-number">0</span>].text)<br></code></pre></td></tr></table></figure><h3 id="Generating-a-Rap-Song"><a href="#Generating-a-Rap-Song" class="headerlink" title="Generating a Rap Song"></a>Generating a Rap Song</h3><ul><li>Example-1 with <code>text-davinci-002</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;Write a rap song:\n\n&#x27;</span><br><br>tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">200</span>,<br>)<br><br><span class="hljs-built_in">print</span>(tweet.choices[<span class="hljs-number">0</span>].text.strip())<br></code></pre></td></tr></table></figure><ul><li>Example-1 with <code>text-davinci-003</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;Write a rap song:\n\n&#x27;</span><br><br>tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">200</span>,<br>)<br><br><span class="hljs-built_in">print</span>(tweet.choices[<span class="hljs-number">0</span>].text.strip())<br></code></pre></td></tr></table></figure><h3 id="Generating-a-Todo-List"><a href="#Generating-a-Todo-List" class="headerlink" title="Generating a Todo List"></a>Generating a Todo List</h3><p>In this example, we are asking the model to generate a to-do list for creating a company in the US. We need five items on the list</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-built_in">next</span> = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>    prompt=<span class="hljs-string">&quot;Todo list to create a company in US\n\n1.&quot;</span>,<br>    temperature=<span class="hljs-number">0.3</span>,<br>    max_tokens=<span class="hljs-number">64</span>,<br>    top_p=<span class="hljs-number">0.1</span>,<br>    frequency_penalty=<span class="hljs-number">0</span>,<br>    presence_penalty=<span class="hljs-number">0.5</span>,<br>    stop=[<span class="hljs-string">&quot;6.&quot;</span>],<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>.choices[<span class="hljs-number">0</span>].text)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>)<br></code></pre></td></tr></table></figure><h4 id="model"><a href="#model" class="headerlink" title="model:"></a>model:</h4><p>specifies the model that the API should use for generating the text completion. In this case,<br>it is using text-davinci-002.</p><h4 id="prompt"><a href="#prompt" class="headerlink" title="prompt:"></a>prompt:</h4><p>is the text that the API uses as a starting point for generating the completion. In our case,<br>we used a prompt that is a to-do list for creating a company in the US. The first item should start<br>with 1., knowing that the output we asked for should be in this format;<br>1 1. &lt;1st item&gt;<br>2 2. &lt;2nd item&gt;<br>3 3. &lt;3nd item&gt;<br>4 4. &lt;4th item&gt;<br>5 5. &lt;5th item&gt;</p><h4 id="temperature"><a href="#temperature" class="headerlink" title="temperature"></a>temperature</h4><p>controls the creativity of the text generated by the model. The higher temperature the<br>more creative and diverse completions will be. On the other hand, a lower temperature will result<br>in a more conservative and predictable completions. In this case, the temperature is set to 0.3.</p><h4 id="max-tokens"><a href="#max-tokens" class="headerlink" title="max_tokens"></a>max_tokens</h4><p>limits the maximum number of tokens that the API will generate. In our case, the<br>maximum number of tokens is 64. You can increase this value but keep in mind that the more<br>tokens you will generate, the more credits you will be charged. When learning and testing, keeping<br>a lower value will help you avoid overspending.</p><h4 id="top-p"><a href="#top-p" class="headerlink" title="top_p"></a>top_p</h4><p>controls the proportion of the mass of the distribution that the API considers when generating<br>the next token. A higher value will result in more conservative completions, while a lower value will<br>result in more diverse completions. In this case, the top_p is set to 0.1. It is not recommended to use<br>both this and temperature but its not also a blocking issue.</p><h4 id="frequency-penalty"><a href="#frequency-penalty" class="headerlink" title="frequency_penalty"></a>frequency_penalty</h4><p>is used to adjust the models preference for generating frequent or rare words.<br>A positive value will decrease the chances of frequent words, while a negative value will increase<br>them. In this case, the frequency_penalty is set to 0<br>presence_penalty is used to adjust the models preference for generating words that are present or<br>absent in the prompt. A positive value will decrease the chances of words that are present in the<br>prompt, a negative value will increase them. The presence_penalty is set to 0.5 in our example.</p><h4 id="stop"><a href="#stop" class="headerlink" title="stop"></a>stop</h4><p>is used to specify a sequence of tokens that the API should stop generating completions after. In<br>our example, since we only want 5 items, we should stop generating after the token 6. is generated.</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>The OpenAI Completions API is a powerful tool for generating text in various contexts. With the<br>right parameters and settings, it can produce natural-sounding text that is pertinent to the task.<br>By configuring the right values for some parameters such as frequency and presence penalties, the<br>results can be tailored to produce desired outcomes.<br>With the ability to control when the completion stops, the user can also control the length of the<br>generated text. This could be also helpful to reduce the number of tokens generated and indirectly<br>reduce costs.</p><h2 id="Editing-Text-Using-GPT"><a href="#Editing-Text-Using-GPT" class="headerlink" title="Editing Text Using GPT"></a>Editing Text Using GPT</h2><p>After being given a prompt and a set of instructions, the GPT model you are using will take the prompt and then use its algorithms to generate a modified version of the original prompt.</p><p>The modified version can be longer and&#x2F;or more detailed than the initial prompt depending on your instructions.</p><p>A GPT model is able to understand the context of the prompt of the prompt and the instructions given, allowing it to determine which additional details would be most beneficial to include in the output. </p><h3 id="Tanslating-Text"><a href="#Tanslating-Text" class="headerlink" title="Tanslating Text"></a>Tanslating Text</h3><p>This is an example:</p><ul><li>Use API endipoint: openai.Edit.create</li><li>Use instruction and input (optional)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>response = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    <span class="hljs-built_in">input</span>=<span class="hljs-string">&#x27;Hallo Welt&#x27;</span>,<br>    instruction=<span class="hljs-string">&#x27;Translate to English&#x27;</span>,<br>)<br><br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].text)<br><span class="hljs-built_in">print</span>(response)<br></code></pre></td></tr></table></figure><p>The other example with instruction only, without input:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>response = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    instruction=<span class="hljs-string">&quot;Translate the following sentence to English: &#x27;Hallo Welt&#x27;&quot;</span>,<br>)<br><br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].text)<br><span class="hljs-built_in">print</span>(response)<br></code></pre></td></tr></table></figure><h3 id="Editing-using-the-completions-endpoint-and-vice-versa"><a href="#Editing-using-the-completions-endpoint-and-vice-versa" class="headerlink" title="Editing using the completions endpoint and vice versa"></a>Editing using the completions endpoint and vice versa</h3><p>Some tasks you can excute using the edits endpoint can be done using the completions endpoint. It is up to you to choose which one is best for your needs.<br>Heres an example of a translation task using the edits endpoint:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Example using edit dendpoint</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>response = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    instruction=<span class="hljs-string">&quot;Translate from English to Japanese, French, Arabic, and Spanish. /n 1:Japanese: &quot;</span>,<br>    <span class="hljs-built_in">input</span>=<span class="hljs-string">&quot;The cat sat on the mat&quot;</span><br>)<br><br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].text)<br><span class="hljs-built_in">print</span>(response)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Example using completion endpoint</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>content=<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Translate the following sentence from English to Japanese, French, Arabic, and Spanish.</span><br><span class="hljs-string">    The cat sat on the mat.</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>response = openai.ChatCompletion.create(<br>    model=<span class="hljs-string">&quot;gpt-3.5-turbo&quot;</span>,<br>    messages=[<br>        &#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;system&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: content&#125;,<br>    ],<br>)<br><br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].message.content)<br><span class="hljs-comment"># print(response)</span><br></code></pre></td></tr></table></figure><h3 id="Formatting-the-output"><a href="#Formatting-the-output" class="headerlink" title="Formatting the output"></a>Formatting the output</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Example to add comments to a Golang code</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>message=<span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">package main</span><br><span class="hljs-string"></span><br><span class="hljs-string">import (</span><br><span class="hljs-string">&quot;io/ioutil&quot;</span><br><span class="hljs-string">&quot;log&quot;</span><br><span class="hljs-string">&quot;net/http&quot;</span><br><span class="hljs-string">)</span><br><span class="hljs-string"></span><br><span class="hljs-string">func main() &#123;</span><br><span class="hljs-string">resp, err := http.Get(&quot;https://website.com&quot;)</span><br><span class="hljs-string"></span><br><span class="hljs-string">if err != nil &#123;</span><br><span class="hljs-string">log.Fatalln(err)</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">body, err := ioutil.ReadAll(resp.Body)</span><br><span class="hljs-string">if err != nil &#123;</span><br><span class="hljs-string">log.Fatalln(err)</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">sb := string(body)</span><br><span class="hljs-string">log.Printf(sb)</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br>response = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    instruction=<span class="hljs-string">&quot;Explain the following Golang code&quot;</span>,<br>    <span class="hljs-built_in">input</span>=message,<br>    temperature=<span class="hljs-number">0.5</span><br>)<br><br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].text)<br></code></pre></td></tr></table></figure><h3 id="Creativity-vs-Well-defined-answers"><a href="#Creativity-vs-Well-defined-answers" class="headerlink" title="Creativity vs. Well-defined answers"></a>Creativity vs. Well-defined answers</h3><p>Same as the completions endpoint, we have control over the creativity of the result using the temperature parameter.<br>You can try this example using two different temperatures to see the difference in the output:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>response_1 = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    instruction=<span class="hljs-string">&quot;correct the spelling mistakes:&quot;</span>,<br>    <span class="hljs-built_in">input</span>=<span class="hljs-string">&quot;The kuick brown fox jumps over the lazy dog and&quot;</span>,<br>    temperature=<span class="hljs-number">0</span>,<br>)<br><br>response_2 = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    instruction=<span class="hljs-string">&quot;correct the spelling mistakes:&quot;</span>,<br>    <span class="hljs-built_in">input</span>=<span class="hljs-string">&quot;The kuick brown fox jumps over the lazy dog and&quot;</span>,<br>    temperature=<span class="hljs-number">0.9</span>,<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Temperature 0:&quot;</span>)<br><span class="hljs-built_in">print</span>(response_1.choices[<span class="hljs-number">0</span>].text)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Temperature 1:&quot;</span>)<br><span class="hljs-built_in">print</span>(response_2.choices[<span class="hljs-number">0</span>].text)<br></code></pre></td></tr></table></figure><blockquote><p>Generally, after running the code multiple times, you may observe that the first output is consistent, while the second one changes from one execution to the next. For a use case such as fixing typos, we usually don;t need creativity, so setting the temperature parameter to 0 is enough.<br>We can also use <code>top_p</code> to add the creativitiy, it is similar to the temperature. It means only tokens comprising the top #% probability mass are considered in the result.</p></blockquote><h3 id="Generating-multiple-edits"><a href="#Generating-multiple-edits" class="headerlink" title="Generating multiple edits"></a>Generating multiple edits</h3><p>In all of the previous examples, we always had a single edit. However, using the parameter n, it is possible to get more. Just use the number of edits you want to have:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>response = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    instruction=<span class="hljs-string">&quot;Edit the text to make it longer.&quot;</span>,<br>    <span class="hljs-built_in">input</span>=<span class="hljs-string">&quot;Exercise is good for your health.&quot;</span>,<br>    top_p=<span class="hljs-number">0.2</span>,<br>    n=<span class="hljs-number">2</span><br>)<br><br><br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].text)<br><span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">1</span>].text)<br></code></pre></td></tr></table></figure><h2 id="Advanced-Text-Manipulation"><a href="#Advanced-Text-Manipulation" class="headerlink" title="Advanced Text Manipulation"></a>Advanced Text Manipulation</h2><p>Untill now, we have see how to use different endpoints: edits and completions. Lets do more examples to understand the different possibilities the model offers.</p><h3 id="Chaining-completions-and-edits"><a href="#Chaining-completions-and-edits" class="headerlink" title="Chaining completions and edits"></a>Chaining completions and edits</h3><ul><li>Use completion endpoint to generate the tweet with hashtags.</li><li>Use generated tweet as the <code>input</code>, and use <code>instruction</code> to translate the tweet</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>prompt = <span class="hljs-string">&#x27;The first programming language to be invented was Plankalkul, which was designed by \</span><br><span class="hljs-string">Konrad Zuse in the 1940s, but not publicly known until 1972 (and not implemented unt\</span><br><span class="hljs-string">il 1998). The first widely known and successful high-level programming language was \</span><br><span class="hljs-string">Fortran, developed from 1954 to 1957 by a team of IBM researchers led by John Backus\</span><br><span class="hljs-string">. The success of FORTRAN led to the formation of a committee of scientists to develo\</span><br><span class="hljs-string">p a &quot;universal&quot; computer language; the result of their effort was ALGOL 58. Separate\</span><br><span class="hljs-string">ly, John McCarthy of MIT developed Lisp, the first language with origins in academia\</span><br><span class="hljs-string">to be successful. With the success of these initial efforts, programming languages \</span><br><span class="hljs-string">became an active topic of research in the 1960s and beyond.\n\nTweet with hashtags:&#x27;</span><br><br>english_tweet = openai.Completion.create(<br>    model=<span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>    prompt=prompt,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    max_tokens=<span class="hljs-number">20</span>,<br>)<br><br>english_tweet_text = english_tweet.choices[<span class="hljs-number">0</span>].text.strip()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;English tweet:&quot;</span>)<br><span class="hljs-built_in">print</span>(english_tweet_text)<br><br>spanish_tweet = openai.Edit.create(<br>    model=<span class="hljs-string">&quot;text-davinci-edit-001&quot;</span>,<br>    <span class="hljs-built_in">input</span>=english_tweet_text,<br>    instruction=<span class="hljs-string">&quot;Translate to Spanish&quot;</span>,<br>    temperature=<span class="hljs-number">0.5</span>,<br>    <br>)<br><br>spanish_tweet_text = spanish_tweet.choices[<span class="hljs-number">0</span>].text.strip()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Spanish tweet:&quot;</span>)<br><span class="hljs-built_in">print</span>(spanish_tweet_text)<br></code></pre></td></tr></table></figure><h3 id="Aple-the-Company-vs-Apple-the-Fruit-Context-Stuffing"><a href="#Aple-the-Company-vs-Apple-the-Fruit-Context-Stuffing" class="headerlink" title="Aple the Company vs. Apple the Fruit (Context Stuffing)"></a>Aple the Company vs. Apple the Fruit (Context Stuffing)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt = <span class="hljs-string">&quot;Determine the part of speech of the word &#x27;light&#x27;.\n\n&quot;</span><br><br>result = openai.Completion.create(<br>    model = <span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>    prompt = prompt,<br>    max_tokens = <span class="hljs-number">20</span>,<br>    temperature = <span class="hljs-number">1</span>,<br>)<br><br><span class="hljs-built_in">print</span>(result.choices[<span class="hljs-number">0</span>].text.strip())<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt_a = <span class="hljs-string">&quot;The light is red. Determine the part of speech of the word &#x27;light&#x27;.\n\n&quot;</span><br>prompt_b = <span class="hljs-string">&quot;This desk is very light. Determine the part of speech of the word &#x27;light&#x27;.\n\n&quot;</span><br>prompt_c = <span class="hljs-string">&quot;You light up my life. Determine the part of speech of the word &#x27;light&#x27;.\n\n&quot;</span><br><br><span class="hljs-keyword">for</span> prompt <span class="hljs-keyword">in</span> [prompt_a, prompt_b, prompt_c]:<br>    result = openai.Completion.create(<br>        model=<span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>        prompt=prompt,<br>        max_tokens=<span class="hljs-number">20</span>,<br>        temperature=<span class="hljs-number">0</span>,<br>    )<br>    <span class="hljs-built_in">print</span>(result.choices[<span class="hljs-number">0</span>].text.strip())<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt_1 = <span class="hljs-string">&quot;Huawei:\ncompany\n\nGoogle:\ncompany\n\nMicrosoft:\ncompany\n\nApple:\n&quot;</span><br>prompt_2 = <span class="hljs-string">&quot;Huawei:\ncompany\n\nGoogle:\ncompany\n\nMicrosoft:\ncompany\n\nApricot:\nFruit\n\nApple:\n&quot;</span><br><br><span class="hljs-keyword">for</span> prompt <span class="hljs-keyword">in</span> [prompt_1, prompt_2]:<br>    result = openai.Completion.create(<br>        model = <span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>        prompt = prompt,<br>        max_tokens = <span class="hljs-number">20</span>,<br>        temperature = <span class="hljs-number">0</span>,<br>        stop=[<span class="hljs-string">&quot;\n&quot;</span>, <span class="hljs-string">&quot; &quot;</span>],<br>    )<br><br>    <span class="hljs-built_in">print</span>(result.choices[<span class="hljs-number">0</span>].text.strip())<br></code></pre></td></tr></table></figure><h3 id="Getting-cryptocurrency-information-based-on-a-user-defined-schema-context-stuffing"><a href="#Getting-cryptocurrency-information-based-on-a-user-defined-schema-context-stuffing" class="headerlink" title="Getting cryptocurrency information based on a user-defined schema (context stuffing)"></a>Getting cryptocurrency information based on a user-defined schema (context stuffing)</h3><ul><li>define a schema or template</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt = <span class="hljs-string">&quot;&quot;&quot;Input: Bitcoin</span><br><span class="hljs-string">Output:</span><br><span class="hljs-string">BTC was created in 2008, you can learn more about it here: https://bitcoin.org/en/ a\</span><br><span class="hljs-string">nd get the latest price here: https://www.coingecko.com/en/coins/bitcoin.</span><br><span class="hljs-string">It&#x27;s all-time high is $64,895.00 and it&#x27;s all-time low is $67.81.</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: Ethereum</span><br><span class="hljs-string">Output:</span><br><span class="hljs-string">ETH was created in 2015, you can learn more about it here: https://ethereum.org/en/ \</span><br><span class="hljs-string">and get the latest price here: https://www.coingecko.com/en/coins/ethereum</span><br><span class="hljs-string">It&#x27;s all-time high is $4,379.00 and it&#x27;s all-time low is $0.43.</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: Dogecoin</span><br><span class="hljs-string">Output:</span><br><span class="hljs-string">DOGE was created in 2013, you can learn more about it here: https://dogecoin.com/ an\</span><br><span class="hljs-string">d get the latest price here: https://www.coingecko.com/en/coins/dogecoin</span><br><span class="hljs-string">It&#x27;s all-time high is $0.73 and it&#x27;s all-time low is $0.000002.</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: Cardano</span><br><span class="hljs-string">Output:\n&quot;&quot;&quot;</span><br><br>result = openai.Completion.create(<br>    model = <span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>    prompt = prompt,<br>    max_tokens = <span class="hljs-number">200</span>,<br>    temperature = <span class="hljs-number">0</span>,<br>)<br><br><span class="hljs-built_in">print</span>(result.choices[<span class="hljs-number">0</span>].text.strip())<br></code></pre></td></tr></table></figure><h3 id="Creating-a-Chatbot-assistant-to-help-with-Linux-commands"><a href="#Creating-a-Chatbot-assistant-to-help-with-Linux-commands" class="headerlink" title="Creating a Chatbot assistant to help with Linux commands"></a>Creating a Chatbot assistant to help with Linux commands</h3><p>Disclaimer: This part was inspired by an old demo of OpenAI from 2020.<br>Our goal is to develop a command-line tool that can assist us with Linux commands through<br>conversation.<br>Lets start with this example:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install click==<span class="hljs-number">8.1</span><span class="hljs-number">.3</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><span class="hljs-keyword">import</span> click<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><br><br>_prompt = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Input: List all the files in the current directory</span><br><span class="hljs-string">Output: ls -l</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: List all the files in the current directory, including hidden files</span><br><span class="hljs-string">Output: ls -la</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: Delete all the files in the current directory</span><br><span class="hljs-string">Output: rm *</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: Count the number of occurrences of the word &quot;sun&quot; in the file &quot;test.txt&quot;</span><br><span class="hljs-string">Output: grep -o &quot;sun&quot; test.txt | wc -l</span><br><span class="hljs-string"></span><br><span class="hljs-string">Input: &#123;&#125;</span><br><span class="hljs-string">Output:&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    request = <span class="hljs-built_in">input</span>(click.style(<span class="hljs-string">&quot;Input(type &#x27;exit&#x27; to quit): &quot;</span>, fg=<span class="hljs-string">&quot;green&quot;</span>))<br>    <span class="hljs-keyword">if</span> request == <span class="hljs-string">&quot;exit&quot;</span>:<br>        <span class="hljs-keyword">break</span><br>        <br>    prompt = _prompt.<span class="hljs-built_in">format</span>(request)<br>    <br>    <span class="hljs-keyword">try</span>:<br>        result = openai.Completion.create(<br>            model = <span class="hljs-string">&quot;text-davinci-002&quot;</span>,<br>            prompt = prompt,<br>            max_tokens = <span class="hljs-number">100</span>,<br>            temperature = <span class="hljs-number">0</span>,<br>            stop=[<span class="hljs-string">&quot;\n&quot;</span>],<br>        )<br>        command = result.choices[<span class="hljs-number">0</span>].text.strip()<br>        click.echo(click.style(<span class="hljs-string">&quot;Output: &quot;</span>, fg=<span class="hljs-string">&quot;yellow&quot;</span>) + command)<br>        <br>        click.echo(click.style(<span class="hljs-string">&quot;Execute? (y/n): &quot;</span>, fg=<span class="hljs-string">&quot;yellow&quot;</span>), nl=<span class="hljs-literal">False</span>)<br>        choice = <span class="hljs-built_in">input</span>()<br>        <span class="hljs-keyword">if</span> choice == <span class="hljs-string">&quot;y&quot;</span>:<br>            os.system(command)<br>        <span class="hljs-keyword">elif</span> choice == <span class="hljs-string">&quot;n&quot;</span>:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">else</span>:<br>            click.echo(click.style(<span class="hljs-string">&quot;Invalid choice. Please enter &#x27;y&#x27; or &#x27;n&#x27;.&quot;</span>, fg=<span class="hljs-string">&quot;red&quot;</span>))<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        click.echo(click.style(<span class="hljs-string">&quot;The command could not be executed. &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(e), fg=<span class="hljs-string">&quot;red&quot;</span>))<br>        <span class="hljs-keyword">pass</span><br>    click.echo()<br></code></pre></td></tr></table></figure><h2 id="Embedding"><a href="#Embedding" class="headerlink" title="Embedding"></a>Embedding</h2><ul><li>measure how similar two text strings are to each other</li><li>used for tasks like:<ul><li>finding the most relevant results to a search query</li><li>grouping text strings together based on how similar they are</li><li>recommending items with similar text strings</li><li>finding text strings that are very different from the other</li><li>analyzing how different text srings are from each other</li><li>labeling text strings based on what they are most like.</li></ul></li></ul><p>Herere some practical approaches to use embeddings in the industry.</p><ul><li>Tesla</li><li>Kalendar AI</li><li>Notion</li><li>DALL-E 2</li></ul><p>To work with embedding, you should install datalib using the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install datalib<br></code></pre></td></tr></table></figure><p>At another level of this guide, we will need Matplotlib and other libraries:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install matplotlib plotly scipy scikit-learn<br></code></pre></td></tr></table></figure><p>This package will also install tools like pandas and NumPy.<br>These libraries are some of the most used in AI and data science in general.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install datalib<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install matplotlib plotly scipy scikit-learn<br></code></pre></td></tr></table></figure><h3 id="Understanding-Text-Embedding"><a href="#Understanding-Text-Embedding" class="headerlink" title="Understanding Text Embedding"></a>Understanding Text Embedding</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br>response = openai.Embedding.create(<br>    model=<span class="hljs-string">&quot;text-embedding-ada-002&quot;</span>,<br>    <span class="hljs-built_in">input</span>=<span class="hljs-string">&quot;I am a programmer&quot;</span>,<br>)<br><br><span class="hljs-built_in">print</span>(response)<br><br><span class="hljs-comment"># These floating points represent the embedding of the input text I am a programmer generated by the OpenAI text-embedding-ada-002 model.</span><br></code></pre></td></tr></table></figure><h3 id="Embeddings-for-Multiple-Inputs"><a href="#Embeddings-for-Multiple-Inputs" class="headerlink" title="Embeddings for Multiple Inputs"></a>Embeddings for Multiple Inputs</h3><p>We can use multiple inputs to get the embeddings, heres the example</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">response = openai.Embedding.create(<br>    model=<span class="hljs-string">&quot;text-embedding-ada-002&quot;</span>,<br>    <span class="hljs-built_in">input</span>=[<span class="hljs-string">&quot;I am a programmer&quot;</span>, <span class="hljs-string">&quot;I am a writer&quot;</span>],<br>)<br><br><span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> response.data:<br>    <span class="hljs-built_in">print</span>(data.embedding)<br></code></pre></td></tr></table></figure><h3 id="Semantic-Search-"><a href="#Semantic-Search-" class="headerlink" title="Semantic Search - "></a>Semantic Search - </h3><p>We are going to implement a semantic search using OpenAI embeddings</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> openai.embeddings_utils <span class="hljs-keyword">import</span> get_embedding, cosine_similarity<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br>init_api()<br><br><span class="hljs-comment"># words.csv is a csv file with a column named &#x27;text&#x27; containing words</span><br>df = pd.read_csv(<span class="hljs-string">&#x27;words.csv&#x27;</span>)<br><br><span class="hljs-comment"># get the embeddings for each word in the dataframe</span><br>df[<span class="hljs-string">&#x27;embedding&#x27;</span>] = df[<span class="hljs-string">&#x27;text&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: get_embedding(x, engine=<span class="hljs-string">&#x27;text-embedding-ada-002&#x27;</span>))<br><br><span class="hljs-comment"># save the dataframe to a csv file</span><br>df.to_csv(<span class="hljs-string">&#x27;embedding.csv&#x27;</span>)<br><br><span class="hljs-comment"># read the csv file</span><br>df = pd.read_csv(<span class="hljs-string">&#x27;embedding.csv&#x27;</span>)<br><br><span class="hljs-comment"># convert the embedding axis to a numpy array</span><br>df[<span class="hljs-string">&#x27;embedding&#x27;</span>] = df[<span class="hljs-string">&#x27;embedding&#x27;</span>].apply(<span class="hljs-built_in">eval</span>).apply(np.array)<br><br><span class="hljs-comment"># get the search term from the user</span><br>user_search = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Enter a search term: &#x27;</span>)<br><br><span class="hljs-comment"># get the embedding for the search term</span><br>search_term_embedding = get_embedding(user_search, engine=<span class="hljs-string">&#x27;text-embedding-ada-002&#x27;</span>)<br><br><span class="hljs-comment"># calculate the cosine similarity between the search term and each word in the dataframe</span><br>df[<span class="hljs-string">&#x27;similarity&#x27;</span>] = df[<span class="hljs-string">&#x27;embedding&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: cosine_similarity(x, search_term_embedding))<br><br><span class="hljs-comment"># sort the dataframe by the similarity axis</span><br>df = df.sort_values(by=<span class="hljs-string">&#x27;similarity&#x27;</span>, ascending=<span class="hljs-literal">False</span>)<br><br><span class="hljs-comment"># print the top 10 results</span><br><span class="hljs-built_in">print</span>(df.head(<span class="hljs-number">10</span>))<br></code></pre></td></tr></table></figure><h3 id="Cosine-Similarity"><a href="#Cosine-Similarity" class="headerlink" title="Cosine Similarity"></a>Cosine Similarity</h3><p>Cosine similarity is a way of measuring how similar two vectors are. It looks at the angle between<br>two vectors (lines) and compares them. Cosine similarity is the cosine of the angle between the<br>vector. A result is a number between -1 and 1. If the vectors are the same, the result is 1. If the<br>vectors are completely different, the result is -1. If the vectors are at a 90-degree angle, the result is 0. In mathematical terms, this is the equation:<br>$$<br>Similarity &#x3D; (A.B) &#x2F; (||A||.||B||)<br>$$</p><ul><li>A and B are vectors</li><li>A.B is a way of multiplying two sets of numbers together. It is done by taking each number in one set and multiplying it with the same number in the other set, then adding all of those products together.</li><li>||A|| is the length of the vector A. It is calculated by taking the square root of the sum of the squares of each element of the vector A.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import numpy and norm from numpy.linalg</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> numpy.linalg <span class="hljs-keyword">import</span> norm<br><br><span class="hljs-comment"># define two vectors</span><br>A = np.array([<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br>B = np.array([<span class="hljs-number">3</span>,<span class="hljs-number">6</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])<br><br><span class="hljs-comment"># print the vectors</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Vector A: &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(A))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Vector B: &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(B))<br><br><span class="hljs-comment"># calculate the cosine similarity</span><br>cosine = np.dot(A,B)/(norm(A)*norm(B))<br><br><span class="hljs-comment"># print the cosine similarity</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cosine Similarity between A and B: &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(cosine))<br></code></pre></td></tr></table></figure><h2 id="Advanced-Embedding-Examples"><a href="#Advanced-Embedding-Examples" class="headerlink" title="Advanced Embedding Examples"></a>Advanced Embedding Examples</h2><h3 id="Predicting-your-preferred-Coffee"><a href="#Predicting-your-preferred-Coffee" class="headerlink" title="Predicting your preferred Coffee"></a>Predicting your preferred Coffee</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install nltk<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> nltk<br><span class="hljs-keyword">import</span> openai<br><span class="hljs-keyword">from</span> openai.embeddings_utils <span class="hljs-keyword">import</span> get_embedding, cosine_similarity<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">download_nltk_data</span>():<br>    <span class="hljs-keyword">try</span>:<br>        nltk.data.find(<span class="hljs-string">&#x27;tokenizers/punkt&#x27;</span>)<br>    <span class="hljs-keyword">except</span> LookupError:<br>        nltk.download(<span class="hljs-string">&#x27;punkt&#x27;</span>)<br>    <span class="hljs-keyword">try</span>:<br>        nltk.data.find(<span class="hljs-string">&#x27;corpora/stopwords&#x27;</span>)<br>    <span class="hljs-keyword">except</span> LookupError:<br>        nltk.download(<span class="hljs-string">&#x27;stopwords&#x27;</span>)<br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">preprocess_review</span>(<span class="hljs-params">review</span>):<br>    <span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords<br>    <span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> PorterStemmer<br>    stopwords = <span class="hljs-built_in">set</span>(stopwords.words(<span class="hljs-string">&#x27;english&#x27;</span>))<br>    stemmer = PorterStemmer()<br>    tokens = nltk.word_tokenize(review.lower())<br>    tokens = [token <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens <span class="hljs-keyword">if</span> token <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stopwords]<br>    tokens = [stemmer.stem(token) <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens]<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27; &#x27;</span>.join(tokens)<br><br>init_api()<br><br>download_nltk_data()<br><br><span class="hljs-comment"># Read user input</span><br>input_coffee_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;Enter a coffee name: &quot;</span>)<br><br><span class="hljs-comment"># Load the CSV file into a Pandas DataFrame </span><br><span class="hljs-comment"># (only the first 50 rows for now to speed up the demo and avoid paying for too many API calls)</span><br>df = pd.read_csv(<span class="hljs-string">&#x27;simplified_coffee.csv&#x27;</span>, nrows=<span class="hljs-number">50</span>)<br><br><span class="hljs-comment"># Preprocess the review text: lowercase, tokenize, remove stopwords, and stem</span><br>df[<span class="hljs-string">&#x27;preprocessed_review&#x27;</span>] = df[<span class="hljs-string">&#x27;review&#x27;</span>].apply(preprocess_review)<br><br><span class="hljs-comment"># Get the embeddings for each review</span><br>review_embeddings = []<br><span class="hljs-keyword">for</span> review <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;preprocessed_review&#x27;</span>]:<br>    review_embeddings.append(get_embedding(review, engine=<span class="hljs-string">&#x27;text-embedding-ada-002&#x27;</span>))<br>    <br><span class="hljs-comment"># Get the index of the input coffee name</span><br><span class="hljs-keyword">try</span>:<br>    input_coffee_index = df[df[<span class="hljs-string">&#x27;name&#x27;</span>] == input_coffee_name].index[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Sorry, we don&#x27;t have that coffee in our database. Please try again.&quot;</span>)<br>    exit()<br>    <br><span class="hljs-comment"># Calculate the cosine similarity between the input coffee&#x27;s review and all other reviews</span><br>similarities = []<br>input_review_embedding = review_embeddings[input_coffee_index]<br><span class="hljs-keyword">for</span> review_embedding <span class="hljs-keyword">in</span> review_embeddings:<br>    similarity = cosine_similarity(input_review_embedding, review_embedding)<br>    similarities.append(similarity)<br><br><span class="hljs-comment"># Get the indices of the most similar reviews (excluding the input coffee&#x27;s review itself)</span><br>most_similar_indices = np.argsort(similarities)[-<span class="hljs-number">6</span>:-<span class="hljs-number">1</span>]<br><br><span class="hljs-comment"># why -1? because the last one is the input coffee itself</span><br><br><span class="hljs-comment"># Get the names of the most similar coffees</span><br>similar_coffee_names = df.iloc[most_similar_indices][<span class="hljs-string">&#x27;name&#x27;</span>].tolist()<br><br><span class="hljs-comment"># Print the results</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The most similar coffees to &#123;&#125; are:&quot;</span>.<span class="hljs-built_in">format</span>(input_coffee_name))<br><span class="hljs-keyword">for</span> coffee_name <span class="hljs-keyword">in</span> similar_coffee_names:<br>    <span class="hljs-built_in">print</span>(coffee_name)<br></code></pre></td></tr></table></figure><h3 id="Making-a-Fuzzier-search"><a href="#Making-a-Fuzzier-search" class="headerlink" title="Making a Fuzzier search"></a>Making a Fuzzier search</h3><ul><li>The previous code has limitation which need exact match for the input and existing coffee name list. </li><li>Fuzzier search leverage fuzzy search technique, such as <em>Levenshtein distance</em> or cosine similarity search between the user input and the coffe names.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> nltk<br><span class="hljs-keyword">import</span> openai<br><span class="hljs-keyword">from</span> openai.embeddings_utils <span class="hljs-keyword">import</span> get_embedding, cosine_similarity<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">download_nltk_data</span>():<br>    <span class="hljs-keyword">try</span>:<br>        nltk.data.find(<span class="hljs-string">&#x27;tokenizers/punkt&#x27;</span>)<br>    <span class="hljs-keyword">except</span> LookupError:<br>        nltk.download(<span class="hljs-string">&#x27;punkt&#x27;</span>)<br>    <span class="hljs-keyword">try</span>:<br>        nltk.data.find(<span class="hljs-string">&#x27;corpora/stopwords&#x27;</span>)<br>    <span class="hljs-keyword">except</span> LookupError:<br>        nltk.download(<span class="hljs-string">&#x27;stopwords&#x27;</span>)<br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">preprocess_review</span>(<span class="hljs-params">review</span>):<br>    <span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords<br>    <span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> PorterStemmer<br>    stopwords = <span class="hljs-built_in">set</span>(stopwords.words(<span class="hljs-string">&#x27;english&#x27;</span>))<br>    stemmer = PorterStemmer()<br>    tokens = nltk.word_tokenize(review.lower())<br>    tokens = [token <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens <span class="hljs-keyword">if</span> token <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stopwords]<br>    tokens = [stemmer.stem(token) <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens]<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27; &#x27;</span>.join(tokens)<br><br>init_api()<br><br>download_nltk_data()<br><br><span class="hljs-comment"># Read user input</span><br>input_coffee_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;Enter a coffee name: &quot;</span>)<br><br><span class="hljs-comment"># Load the CSV file into a Pandas DataFrame </span><br><span class="hljs-comment"># (only the first 50 rows for now to speed up the demo and avoid paying for too many API calls)</span><br>df = pd.read_csv(<span class="hljs-string">&#x27;simplified_coffee.csv&#x27;</span>, nrows=<span class="hljs-number">50</span>)<br><br><span class="hljs-comment"># Preprocess the review text: lowercase, tokenize, remove stopwords, and stem</span><br>df[<span class="hljs-string">&#x27;preprocessed_review&#x27;</span>] = df[<span class="hljs-string">&#x27;review&#x27;</span>].apply(preprocess_review)<br><br><span class="hljs-comment"># Get the embeddings for each review</span><br>review_embeddings = []<br><span class="hljs-keyword">for</span> review <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;preprocessed_review&#x27;</span>]:<br>    review_embeddings.append(get_embedding(review, engine=<span class="hljs-string">&#x27;text-embedding-ada-002&#x27;</span>))<br>    <br><span class="hljs-comment"># Get the index of the input coffee name, with &quot;fuzzy search&quot;</span><br><span class="hljs-keyword">try</span>:<br>    input_coffee_index = df[df[<span class="hljs-string">&#x27;name&#x27;</span>] == input_coffee_name].index[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">except</span> IndexError:<br>    <span class="hljs-comment"># get the embeddings for each name</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Sorry, we don&#x27;t have that coffee in our database. We will try to find the closest match.&quot;</span>)<br>    name_embeddings = []<br>    <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;name&#x27;</span>]:<br>        name_embeddings.append(get_embedding(name, engine=<span class="hljs-string">&#x27;text-embedding-ada-002&#x27;</span>))<br>    <span class="hljs-comment"># perform a cosine similarity search on the input coffee name</span><br>    input_coffee_embedding = get_embedding(input_coffee_name, engine=<span class="hljs-string">&#x27;text-embedding-ada-002&#x27;</span>)<br>    _similarities = []<br>    <span class="hljs-keyword">for</span> name_embedding <span class="hljs-keyword">in</span> name_embeddings:<br>        _similarities.append(cosine_similarity(input_coffee_embedding, name_embedding))<br>    <br>    input_coffee_index = _similarities.index(<span class="hljs-built_in">max</span>(_similarities))<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Sorry, we don&#x27;t have that coffee in our database. Please try again.&quot;</span>)<br>    exit()<br>    <br><span class="hljs-comment"># Calculate the cosine similarity between the input coffee&#x27;s review and all other reviews</span><br>similarities = []<br>input_review_embedding = review_embeddings[input_coffee_index]<br><span class="hljs-keyword">for</span> review_embedding <span class="hljs-keyword">in</span> review_embeddings:<br>    similarity = cosine_similarity(input_review_embedding, review_embedding)<br>    similarities.append(similarity)<br><br><span class="hljs-comment"># Get the indices of the most similar reviews (excluding the input coffee&#x27;s review itself)</span><br>most_similar_indices = np.argsort(similarities)[-<span class="hljs-number">6</span>:-<span class="hljs-number">1</span>]<br><br><span class="hljs-comment"># why -1? because the last one is the input coffee itself</span><br><br><span class="hljs-comment"># Get the names of the most similar coffees</span><br>similar_coffee_names = df.iloc[most_similar_indices][<span class="hljs-string">&#x27;name&#x27;</span>].tolist()<br><br><span class="hljs-comment"># Print the results</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The most similar coffees to &#123;&#125; are:&quot;</span>.<span class="hljs-built_in">format</span>(input_coffee_name))<br><span class="hljs-keyword">for</span> coffee_name <span class="hljs-keyword">in</span> similar_coffee_names:<br>    <span class="hljs-built_in">print</span>(coffee_name)<br></code></pre></td></tr></table></figure><h3 id="Predicting-News-category-using-embedding-"><a href="#Predicting-News-category-using-embedding-" class="headerlink" title="Predicting News category using embedding()"></a>Predicting News category using embedding()</h3><p> This example will introduce a zero-shot news classifier that predicts the category of a news article.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> nltk<br><span class="hljs-keyword">import</span> openai<br><span class="hljs-keyword">from</span> openai.embeddings_utils <span class="hljs-keyword">import</span> get_embedding, cosine_similarity<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br>    <br>init_api()<br><br>categories = [<br>    <span class="hljs-string">&quot;POLITICS&quot;</span>,<br>    <span class="hljs-string">&quot;WELLNESS&quot;</span>,<br>    <span class="hljs-string">&quot;ENTERTAINMENT&quot;</span>,<br>    <span class="hljs-string">&quot;TRAVEL&quot;</span>,<br>    <span class="hljs-string">&quot;STYLE &amp; BEAUTY&quot;</span>,<br>    <span class="hljs-string">&quot;PARENTING&quot;</span>,<br>    <span class="hljs-string">&quot;HEALTHY LIVING&quot;</span>,<br>    <span class="hljs-string">&quot;QUEER VOICES&quot;</span>,<br>    <span class="hljs-string">&quot;FOOD &amp; DRINK&quot;</span>,<br>    <span class="hljs-string">&quot;BUSINESS&quot;</span>,<br>    <span class="hljs-string">&quot;COMEDY&quot;</span>,<br>    <span class="hljs-string">&quot;SPORTS&quot;</span>,<br>    <span class="hljs-string">&quot;BLACK VOICES&quot;</span>,<br>    <span class="hljs-string">&quot;HOME &amp; LIVING&quot;</span>,<br>    <span class="hljs-string">&quot;PARENTS&quot;</span>,<br>]<br><br><span class="hljs-comment"># define a function to classify a sentence</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">classify_sentence</span>(<span class="hljs-params">sentence</span>):<br>    <span class="hljs-comment">#Get the embedding of the sentence</span><br>    sentence_embedding = get_embedding(sentence, engine=<span class="hljs-string">&quot;text-embedding-ada-002&quot;</span>)<br>    <br>    <span class="hljs-comment">#Calculate the similarity score between the sentence and each category</span><br>    similarity_scores = &#123;&#125;<br>    <span class="hljs-keyword">for</span> category <span class="hljs-keyword">in</span> categories:<br>        category_embeddings = get_embedding(category, engine=<span class="hljs-string">&quot;text-embedding-ada-002&quot;</span>)<br>        similarity_scores[category] = cosine_similarity(sentence_embedding, category_embeddings)<br>        <br>    <span class="hljs-comment"># Return the category with the highest similarity score</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(similarity_scores, key=similarity_scores.get)<br><br>sentences = [<br>    <span class="hljs-string">&quot;1 dead and 3 injured in El Paso, Texas, mall shooting&quot;</span>,<br>    <span class="hljs-string">&quot;Director Owen Kline Calls Funny Pages His Self-Critical Debut&quot;</span>,<br>    <span class="hljs-string">&quot;15 spring break ideas for families that want to get away&quot;</span>,<br>    <span class="hljs-string">&quot;The US is preparing to send more troops to the Middle East&quot;</span>,<br>    <span class="hljs-string">&quot;Bruce Willis&#x27; &#x27;condition has progressed&#x27; to frontotemporal dementia, his family says&quot;</span>,<br>    <span class="hljs-string">&quot;Get an inside look at Universals new Super Nintendo World&quot;</span>,<br>    <span class="hljs-string">&quot;Barcelona 2-2 Manchester United: Marcus Rashford shines but Raphinha salvages draw for hosts&quot;</span>,<br>    <span class="hljs-string">&quot;Chicago bulls win the NBA championship&quot;</span>,<br>    <span class="hljs-string">&quot;The new iPhone 12 is now available&quot;</span>,<br>    <span class="hljs-string">&quot;Scientists discover a new dinosaur species&quot;</span>,<br>    <span class="hljs-string">&quot;The new coronavirus vaccine is now available&quot;</span>,<br>    <span class="hljs-string">&quot;The new Star Wars movie is now available&quot;</span>,<br>    <span class="hljs-string">&quot;Amazon stock hits a new record high&quot;</span>,<br>]<br><br><span class="hljs-keyword">for</span> sentence <span class="hljs-keyword">in</span> sentences:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;:50&#125; category is &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(sentence, classify_sentence(sentence)))<br>    <span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure><h3 id="Evaluating-the-accuracy-of-a-Zero-Shot-classifier-"><a href="#Evaluating-the-accuracy-of-a-Zero-Shot-classifier-" class="headerlink" title="Evaluating the accuracy of a Zero-Shot classifier ()"></a>Evaluating the accuracy of a Zero-Shot classifier ()</h3><p>It looks like the previous classifier is almost perfect but there is a way to understand if it is really accurate and generate an accuracy score.</p><p>We are going to start by downloading this dataset from kaggle and saving it under&#x2F;data&#x2F;News_-Category_Dataset_v3.json.</p><p>This dataset contains around 210k news headlines from 2012 to 2022 from HuffPost.The dataset classifies the headlines of each article into a category.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> openai.embeddings_utils <span class="hljs-keyword">import</span> get_embedding, cosine_similarity<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> precision_score<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br>    <br>init_api()<br><br>categories = [<br>    <span class="hljs-string">&quot;POLITICS&quot;</span>,<br>    <span class="hljs-string">&quot;WELLNESS&quot;</span>,<br>    <span class="hljs-string">&quot;ENTERTAINMENT&quot;</span>,<br>    <span class="hljs-string">&quot;TRAVEL&quot;</span>,<br>    <span class="hljs-string">&quot;STYLE &amp; BEAUTY&quot;</span>,<br>    <span class="hljs-string">&quot;PARENTING&quot;</span>,<br>    <span class="hljs-string">&quot;HEALTHY LIVING&quot;</span>,<br>    <span class="hljs-string">&quot;QUEER VOICES&quot;</span>,<br>    <span class="hljs-string">&quot;FOOD &amp; DRINK&quot;</span>,<br>    <span class="hljs-string">&quot;BUSINESS&quot;</span>,<br>    <span class="hljs-string">&quot;COMEDY&quot;</span>,<br>    <span class="hljs-string">&quot;SPORTS&quot;</span>,<br>    <span class="hljs-string">&quot;BLACK VOICES&quot;</span>,<br>    <span class="hljs-string">&quot;HOME &amp; LIVING&quot;</span>,<br>    <span class="hljs-string">&quot;PARENTS&quot;</span>,<br>]<br><br><span class="hljs-comment"># Define a function to classify a sentence</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">classify_sentence</span>(<span class="hljs-params">sentence</span>):<br>    <span class="hljs-comment"># Get the embedding of the sentence</span><br>    sentence_embedding = get_embedding(sentence, engine=<span class="hljs-string">&quot;text-embedding-ada-002&quot;</span>)<br>    <span class="hljs-comment"># Calculate the similarity score between the sentence and each category</span><br>    similarity_scores = &#123;&#125;<br>    <span class="hljs-keyword">for</span> category <span class="hljs-keyword">in</span> categories:<br>        category_embeddings = get_embedding(category, engine=<span class="hljs-string">&quot;text-embedding-ada-002&quot;</span>)<br>        similarity_scores[category] = cosine_similarity(sentence_embedding, category_embeddings)<br>        <span class="hljs-comment"># Return the category with the highest similarity score</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(similarity_scores, key=similarity_scores.get)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate_precision</span>(<span class="hljs-params">categories</span>):<br>    <span class="hljs-comment"># Load the dataset</span><br>    df = pd.read_json(<span class="hljs-string">&quot;News_Category_Dataset_v3.json&quot;</span>, lines=<span class="hljs-literal">True</span>).head(<span class="hljs-number">20</span>)<br>    y_true = []<br>    y_pred = []<br>    <br>    <span class="hljs-comment"># Classify each sentence</span><br>    <span class="hljs-keyword">for</span> _, row <span class="hljs-keyword">in</span> df.iterrows():<br>        true_category = row[<span class="hljs-string">&#x27;category&#x27;</span>]<br>        predicted_category = classify_sentence(row[<span class="hljs-string">&#x27;headline&#x27;</span>])<br>        <br>        y_true.append(true_category)<br>        y_pred.append(predicted_category)<br>        <br>        <span class="hljs-comment"># Calculate the precision score</span><br>        <span class="hljs-keyword">return</span> precision_score(y_true, y_pred, average=<span class="hljs-string">&#x27;micro&#x27;</span>, labels=categories)<br>    <br>precision_evaluated = evaluate_precision(categories)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Precision: &#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(precision_evaluated))<br></code></pre></td></tr></table></figure><h2 id="Fine-Tuning-amp-Best-Practices"><a href="#Fine-Tuning-amp-Best-Practices" class="headerlink" title="Fine Tuning &amp; Best Practices"></a>Fine Tuning &amp; Best Practices</h2><h3 id="Few-short-learning-and-example-of-Fine-Tuning-practice"><a href="#Few-short-learning-and-example-of-Fine-Tuning-practice" class="headerlink" title="Few short learning and example of Fine Tuning practice"></a>Few short learning and example of Fine Tuning practice</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">1. create a json file with below <span class="hljs-built_in">test</span> prompts</span><br>[<br>&#123;<br>    &quot;prompt&quot;:&quot;When do I have to start the heater?&quot;,<br>    &quot;completion&quot;:&quot;Every day in the morning at 7AM. You should stop it at 2PM&quot;<br>&#125;,<br><br>&#123;<br>    &quot;prompt&quot;:&quot;Where is the garage remote control?&quot;,<br>    &quot;completion&quot;:&quot;Next to the yellow door, on the key ring&quot;<br>&#125;,<br><br>&#123;<br>    &quot;prompt&quot;:&quot;Is it necessary to program the scent diffuser every day?&quot;,<br>    &quot;completion&quot;:&quot;The scent diffuser is already programmed, you just need to recharge it when its battery is low&quot;<br>&#125;<br>]<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">2. generate the jasonl file based on the previous json file</span><br>root@c1ws-test:~/jupyter_workspace# cat data.json<br>root@c1ws-test:~/jupyter_workspace# openai tools fine_tunes.prepare_data -f data.json<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">3. tune the new model based on model: davinci</span><br>root@c1ws-test:~/jupyter_workspace# export OPENAI_API_KEY=&quot;YOUR_API_KEY&quot;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">## Optional to add suffix of the new model name as below:</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">root@c1ws-test:~/jupyter_workspace<span class="hljs-comment"># openai api fine_tunes.create  -t &quot;data_prepared.jsonl&quot; -m davinci --suffix &quot;felix_yang&quot;</span></span><br><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.create  -t &quot;data_prepared.jsonl&quot; -m davinci<br>Upload progress: 100%|| 417/417 [00:00&lt;00:00, 540kit/s]<br>Uploaded file from data_prepared.jsonl: file-WIRS3kIX67OFCmGdBKlYhawT<br>Created fine-tune: ft-vs2MUECcW4S92WGroV4xtfuc<br>Streaming events until fine-tuning is complete...<br><br>(Ctrl-C will interrupt the stream, but not cancel the fine-tune)<br>[2023-06-21 03:28:41] Created fine-tune: ft-vs2MUECcW4S92WGroV4xtfuc<br><br>Stream interrupted (client disconnected).<br>To resume the stream, run:<br><br>  openai api fine_tunes.follow -i ft-vs2MUECcW4S92WGroV4xtfuc<br><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.follow -i ft-vs2MUECcW4S92WGroV4xtfuc<br>[2023-06-21 03:28:41] Created fine-tune: ft-vs2MUECcW4S92WGroV4xtfuc<br>[2023-06-21 03:29:52] Fine-tune costs $0.01<br>[2023-06-21 03:29:53] Fine-tune enqueued. Queue number: 0<br>[2023-06-21 03:30:05] Fine-tune started<br><br>Stream interrupted (client disconnected).<br>To resume the stream, run:<br><br>  openai api fine_tunes.follow -i ft-vs2MUECcW4S92WGroV4xtfuc<br><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.follow -i ft-vs2MUECcW4S92WGroV4xtfuc<br>[2023-06-21 03:28:41] Created fine-tune: ft-vs2MUECcW4S92WGroV4xtfuc<br>[2023-06-21 03:29:52] Fine-tune costs $0.01<br>[2023-06-21 03:29:53] Fine-tune enqueued. Queue number: 0<br>[2023-06-21 03:30:05] Fine-tune started<br>[2023-06-21 03:32:56] Completed epoch 1/4<br>[2023-06-21 03:32:57] Completed epoch 2/4<br>[2023-06-21 03:32:58] Completed epoch 3/4<br>[2023-06-21 03:32:59] Completed epoch 4/4<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">4. Check the new model <span class="hljs-built_in">id</span></span><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.list<br>&#123;<br>  &quot;object&quot;: &quot;list&quot;,<br>  &quot;data&quot;: [<br>    &#123;<br>      &quot;object&quot;: &quot;fine-tune&quot;,<br>      &quot;id&quot;: &quot;ft-vs2MUECcW4S92WGroV4xtfuc&quot;,   ## Fine_tune_job_id<br>      &quot;hyperparams&quot;: &#123;<br>        &quot;n_epochs&quot;: 4,<br>        &quot;batch_size&quot;: 1,<br>        &quot;prompt_loss_weight&quot;: 0.01,<br>        &quot;learning_rate_multiplier&quot;: 0.1<br>      &#125;,<br>      &quot;organization_id&quot;: &quot;org-1kpSRIJZFLe1LzYA6NIMCm20&quot;,<br>      &quot;model&quot;: &quot;davinci&quot;,<br>      &quot;training_files&quot;: [<br>        &#123;<br>          &quot;object&quot;: &quot;file&quot;,<br>          &quot;id&quot;: &quot;file-WIRS3kIX67OFCmGdBKlYhawT&quot;,<br>          &quot;purpose&quot;: &quot;fine-tune&quot;,<br>          &quot;filename&quot;: &quot;data_prepared.jsonl&quot;,<br>          &quot;bytes&quot;: 417,<br>          &quot;created_at&quot;: 1687318121,<br>          &quot;status&quot;: &quot;processed&quot;,<br>          &quot;status_details&quot;: null<br>        &#125;<br>      ],<br>      &quot;validation_files&quot;: [],<br>      &quot;result_files&quot;: [<br>        &#123;<br>          &quot;object&quot;: &quot;file&quot;,<br>          &quot;id&quot;: &quot;file-4lcuZduyevJH94dl7nkf4BPO&quot;,<br>          &quot;purpose&quot;: &quot;fine-tune-results&quot;,<br>          &quot;filename&quot;: &quot;compiled_results.csv&quot;,<br>          &quot;bytes&quot;: 754,<br>          &quot;created_at&quot;: 1687318420,<br>          &quot;status&quot;: &quot;processed&quot;,<br>          &quot;status_details&quot;: null<br>        &#125;<br>      ],<br>      &quot;created_at&quot;: 1687318121,<br>      &quot;updated_at&quot;: 1687318421,<br>      &quot;status&quot;: &quot;succeeded&quot;,<br>      &quot;fine_tuned_model&quot;: &quot;davinci:ft-personal-2023-06-21-03-33-39&quot;  # New model id<br>    &#125;<br>  ]<br>&#125;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">5. Test the new model</span><br><br>root@c1ws-test:~/jupyter_workspace# export FINE_TUNED_MODEL=&quot;davinci:ft-personal-2023-06-21-03-33-39&quot;<br>root@c1ws-test:~/jupyter_workspace# openai api completions.create -m $FINE_TUNED_MODEL -p &quot;When do I have to start the heater?&quot;<br>When do I have to start the heater?When do I have to turn off the A/C?How low can I<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">6. Analyze the new model</span><br><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.results -i &quot;ft-vs2MUECcW4S92WGroV4xtfuc&quot;<br>step,elapsed_tokens,elapsed_examples,training_loss,training_sequence_accuracy,training_token_accuracy<br>1,33,1,1.262732845058199,0.0,0.6<br>2,66,2,1.6095716556394473,0.0,0.17647058823529413<br>3,91,3,1.6150656826297443,0.0,0.45454545454545453<br>4,124,4,1.466446138578467,0.0,0.29411764705882354<br>5,149,5,1.484918415422241,0.0,0.45454545454545453<br>6,182,6,1.0398217318346723,0.0,0.55<br>7,215,7,1.0021467336965726,0.0,0.55<br>8,240,8,1.3121158500760792,0.0,0.45454545454545453<br>9,273,9,1.2723229727894068,0.0,0.4117647058823529<br>10,298,10,1.260173139721155,0.0,0.45454545454545453<br>11,331,11,1.2538491002004593,0.0,0.47058823529411764<br>12,364,12,0.9169519251119346,0.0,0.55<br>13,397,13,1.246762776928954,0.0,0.4117647058823529<br>14,422,14,1.242958545796573,0.0,0.45454545454545453<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">7. Delete the model</span><br>- CLI:<br>root@c1ws-test:~/jupyter_workspace# openai api models.delete -i &quot;davinci:ft-personal-2023-06-21-03-33-39&quot;<br>&#123;<br>  &quot;id&quot;: &quot;davinci:ft-personal-2023-06-21-03-33-39&quot;,<br>  &quot;object&quot;: &quot;model&quot;,<br>  &quot;deleted&quot;: true<br>&#125;<br><br>- Python<br>openai.Model.delete(&quot;davinci:ft-personal-2023-06-21-03-33-39&quot;)<br><br>- cURL<br>curl -X &quot;DELETE&quot; https://api.openai.com/v1/models/&lt;FINE_TUNED_MODEL&gt; -H &quot;Authorization: Bearer $OPENAI_API_KEY&quot;<br><br></code></pre></td></tr></table></figure><h3 id="Whats-the-best-practice-Datasets-Prompts-and-Completions"><a href="#Whats-the-best-practice-Datasets-Prompts-and-Completions" class="headerlink" title="Whats the best practice - Datasets, Prompts and Completions"></a>Whats the best practice - Datasets, Prompts and Completions</h3><ul><li>Each Prompt Should End With a Fixed Separator</li><li>Each Completion Should Start With a Whitespace</li><li>Each Completion Should End With a Fixed-Stop Sequence</li><li>Fine-Tuning Performs Better With More High-Quality Examples</li><li>For the dataset, converting the input data into natural language will likely result in better performance. This is evenclearer when you are building a generative model.</li><li>Review Your Data for Offensive Content</li><li>Review the Type and Structure of Your Dataset</li><li>Analyze Your Model</li></ul><blockquote><p>root@c1ws-test:~&#x2F;jupyter_workspace# openai api fine_tunes.results -i ft-vs2MUECcW4S92WGroV4xtfuc<br>step,elapsed_tokens,elapsed_examples,training_loss,training_sequence_accuracy,training_token_accuracy<br>1,33,1,1.262732845058199,0.0,0.6<br>2,66,2,1.6095716556394473,0.0,0.17647058823529413<br>3,91,3,1.6150656826297443,0.0,0.45454545454545453<br>4,124,4,1.466446138578467,0.0,0.29411764705882354<br>5,149,5,1.484918415422241,0.0,0.45454545454545453<br>6,182,6,1.0398217318346723,0.0,0.55<br>7,215,7,1.0021467336965726,0.0,0.55<br>8,240,8,1.3121158500760792,0.0,0.45454545454545453<br>9,273,9,1.2723229727894068,0.0,0.4117647058823529<br>10,298,10,1.260173139721155,0.0,0.45454545454545453<br>11,331,11,1.2538491002004593,0.0,0.47058823529411764<br>12,364,12,0.9169519251119346,0.0,0.55<br>13,397,13,1.246762776928954,0.0,0.4117647058823529<br>14,422,14,1.242958545796573,0.0,0.45454545454545453</p><ol><li>step: This column shows the training step number or the number of iterations of the trainingprocess.</li><li>elapsed_tokens: Shows the number of tokens processed by the training process so far. A token is a unit of text, such as a word or a punctuation mark.</li><li>elapsed_examples: This is the number of examples (i.e., pieces of text) processed by the training process so far.</li><li>training_loss: This number shows the value of the loss function during training. (The loss function is a measure of how well the model is performing, with lower values indicating better performance.)</li><li>training_sequence_accuracy: The accuracy of the model in predicting the next sequence of tokens. (A sequence is a group of tokens that form a meaningful unit, such as a sentence or a paragraph.)</li><li>training_token_accuracy: This value tells us about the accuracy of the model in predicting individual tokens.<br>Some third-party tools, such as wandb, can also be used to analyze the results.</li></ol></blockquote><ul><li>Use validation data if needed</li></ul><blockquote><p>openai api fine_tunes.create -t train_data.jsonl -v validation_data.jsonl -m <engine></p></blockquote><ul><li><p>Tweak the Hyperparameters</p><ul><li>n_epochs</li><li>batch_size</li><li>learning_rate_multiplier</li></ul></li><li><p>Use Ada</p><ul><li>When tackling classification problems, the Ada model is a good option. It performs only slightly<br>worse than Davinci once fine-tuned, at the same time it is considerably faster and more affordable</li></ul></li><li><p>Use Single-Token Classes</p><ul><li>save token numbers</li><li>much fast<ul><li>sports and entertainment:</li><li>{prompt:The Los Angeles Lakers won the NBA championship last year., completion: sports and entertainment}</li><li>1(for sports and entertainment):</li><li>{prompt:The Los Angeles Lakers won the NBA championship last year., completion: 1}</li></ul></li></ul></li><li><p>Other Considerations for Classification</p><ul><li>Ensure that the prompt and completion combined do not exceed 2048 tokens, including the separator.</li><li>Try to provide at least 100 examples for each class.</li><li>The separator should not be used within the prompt text. You should remove it from the prompt if its the case. Example: If your separator is !#! you should preprocess the text of the prompt to remove any !#!</li></ul></li></ul><h2 id="Advanced-Fine-Tuning-Drug-Classification"><a href="#Advanced-Fine-Tuning-Drug-Classification" class="headerlink" title="Advanced Fine Tuning: Drug Classification"></a>Advanced Fine Tuning: Drug Classification</h2><h3 id="Dataset-Used-in-the-Example"><a href="#Dataset-Used-in-the-Example" class="headerlink" title="Dataset Used in the Example"></a>Dataset Used in the Example</h3><p>In this example, we are going to use a public dataset containing drug names and the correspoinding malady, illness, or condition that they are used to treat.</p><p>We are going to create a model and teach it to predict the output based on user input.</p><p>The user input is the name of the drug and the output is the name of malady.<br>The dataset is available at Kaggle.com, you will need to download using the following URL:<br><a href="https://www.kaggle.com/datasets/saratchendra/medicine-recommendation/download?datase%5CtVersionNumber=1">https://www.kaggle.com/datasets/saratchendra/medicine-recommendation/download?datase\tVersionNumber=1</a></p><ul><li>Use sheet1</li><li>Use first and second column:  drug_name and reason<ul><li>A CN Gel(Topical) 20gmA CN Soap 75gm &#x3D;&#x3D;&gt; Acne</li><li>PPG Trio 1mg Tablet 10SPPG Trio 2mg Tablet 10S &#x3D;&#x3D;&gt; Diabetes</li><li>Iveomezoled 200mg Injection 500ml &#x3D;&#x3D;&gt; Fungal</li></ul></li></ul><h3 id="Preparing-the-Data-and-Launching-the-Fine-Tuning"><a href="#Preparing-the-Data-and-Launching-the-Fine-Tuning" class="headerlink" title="Preparing the Data and Launching the Fine Tuning"></a>Preparing the Data and Launching the Fine Tuning</h3><ul><li><p>We are going to use below format:</p><ul><li>{prompt:Drug: <DRUG NAME>\nMalady:,completion: <MALADY NAME>}</li></ul></li><li><p>As you can see, we will be using \nMalady: as a separator.</p></li></ul><blockquote><p>The completion will also start with a whitespace. Remember to start each completion with a<br>whitespace due to tokenization (most words are tokenized with preceding whitespace.)<br>Also, we have learned that each completion should end with a fixed stop sequence to inform the<br>model when the completion ends. for example \n, ###, END, or any other token that does not appear<br>in the completion.<br>However, in our case, this is not necessary as we are going to use a single token for classification.<br>Basically, we are going to give each malady a unique identifier. For example:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">Acne: 1<br>Allergies: 2<br>Alzheimer: 3<br>..etc<br></code></pre></td></tr></table></figure><p>This way, the model will return a single token at inference time in all cases. This is the reason why<br>the stop sequence is not necessary.<br>To begin, use Pandas to transform the data into the desired format</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install openpyxl<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-comment"># read the first n rows</span><br>n = <span class="hljs-number">2000</span><br><br>df = pd.read_excel(<span class="hljs-string">&#x27;Medicine_description.xlsx&#x27;</span>, sheet_name=<span class="hljs-string">&#x27;Sheet1&#x27;</span>, header=<span class="hljs-number">0</span>, nrows=n)<br><br><span class="hljs-comment"># get the unique values in the Reason column</span><br>reasons = df[<span class="hljs-string">&quot;Reason&quot;</span>].unique()<br><br><span class="hljs-comment"># assign a number to each reason</span><br>reasons_dict = &#123;reason: i <span class="hljs-keyword">for</span> i, reason <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(reasons)&#125;<br><br><span class="hljs-comment"># add a new line and ### to the end of each description</span><br>df[<span class="hljs-string">&quot;Drug_Name&quot;</span>] = <span class="hljs-string">&quot;Drug: &quot;</span> + df[<span class="hljs-string">&quot;Drug_Name&quot;</span>] + <span class="hljs-string">&quot;\n&quot;</span> + <span class="hljs-string">&quot;Malady:&quot;</span><br><br><span class="hljs-comment"># concatenate the Reason and Description columns</span><br>df[<span class="hljs-string">&quot;Reason&quot;</span>] = <span class="hljs-string">&quot; &quot;</span> + df[<span class="hljs-string">&quot;Reason&quot;</span>].apply(<span class="hljs-keyword">lambda</span> x: <span class="hljs-string">&quot;&quot;</span> + <span class="hljs-built_in">str</span>(reasons_dict[x]))<br><br><span class="hljs-comment"># drop the Reason column</span><br>df.drop([<span class="hljs-string">&quot;Description&quot;</span>], axis=<span class="hljs-number">1</span>, inplace=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># rename the columns</span><br>df.rename(columns=&#123;<span class="hljs-string">&quot;Drug_Name&quot;</span>: <span class="hljs-string">&quot;prompt&quot;</span>, <span class="hljs-string">&quot;Reason&quot;</span>: <span class="hljs-string">&quot;completion&quot;</span>&#125;, inplace=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># convert the dataframe to jsonl format</span><br>jsonl = df.to_json(orient=<span class="hljs-string">&quot;records&quot;</span>, indent=<span class="hljs-number">0</span>, lines=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># write the jsonl to a file</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;drug_malady_data.jsonl&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(jsonl)<br></code></pre></td></tr></table></figure><p>snippet of the generated file: drug_malady_data.jsonl</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs swift">&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: A CN Gel(Topical) 20gmA CN Soap 75gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: A Ret 0.05% Gel 20gmA Ret 0.1% Gel 20gmA Ret 0.025% Gel 20gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: ACGEL CL NANO Gel 15gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: ACGEL NANO Gel 15gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acleen 1% Lotion 25ml<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Aclene 0.10% Gel 15gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acnay Gel 10gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acne Aid Bar 50gmAcne Aid Bar 100gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acne UV Gel 60gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acne UV SPF 30 Gel 30gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acnecure Gel 20gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;prompt&quot;</span>:<span class="hljs-string">&quot;Drug: Acnedap Gel 15gm<span class="hljs-subst">\n</span>Malady:&quot;</span>,<span class="hljs-string">&quot;completion&quot;</span>:<span class="hljs-string">&quot; 0&quot;</span>&#125;<br><span class="hljs-operator">...</span><br><br></code></pre></td></tr></table></figure><p>Now we need to train the module for a new model based on the jsonl file. Herere the details:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><code class="hljs shell">root@c1ws-test:~/jupyter_workspace# openai tools fine_tunes.prepare_data -f drug_malady_data.jsonl<br>Analyzing...<br><br>- Your file contains 2000 prompt-completion pairs<br>- Based on your data it seems like you&#x27;re trying to fine-tune a model for classification<br>- For classification, we recommend you try one of the faster and cheaper models, such as `ada`<br>- For classification, you can estimate the expected model performance by keeping a held out dataset, which is not used fortraining<br>- All prompts end with suffix `\nMalady:`<br>- All prompts start with prefix `Drug: `<br><br>No remediations found.<br>- [Recommended] Would you like to split into training and validation set? [Y/n]: Y<br><br><br>Your data will be written to a new JSONL file. Proceed [Y/n]: Y<br><br>Wrote modified files to `drug_malady_data_prepared_train.jsonl` and `drug_malady_data_prepared_valid.jsonl`<br>Feel free to take a look!<br><br>Now use that file when fine-tuning:<br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">openai api fine_tunes.create -t <span class="hljs-string">&quot;drug_malady_data_prepared_train.jsonl&quot;</span> -v <span class="hljs-string">&quot;drug_malady_data_prepared_valid.jsonl&quot;</span> --compute_classification_metrics --classification_n_classes 7</span><br><br>After youve fine-tuned a model, remember that your prompt has to end with the indicator string `\nMalady:` for the model to start generating completions, rather than continuing with the prompt.<br>Once your model starts training, it&#x27;ll approximately take 50.33 minutes to train a `curie` model, and less for `ada` and `babbage`. Queue will approximately take half an hour per job ahead of you.<br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.create \<br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">-t <span class="hljs-string">&quot;drug_malady_data_prepared_train.jsonl&quot;</span> \</span><br><span class="language-bash">&gt; -v <span class="hljs-string">&quot;drug_malady_data_prepared_valid.jsonl&quot;</span> \</span><br><span class="language-bash">&gt; --compute_classification_metrics \</span><br><span class="language-bash">&gt; --classification_n_classes 7 \</span><br><span class="language-bash">&gt; -m ada \</span><br><span class="language-bash">&gt; --suffix <span class="hljs-string">&quot;drug_malady_data&quot;</span></span><br>Error: No API key provided. You can set your API key in code using &#x27;openai.api_key = &lt;API-KEY&gt;&#x27;, or you can set the environment variable OPENAI_API_KEY=&lt;API-KEY&gt;). If your API key is stored in a file, you can point the openai module at it with &#x27;openai.api_key_path = &lt;PATH&gt;&#x27;. You can generate API keys in the OpenAI web interface. See https://platform.openai.com/account/api-keys for details.<br><br><br>root@c1ws-test:~/jupyter_workspace# export OPENAI_API_KEY=&quot;&lt;your key&gt;&quot;<br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.create -t &quot;drug_malady_data_prepared_train.jsonl&quot; -v &quot;drug_malady_data_prepared_valid.jsonl&quot; --compute_classification_metrics --classification_n_classes 7 -m ada --suffix &quot;drug_malady_data&quot;<br>Upload progress: 100%|| 128k/128k [00:00&lt;00:00, 187Mit/s]<br>Uploaded file from drug_malady_data_prepared_train.jsonl: file-0NFPDCuDyX1nfLv3dFuarPDr<br>Upload progress: 100%|| 32.0k/32.0k [00:00&lt;00:00, 59.6Mit/s]<br>Uploaded file from drug_malady_data_prepared_valid.jsonl: file-kxzT0UhZZRwam7RfjYIFcuTF<br>Created fine-tune: ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br>Streaming events until fine-tuning is complete...<br><br>(Ctrl-C will interrupt the stream, but not cancel the fine-tune)<br>[2023-06-21 08:54:19] Created fine-tune: ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br><br>Stream interrupted (client disconnected).<br>To resume the stream, run:<br><br>  openai api fine_tunes.follow -i ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.follow -i ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br>[2023-06-21 08:54:19] Created fine-tune: ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br>[2023-06-21 08:56:36] Fine-tune costs $0.05<br>[2023-06-21 08:56:36] Fine-tune enqueued. Queue number: 20<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">It took mroe than 1 hour to complete the model training</span><br><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.follow -i ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br>[2023-06-21 08:54:19] Created fine-tune: ft-zk8Ojv3J1Nj1HpzRdicC2iPL<br>[2023-06-21 08:56:36] Fine-tune costs $0.05<br>[2023-06-21 08:56:36] Fine-tune enqueued. Queue number: 20<br>[2023-06-21 09:06:35] Fine-tune is in the queue. Queue number: 19<br>[2023-06-21 09:06:39] Fine-tune is in the queue. Queue number: 18<br>[2023-06-21 09:07:09] Fine-tune is in the queue. Queue number: 17<br>[2023-06-21 09:08:12] Fine-tune is in the queue. Queue number: 16<br>[2023-06-21 09:09:27] Fine-tune is in the queue. Queue number: 15<br>[2023-06-21 09:10:00] Fine-tune is in the queue. Queue number: 14<br>[2023-06-21 09:10:55] Fine-tune is in the queue. Queue number: 13<br>[2023-06-21 09:11:40] Fine-tune is in the queue. Queue number: 12<br>[2023-06-21 09:13:14] Fine-tune is in the queue. Queue number: 11<br>[2023-06-21 09:13:48] Fine-tune is in the queue. Queue number: 10<br>[2023-06-21 09:15:02] Fine-tune is in the queue. Queue number: 9<br>[2023-06-21 09:15:08] Fine-tune is in the queue. Queue number: 8<br>[2023-06-21 09:18:55] Fine-tune is in the queue. Queue number: 7<br>[2023-06-21 09:19:27] Fine-tune is in the queue. Queue number: 6<br>[2023-06-21 09:30:57] Fine-tune is in the queue. Queue number: 5<br>[2023-06-21 09:32:08] Fine-tune is in the queue. Queue number: 4<br>[2023-06-21 09:32:29] Fine-tune is in the queue. Queue number: 3<br>[2023-06-21 09:33:03] Fine-tune is in the queue. Queue number: 2<br>[2023-06-21 09:33:54] Fine-tune is in the queue. Queue number: 1<br>[2023-06-21 09:37:01] Fine-tune is in the queue. Queue number: 0<br>[2023-06-21 09:37:21] Fine-tune started<br>[2023-06-21 09:42:31] Completed epoch 1/4<br>[2023-06-21 09:52:33] Completed epoch 3/4<br>[2023-06-21 09:57:33] Completed epoch 4/4<br>[2023-06-21 09:58:06] Uploaded model: ada:ft-personal:drug-malady-data-2023-06-21-09-58-05<br>[2023-06-21 09:58:07] Uploaded result file: file-tzqW6Vjcqg9thdkCBzgihH8M<br>[2023-06-21 09:58:07] Fine-tune succeeded<br><br>Job complete! Status: succeeded <br>Try out your fine-tuned model:<br><br>openai api completions.create -m ada:ft-personal:drug-malady-data-2023-06-21-09-58-05 -p &lt;YOUR_PROMPT&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">List the generated new models</span><br>root@c1ws-test:~/jupyter_workspace# openai api fine_tunes.list<br>&#123;<br>  &quot;object&quot;: &quot;list&quot;,<br>  &quot;data&quot;: [<br>    &#123;<br>      &quot;object&quot;: &quot;fine-tune&quot;,<br>      &quot;id&quot;: &quot;ft-zk8Ojv3J1Nj1HpzRdicC2iPL&quot;,<br>      &quot;hyperparams&quot;: &#123;<br>        &quot;n_epochs&quot;: 4,<br>        &quot;batch_size&quot;: 2,<br>        &quot;prompt_loss_weight&quot;: 0.01,<br>        &quot;classification_n_classes&quot;: 7,<br>        &quot;learning_rate_multiplier&quot;: 0.1,<br>        &quot;compute_classification_metrics&quot;: true<br>      &#125;,<br>      &quot;organization_id&quot;: &quot;org-1kpSRIJZFLe1LzYA6NIMCm20&quot;,<br>      &quot;model&quot;: &quot;ada&quot;,<br>      &quot;training_files&quot;: [<br>        &#123;<br>          &quot;object&quot;: &quot;file&quot;,<br>          &quot;id&quot;: &quot;file-0NFPDCuDyX1nfLv3dFuarPDr&quot;,<br>          &quot;purpose&quot;: &quot;fine-tune&quot;,<br>          &quot;filename&quot;: &quot;drug_malady_data_prepared_train.jsonl&quot;,<br>          &quot;bytes&quot;: 128249,<br>          &quot;created_at&quot;: 1687337657,<br>          &quot;status&quot;: &quot;processed&quot;,<br>          &quot;status_details&quot;: null<br>        &#125;<br>      ],<br>      &quot;validation_files&quot;: [<br>        &#123;<br>          &quot;object&quot;: &quot;file&quot;,<br>          &quot;id&quot;: &quot;file-kxzT0UhZZRwam7RfjYIFcuTF&quot;,<br>          &quot;purpose&quot;: &quot;fine-tune&quot;,<br>          &quot;filename&quot;: &quot;drug_malady_data_prepared_valid.jsonl&quot;,<br>          &quot;bytes&quot;: 32007,<br>          &quot;created_at&quot;: 1687337659,<br>          &quot;status&quot;: &quot;processed&quot;,<br>          &quot;status_details&quot;: null<br>        &#125;<br>      ],<br>      &quot;result_files&quot;: [<br>        &#123;<br>          &quot;object&quot;: &quot;file&quot;,<br>          &quot;id&quot;: &quot;file-tzqW6Vjcqg9thdkCBzgihH8M&quot;,<br>          &quot;purpose&quot;: &quot;fine-tune-results&quot;,<br>          &quot;filename&quot;: &quot;compiled_results.csv&quot;,<br>          &quot;bytes&quot;: 168489,<br>          &quot;created_at&quot;: 1687341486,<br>          &quot;status&quot;: &quot;processed&quot;,<br>          &quot;status_details&quot;: null<br>        &#125;<br>      ],<br>      &quot;created_at&quot;: 1687337659,<br>      &quot;updated_at&quot;: 1687341487,<br>      &quot;status&quot;: &quot;succeeded&quot;,<br>      &quot;fine_tuned_model&quot;: &quot;ada:ft-personal:drug-malady-data-2023-06-21-09-58-05&quot;  ---&gt; fine tuned model ID<br>    &#125;<br>  ]<br>&#125;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Simple Test the new model</span><br>root@c1ws-test:~/jupyter_workspace# openai api completions.create -m ada:ft-personal:drug-malady-data-2023-06-21-09-58-05 -p &quot;What is &#x27;A CN Gel(Topical) 20gmA CN Soap 75gm&#x27; used for?&quot;<br>What is &#x27;A CN Gel(Topical) 20gmA CN Soap 75gm&#x27; used for? 0.0% Gel(Topical) 60gm<br><br></code></pre></td></tr></table></figure><h3 id="Testing-the-Fine-Tuned-Model"><a href="#Testing-the-Fine-Tuned-Model" class="headerlink" title="Testing the Fine Tuned Model"></a>Testing the Fine Tuned Model</h3><p>When the model is ready, you can test with below code:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br>    <br>init_api()<br><br><span class="hljs-comment"># Configure the model ID. Change this to your model ID.</span><br>model = <span class="hljs-string">&quot;ada:ft-personal:drug-malady-data-2023-06-21-09-58-05&quot;</span><br><br><span class="hljs-comment"># Let&#x27;s use a drug from each class</span><br>drugs = [<br>    <span class="hljs-string">&quot;A CN Gel(Topical) 20gmA CN Soap 75gm&quot;</span>, <span class="hljs-comment"># Class 0</span><br>    <span class="hljs-string">&quot;Addnok Tablet 20&#x27;S&quot;</span>, <span class="hljs-comment"># Class 1</span><br>    <span class="hljs-string">&quot;ABICET M Tablet 10&#x27;s&quot;</span>, <span class="hljs-comment"># Class 2</span><br>]<br><br>class_map = &#123;<br>    <span class="hljs-number">0</span>: <span class="hljs-string">&quot;Acne&quot;</span>,<br>    <span class="hljs-number">1</span>: <span class="hljs-string">&quot;Adhd&quot;</span>,<br>    <span class="hljs-number">2</span>: <span class="hljs-string">&quot;Allergies&quot;</span>,<br>    <span class="hljs-comment"># ...</span><br>&#125;<br><br><span class="hljs-comment"># Returns a drug class for each drug</span><br><span class="hljs-keyword">for</span> drug_name <span class="hljs-keyword">in</span> drugs:<br>    prompt = <span class="hljs-string">&quot;Drug: &#123;&#125;\nMalady:&quot;</span>.<span class="hljs-built_in">format</span>(drug_name)<br>    response = openai.Completion.create(<br>        model=model,<br>        prompt= prompt,<br>        temperature=<span class="hljs-number">1</span>,<br>        max_tokens=<span class="hljs-number">1</span>,<br>    )<br>    response = response.choices[<span class="hljs-number">0</span>].text<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">print</span>(drug_name + <span class="hljs-string">&quot; is used for &quot;</span> + class_map[<span class="hljs-built_in">int</span>(response)])<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I don&#x27;t know what &quot;</span> + drug_name + <span class="hljs-string">&quot; is used for.&quot;</span>)<br>    <span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure><h2 id="Advanced-Fine-Tuning-Creating-a-Chatbot-Assitant"><a href="#Advanced-Fine-Tuning-Creating-a-Chatbot-Assitant" class="headerlink" title="Advanced Fine Tuning: Creating a Chatbot Assitant"></a>Advanced Fine Tuning: Creating a Chatbot Assitant</h2><p>Based on previous truning model, the goal of this chapter is to create a chatbot with clarification more human friendly. </p><h3 id="Interactive-Classification"><a href="#Interactive-Classification" class="headerlink" title="Interactive Classification"></a>Interactive Classification</h3><p>Three functions defined:</p><ul><li>regular_discussion()</li><li>get_malady_name()</li><li>get_malady_description()</li></ul><p>The end user, when asking about a drug name will get the malady(from the fine-tuned model) and its description(from Davinci).</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> openai<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_api</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.env&#x27;</span>) <span class="hljs-keyword">as</span> env:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> env:<br>            key, value = line.strip().split(<span class="hljs-string">&#x27;=&#x27;</span>)<br>            os.environ[key] = value<br>    <br>    openai.api_key = os.environ.get(<span class="hljs-string">&quot;API_KEY&quot;</span>)<br>    <br>init_api()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">regular_discussion</span>(<span class="hljs-params">prompt</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    params: prompt - a string</span><br><span class="hljs-string">    Returns a response from the API using Davinci.</span><br><span class="hljs-string">    If the user asks about a drug, the function will call get_malady_name()</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <br>    prompt = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    The following is a conversation with an AI assistant. The assistant is helpful, \</span><br><span class="hljs-string">    creative, clever, very friendly and careful with Human&#x27;s health topics</span><br><span class="hljs-string">    The AI assistant is not a doctor and does not diagnose or treat medical conditions to Human</span><br><span class="hljs-string">    The AI assistant is not a pharmacist and does not dispense or recommend medications to Human</span><br><span class="hljs-string">    The AI assistant does not provide medical advice to Human</span><br><span class="hljs-string">    The AI assistant does not provide medical and health diagnosis to Human</span><br><span class="hljs-string">    The AI assistant does not provide medical treatment to Human</span><br><span class="hljs-string">    The AI assistant does not provide medical prescriptions to Human</span><br><span class="hljs-string">    If Human writes the name of a drug the assistant will reply with &quot;######&quot;.</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    Human: Hi</span><br><span class="hljs-string">    AI: Hello Human. How are you? I&#x27;ll be glad to help. Give me the name of a drug a\</span><br><span class="hljs-string">    nd I&#x27;ll tell you what it&#x27;s used for.</span><br><span class="hljs-string">    Human: Vitibex</span><br><span class="hljs-string">    AI: ######</span><br><span class="hljs-string">    Human: I&#x27;m fine. How are you?</span><br><span class="hljs-string">    AI: I am fine. Thank you for asking. I&#x27;ll be glad to help. Give me the name of a\</span><br><span class="hljs-string">    drug and I&#x27;ll tell you what it&#x27;s used for.</span><br><span class="hljs-string">    Human: What is Chaos Engineering?</span><br><span class="hljs-string">    AI: I&#x27;m sorry, I am not qualified to do that. I&#x27;m only programmed to answer ques\</span><br><span class="hljs-string">    tions about drugs. Give me the name of a drug and I&#x27;ll tell you what it&#x27;s used for.</span><br><span class="hljs-string">    Human: Where is Carthage?</span><br><span class="hljs-string">    AI: I&#x27;m sorry, I am not qualified to do that. I&#x27;m only programmed to answer ques\</span><br><span class="hljs-string">    tions about drugs. Give me the name of a drug and I&#x27;ll tell you what it&#x27;s used for.</span><br><span class="hljs-string">    Human: What is Maxcet 5mg Tablet 10&#x27;S?</span><br><span class="hljs-string">    AI: ######</span><br><span class="hljs-string">    Human: What is Axepta?</span><br><span class="hljs-string">    AI: ######</span><br><span class="hljs-string">    Human: &#123;&#125;</span><br><span class="hljs-string">    AI:&quot;&quot;&quot;</span>.<span class="hljs-built_in">format</span>(prompt)<br>    <br>    <span class="hljs-comment"># Get the response from API</span><br>    response = openai.Completion.create(<br>        model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>        prompt=prompt,<br>        max_tokens=<span class="hljs-number">100</span>,<br>        stop=[<span class="hljs-string">&#x27;\n&#x27;</span>, <span class="hljs-string">&#x27;Human:&#x27;</span>, <span class="hljs-string">&#x27;AI:&#x27;</span>],<br>    )<br>    <br>    <span class="hljs-keyword">if</span> response.choices[<span class="hljs-number">0</span>].text.strip() == <span class="hljs-string">&quot;######&quot;</span>:<br>        get_malady_name(prompt)<br>    <span class="hljs-keyword">else</span>:<br>        final_response = response.choices[<span class="hljs-number">0</span>].text.strip() + <span class="hljs-string">&#x27;\n&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AI: &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(final_response))<br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_malady_name</span>(<span class="hljs-params">drug_name</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    params: drug_name - a string</span><br><span class="hljs-string">    Returns a malady name that corresponds to a drug name from the fine-tuned model.</span><br><span class="hljs-string">    The function will call get_malady_description() to get a description of the malady.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <br>    <span class="hljs-comment"># Configure the model ID. Change this to your model ID.</span><br>    model = <span class="hljs-string">&quot;ada:ft-personal:drug-malady-data-2023-06-21-09-58-05&quot;</span><br>    class_map = &#123;<br>        <span class="hljs-number">0</span>: <span class="hljs-string">&quot;Acne&quot;</span>,<br>        <span class="hljs-number">1</span>: <span class="hljs-string">&quot;Adhd&quot;</span>,<br>        <span class="hljs-number">2</span>: <span class="hljs-string">&quot;Allergies&quot;</span>,<br>        <span class="hljs-comment"># ...</span><br>    &#125;<br>    <br>    <span class="hljs-comment"># Returns a drug class for each drug</span><br>    prompt = <span class="hljs-string">&quot;Drug: &#123;&#125;\nMalady:&quot;</span>.<span class="hljs-built_in">format</span>(drug_name)<br>    response = openai.Completion.create(<br>        model=model,<br>        prompt=prompt,<br>        temperature=<span class="hljs-number">1</span>,<br>        max_tokens=<span class="hljs-number">1</span>, <br>    )<br>    <br>    response = response.choices[<span class="hljs-number">0</span>].text.strip()<br>    <span class="hljs-keyword">try</span>:<br>        malady = class_map[<span class="hljs-built_in">int</span>(response)]<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AI: This drug used for &#123;&#125;.&quot;</span>.<span class="hljs-built_in">format</span>(malady))<br>        <span class="hljs-built_in">print</span>(get_malady_description(malady))<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AI: I don&#x27;t know what &#x27;&quot;</span> + drug_name + <span class="hljs-string">&quot;&#x27; is used for.&quot;</span>)<br>        <br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_malady_description</span>(<span class="hljs-params">malady</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    params: drug_name - a string</span><br><span class="hljs-string">    Get a description of a malady from the API using Davinci.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <br>    prompt = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    The following is a conversation with an AI assistant. The assistant is helpful, \</span><br><span class="hljs-string">    creative, clever, and very friendly.</span><br><span class="hljs-string">    The assistant does not provide medical advice. It only defines a malady, a disea\</span><br><span class="hljs-string">    se, or a condition.</span><br><span class="hljs-string">    If the assistant does not know the answer to a question, it will ask to rephrase\</span><br><span class="hljs-string">    it.</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    Q: What is &#123;&#125;?</span><br><span class="hljs-string">    A:&quot;&quot;&quot;</span>.<span class="hljs-built_in">format</span>(malady)<br>    <br>    <span class="hljs-comment"># Get the response from the API</span><br>    response = openai.Completion.create(<br>        model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>,<br>        prompt=prompt,<br>        max_tokens=<span class="hljs-number">100</span>,<br>        stop=[<span class="hljs-string">&#x27;\n&#x27;</span>, <span class="hljs-string">&#x27;Q:&#x27;</span>, <span class="hljs-string">&#x27;A:&#x27;</span>],<br>    )<br>    <span class="hljs-keyword">return</span> response.choices[<span class="hljs-number">0</span>].text.strip()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        regular_discussion(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;Human:&quot;</span>))<br></code></pre></td></tr></table></figure><pre><code class="hljs">Human:What is FantanylAI: This drug used for Allergies.Allergies are a common condition caused by an overly sensitive immune system. Symptoms usually include sneezing, runny nose, itchy eyes, and skin rash. Allergies can be triggered by something in the environment, such as pollen, pet hair, dust, or certain foods.---------------------------------------------------------------------------KeyboardInterrupt                         Traceback (most recent call last)Cell In[3], line 129    127 if __name__ == &#39;__main__&#39;:    128     while True:--&gt; 129         regular_discussion(input(&quot;Human:&quot;))File ~/.local/lib/python3.8/site-packages/ipykernel/kernelbase.py:1191, in Kernel.raw_input(self, prompt)   1189     msg = &quot;raw_input was called, but this frontend does not support input requests.&quot;   1190     raise StdinNotImplementedError(msg)-&gt; 1191 return self._input_request(   1192     str(prompt),   1193     self._parent_ident[&quot;shell&quot;],   1194     self.get_parent(&quot;shell&quot;),   1195     password=False,   1196 )File ~/.local/lib/python3.8/site-packages/ipykernel/kernelbase.py:1234, in Kernel._input_request(self, prompt, ident, parent, password)   1231 except KeyboardInterrupt:   1232     # re-raise KeyboardInterrupt, to truncate traceback   1233     msg = &quot;Interrupted by user&quot;-&gt; 1234     raise KeyboardInterrupt(msg) from None   1235 except Exception:   1236     self.log.warning(&quot;Invalid Message:&quot;, exc_info=True)KeyboardInterrupt: Interrupted by user</code></pre><h2 id="Intelligent-Speech-Recognition-Using-OpenAI-Whisper"><a href="#Intelligent-Speech-Recognition-Using-OpenAI-Whisper" class="headerlink" title="Intelligent Speech Recognition Using OpenAI Whisper"></a>Intelligent Speech Recognition Using OpenAI Whisper</h2>]]></content>
    
    
    
    <tags>
      
      <tag></tag>
      
      <tag>AI</tag>
      
      <tag>GPT</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo </title>
    <link href="/2023/05/29/hexo-bo-ke-da-jian/"/>
    <url>/2023/05/29/hexo-bo-ke-da-jian/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><hr><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p><a href="https://hexo.io/docs/">Hero </a></p><p>Hexo is a fast, simple and powerful blog framework. You write posts in <a href="http://daringfireball.net/projects/markdown/">Markdown</a> (or other markup languages) and Hexo generates static files with a beautiful theme in seconds.</p><h3 id="node--npm"><a href="#node--npm" class="headerlink" title="node  npm"></a>node  npm</h3><blockquote><p>brew install nodenodenpm</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">brew install node<br>node -v<br></code></pre></td></tr></table></figure><h3 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install hexo-cli -g<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">hexo 5.0 swig theme </span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">https://blog.csdn.net/qq_39898645/article/details/109181736</span><br><br>npm install hexo-renderer-swig<br></code></pre></td></tr></table></figure><h2 id="Hexo-"><a href="#Hexo-" class="headerlink" title="Hexo "></a>Hexo </h2><h3 id="-felixyh-github-io"><a href="#-felixyh-github-io" class="headerlink" title=" felixyh.github.io"></a> felixyh.github.io</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo init felixyh.github.io<br>cd felixyh.github.io<br>npm install<br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo clean<br>hexo g<br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><blockquote><p> <strong>localhost:4000</strong> </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo s<br></code></pre></td></tr></table></figure><h2 id="Hexo-"><a href="#Hexo-" class="headerlink" title="Hexo "></a>Hexo </h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><ul><li><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo new test<br></code></pre></td></tr></table></figure><p>**source&#x2F;_posts&#x2F;**<code>test.md</code></p></li><li><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo clean<br>hexo g<br>hexo s<br></code></pre></td></tr></table></figure></li></ul></li><li><p>**source&#x2F;_posts&#x2F;**<code>.md</code></p></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>**_config.yml**<a href="https://hexo.io/zh-cn/docs/configuration.html"></a></p><p></p><ul><li><strong>title</strong> -&gt; </li><li><strong>subtitle</strong> -&gt; </li><li><strong>description</strong> -&gt; </li><li><strong>author</strong> -&gt; </li><li><strong>language</strong> -&gt; </li></ul><p><strong>:</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">title:</span> <span class="hljs-string">Droidlover</span><br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><a href="https://minimalism.codeover.cn/docs/start">gitment Demo</a></p><p><a href="https://minimalism.codeover.cn/docs/start">gitment </a></p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>Hexo <a href="https://hexo.io/themes/"></a></p><p> <a href="https://minimalism.codeover.cn/">hexo-theme-minimalism</a></p><p>minimalism<a href="https://minimalism.codeover.cn/docs/start"></a></p><h3 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h3><ol><li><p>xxx.github.iopublicprivate <a href="https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages">github pages</a></p></li><li><p>git deployment <a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure></li><li><p>git</p><blockquote><p>branch mastergithub mainmain</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Deployment</span><br><span class="hljs-comment">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/felixyh/felixyh.github.io.git</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo d<br></code></pre></td></tr></table></figure></li></ol><h1 id="Github-"><a href="#Github-" class="headerlink" title="Github "></a>Github </h1><p><a href="https://zhuanlan.zhihu.com/p/71544809">githexogithub</a></p><blockquote><p>github<code>git push origin source -f</code></p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>hero</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2023/05/26/ke-xue-shang-wang/"/>
    <url>/2023/05/26/ke-xue-shang-wang/</url>
    
    <content type="html"><![CDATA[<hr><h1>  </h1><p> <a href="http://coolshell.cn/">http://coolshell.cn</a><br>2023-05-02</p><p> <a href="https://github.com/haoel/haoel.github.io">https://github.com/haoel/haoel.github.io</a> </p><ul><li><a href="#0-%E5%BA%8F">0. </a></li><li><a href="#1-%E6%9C%BA%E5%9C%BA-vs-%E8%87%AA%E5%BB%BA">1.  vs </a></li><li><a href="#2-%E8%B4%AD%E4%B9%B0vps">2. VPS</a><ul><li><a href="#21-%E5%B8%B8%E8%A7%84vps">2.1 VPS</a></li><li><a href="#22-cn2-%E7%BA%BF%E8%B7%AF">2.2 CN2 </a></li></ul></li><li><a href="#3-%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1">3. </a><ul><li><a href="#31-%E8%AE%BE%E7%BD%AEdocker%E6%9C%8D%E5%8A%A1">3.1 Docker</a></li><li><a href="#32-%E5%BC%80%E5%90%AF-tcp-bbr-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95">3.2  TCP BBR </a></li><li><a href="#33-%E7%94%B3%E8%AF%B7%E5%9F%9F%E5%90%8D%E5%92%8C%E8%AF%81%E4%B9%A6">3.3 </a></li><li><a href="#34-%E7%94%A8-gost-%E8%AE%BE%E7%BD%AE-https-%E6%9C%8D%E5%8A%A1">3.4  Gost  HTTPS </a></li><li><a href="#35-%E8%AE%BE%E7%BD%AE-shadowsocks-%E6%9C%8D%E5%8A%A1-%E4%B8%8D%E6%8E%A8%E8%8D%90">3.5  ShadowSocks  </a></li><li><a href="#36-%E8%AE%BE%E7%BD%AEl2tpipsec%E6%9C%8D%E5%8A%A1-%E4%B8%8D%E6%8E%A8%E8%8D%90">3.6 L2TP&#x2F;IPSec </a></li></ul></li><li><a href="#4-%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%BE%E7%BD%AE">4. </a><ul><li><a href="#41-%E7%94%B5%E8%84%91%E7%AB%AF%E8%AE%BE%E7%BD%AE">4.1 </a><ul><li><a href="#411-chrome-%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE">4.1.1 Chrome </a></li><li><a href="#412-%E5%85%A8%E5%B1%80-clash-%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE">4.1.2  Clash </a></li></ul></li><li><a href="#42-%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%AE%BE%E7%BD%AE">4.2 </a><ul><li><a href="#421-android">4.2.1 Android</a></li><li><a href="#422-iphone">4.2.2 iPhone</a></li></ul></li><li><a href="#43-%E5%B9%B3%E6%9D%BF%E7%AB%AF%E8%AE%BE%E7%BD%AE-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BD%BF%E7%94%A8gost%E4%BB%A3%E7%90%86">4.3 </a><ul><li><a href="#431-ipad">4.3.1 iPad</a></li></ul></li></ul></li><li><a href="#5-%E7%BE%8E%E5%9B%BD%E6%89%8B%E6%9C%BA%E5%92%8C%E6%94%AF%E4%BB%98">5. </a><ul><li><a href="#51-%E7%BE%8E%E5%9B%BD%E6%89%8B%E6%9C%BA">5.1 </a></li><li><a href="#52-%E7%BE%8E%E5%9B%BD%E6%94%AF%E4%BB%98">5.2 </a></li></ul></li><li><a href="#6-%E6%B5%81%E9%87%8F%E4%BC%AA%E8%A3%85%E5%92%8C%E9%98%B2%E6%8E%A2%E6%B5%8B">6. </a></li><li><a href="#7-%E9%92%88%E5%AF%B9-ip-%E8%A2%AB%E5%B0%81%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">7.  IP </a></li><li><a href="#8-%E5%AE%B6%E7%94%A8%E9%80%8F%E6%98%8E%E7%BD%91%E5%85%B3">8. </a><ul><li><a href="#81-openwrt-%E8%B7%AF%E7%94%B1%E5%99%A8">8.1 OpenWRT </a></li><li><a href="#82-%E9%80%9A%E8%BF%87%E6%A0%91%E8%8E%93%E6%B4%BE%E5%81%9A%E6%97%81%E8%B7%AF%E7%BD%91%E5%85%B3">8.2 </a></li><li><a href="#83-%E5%AE%89%E8%A3%85-clash">8.3  Clash</a></li><li><a href="#84-%E8%AE%BE%E7%BD%AE-iptables-%E8%BD%AC%E5%8F%91">8.4  <code>iptables</code> </a></li></ul></li><li><a href="#9-%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E9%80%8F%E6%98%8E%E7%BD%91%E5%85%B3">9. </a><ul><li><a href="#91-aws-%E7%BD%91%E7%BB%9C%E6%9E%84%E5%BB%BA">9.1 AWS </a></li><li><a href="#92-%E5%AE%89%E8%A3%85-clash">9.2  Clash</a></li><li><a href="#93-%E9%85%8D%E7%BD%AE%E7%A7%81%E6%9C%89%E5%AD%90%E7%BD%91%E4%B8%AD%E7%9A%84-ec2">9.3  EC2</a></li><li><a href="#94-%E7%A7%81%E6%9C%89%E5%AD%90%E7%BD%91%E4%B8%AD%E7%9A%84-kubernetes">9.4  Kubernetes</a></li></ul></li><li><a href="#10-%E4%BB%A3%E7%90%86%E6%8A%80%E5%B7%A7">10. </a><ul><li><a href="#101-http-%E9%9A%A7%E9%81%93">10.1 HTTP </a></li><li><a href="#102-ssh-%E9%9A%A7%E9%81%93">10.2 SSH </a></li><li><a href="#103-github--git-ssh-%E4%BB%A3%E7%90%86">10.3 Github &#x2F; Git SSH </a></li><li><a href="#104-cloudflare-warp-%E5%8E%9F%E7%94%9F-ip">10.4 Cloudflare Warp  IP</a><ul><li><a href="#1041-warp-%E6%A8%A1%E5%BC%8F">10.4.1 WARP </a></li><li><a href="#1042-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F">10.4.2 </a></li><li><a href="#1043-docker-%E4%BB%A3%E7%90%86">10.4.3 Docker </a></li></ul></li></ul></li><li><a href="#11-%E5%85%B6%E5%AE%83">11. </a><ul><li><a href="#111-%E5%85%B6%E5%AE%83%E6%96%B9%E5%BC%8F">11.1 </a></li><li><a href="#112-%E6%90%AD%E5%BB%BA%E8%84%9A%E6%9C%AC">11.2 </a></li></ul></li></ul><h2 id="0-"><a href="#0-" class="headerlink" title="0. "></a>0. </h2><p></p><p></p><ul><li>Youtube  Vimeo </li><li>Wikipedia </li><li>SlideShare PPT</li><li>Quora </li><li>Blogspot  Medium</li><li>Google Gmail, Map, DocsDriverVoicesGoogle</li><li>DropboxIFTTTImgurarchive.org</li><li>Twitter  Follow AWSDocker</li><li> Facebook, Telegram, Whatsapp, Slack</li><li>Reddit </li><li>Pinterest  Instagram  </li><li>BBC BBC</li><li>Go go get  Google Google Android  SourceForge Docker RegistryGithubgist</li><li></li></ul><p></p><p><strong>Google</strong> VPN</p><p> <strong>GFW</strong> </p><h2 id="1--vs-"><a href="#1--vs-" class="headerlink" title="1.  vs "></a>1.  vs </h2><p></p><ol><li></li><li></li><li></li></ol><p></p><p></p><p></p><h2 id="2-VPS"><a href="#2-VPS" class="headerlink" title="2. VPS"></a>2. VPS</h2><p> VPS<strong>VPS</strong></p><p> VPS  - <strong></strong>  <strong></strong></p><ul><li><strong></strong>1CPU1GB50GB</li><li><strong></strong>VPS1TB30Mbps500GB</li><li><strong></strong><ul><li><strong></strong> GIA CN2 <strong>VPS CN2 </strong></li><li><strong> IP</strong>IP IP </li></ul></li></ul><p><strong>VPS  Ubuntu 18.0420.0422.04 </strong></p><h3 id="2-1-VPS"><a href="#2-1-VPS" class="headerlink" title="2.1 VPS"></a>2.1 VPS</h3><p> VPS</p><ul><li><a href="https://lightsail.aws.amazon.com/">AWS LightSail</a>  $3.5 Zone 2021&#x2F;8&#x2F;7  LightSail 3</li><li><a href="https://azure.microsoft.com/zh-cn/">Microsoft Azure</a>B1S 100G 200</li><li><a href="https://cloud.google.com/">Google Cloud Platform</a>300</li><li><a href="https://www.oracle.com/cloud/free/">Oracle Cloud</a>VPS</li><li><a href="https://my.racknerd.com/aff.php?aff=1134">RackNerd</a> 10 -20  Location  IP ping </li><li><a href="https://aws.amazon.com/cn/">AWS EC2</a>EC2 VPS </li><li><a href="https://www.linode.com/">Linode</a>USD5VPS</li><li><a href="https://www.vultr.com/?ref=7609494">Vultr</a>VPS5 - 6 </li></ul><blockquote><p><strong>Note</strong></p><ul><li><p> VPS  VPSAWS  LightSail, RackNerd </p></li><li><p> 2-3VPS</p></li><li><p> Microsoft Azure  East Asia  VPS  Google Cloud  ping  ping </p></li><li><p>Google Cloud Platform - GCP GCPGCP</p></li></ul></blockquote><h3 id="2-2-CN2-"><a href="#2-2-CN2-" class="headerlink" title="2.2 CN2 "></a>2.2 CN2 </h3><p> Youtube  1080P</p><p><code>CN2</code>  <code>GIA</code> <strong>CN2 GIA</strong>  China telecom Next Carrier Network- Global Internet Access 59.43IPCN2VPS <code>Next Carrier Network</code>  <code>CN2</code> </p><p> CN2</p><ul><li><p><strong>CN2 GT</strong>: CN2 Global Transit(GIS-Global Internet Service)CN2&#x2F; <code>202.97</code> 24 <code>59.43</code> CN2163CN2 GIA</p></li><li><p><strong>CN2 GIA</strong>: CN2 Global Internet Access&#x2F;&#x2F;<code>59.43</code><code>202.97</code> CN2 GT </p></li></ul><p> <code>CN2</code> </p><ul><li><p><a href="https://bwh8.net/aff.php?aff=39384"></a>  VPSVPS <code>CN2</code>  <code>GIA</code>  <code>regisiter</code>  <code>Services</code> -&gt; <code>Order New Services</code> 64BBR </p></li><li><p><a href="https://bill.hostdare.com/aff.php?aff=3397">HostDare</a>  CN2 GIA  CN2 GIA Premium China Optimized NVMeKVM Premium China Optimized KVM2-4IP 3IP3</p></li></ul><p><a href="https://wzfou.com/cn2-gia-vps/">CN2 GIA VPS-,,CN2 GIAVPS</a></p><p><strong>CN2 GIA + </strong>CN2 GIAVPS Youtube 4K 100%</p><h2 id="3-"><a href="#3-" class="headerlink" title="3. "></a>3. </h2><blockquote><p> scripts  <a href="https://github.com/haoel/haoel.github.io/blob/master/scripts/install.ubuntu.18.04.sh">Ubuntu 18.04 Installation Script</a>  <a href="https://github.com/gongzili456">@gongzili456</a> <strong> PR</strong></p></blockquote><h3 id="3-1-Docker"><a href="#3-1-Docker" class="headerlink" title="3.1 Docker"></a>3.1 Docker</h3><p>Docker CE docker</p><ul><li><a href="https://docs.docker.com/install/linux/docker-ce/centos/">CentOS  Docker CE </a></li><li><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Ubuntu  Docker CE </a></li></ul><p>VPN&#x2F;SS</p><h3 id="3-2--TCP-BBR-"><a href="#3-2--TCP-BBR-" class="headerlink" title="3.2  TCP BBR "></a>3.2  TCP BBR </h3><p>TCP BBRBottleneck Bandwidth and Round-trip propagation timeGoogle2016BBRBBRCUBICGoogleYouTubeYouTube4%14%</p><p>BBRLinux4.9QUIC</p><p> <a href="https://github.com/iMeiji/shadowsocks_install/wiki/%E5%BC%80%E5%90%AF-TCP-BBR-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95">TCP BBR</a> </p><h3 id="3-3-"><a href="#3-3-" class="headerlink" title="3.3 "></a>3.3 </h3><p> HTTPS </p><p>1  <a href="https://www.godaddy.com/en-us">GoDaddy</a></p><p>2  GoDaddy  <a href="https://cloudflare.com/">Cloudflare</a>   Cloudflare Cloudflare </p><p>3 Cloudflare  VPS  IP  Cloudflare  Proxy </p><p>4 <a href="https://letsencrypt.org/">Lets Encrypt</a>   Lets Encrypt  <a href="https://certbot.eff.org/instructions">certbot</a> <a href="https://certbot.eff.org/instructions">certbot</a> </p><p>standalone VPS </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo certbot certonly --standalone</span><br></code></pre></td></tr></table></figure><p> <code>/etc/letsencrypt/live/&lt;YOUR.DOMAIN.COM/&gt;</code> 90 cron job </p><h3 id="3-4--Gost--HTTPS-"><a href="#3-4--Gost--HTTPS-" class="headerlink" title="3.4  Gost  HTTPS "></a>3.4  Gost  HTTPS </h3><p><a href="https://github.com/ginuerzh/gost">gost</a>  HTTPS Web<strong></strong></p><p> gost  Docker  gost </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>DOMAIN=&quot;YOU.DOMAIN.NAME&quot;<br>USER=&quot;username&quot;<br>PASS=&quot;password&quot;<br>PORT=443<br><br>BIND_IP=0.0.0.0<br>CERT_DIR=/etc/letsencrypt<br>CERT=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/fullchain.pem<br>KEY=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/privkey.pem<br>sudo docker run -d --name gost \<br>    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \<br>    --net=host ginuerzh/gost \<br>    -L &quot;http2://$&#123;USER&#125;:$&#123;PASS&#125;@$&#123;BIND_IP&#125;:$&#123;PORT&#125;?cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=code:404&amp;knock=www.google.com&quot;<br></code></pre></td></tr></table></figure><p>(<code>DOMAIN</code>),  (<code>USER</code>),  (<code>PASS</code>)  (<code>PORT</code>) </p><p> gost  <a href="https://docs.ginuerzh.xyz/gost/">Gost Wiki</a> <code>probe_resist=code:404</code> 404<code>probe_resist=file:/path/to/file.txt</code>  <code>probe_resist=web:example.com/page.html</code></p><blockquote><p><strong>Note</strong></p><ol><li><p> <code>407 Proxy Authentication Required</code>(Chrome SwitchyOmega )knock407<code>knock</code><code>www.google.com</code> <code>https://www.google.com</code>  <code>407</code> SwitchyOmega </p></li><li><p>auth <code>auth</code>  gost  2.9.2+ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell">DOMAIN=&quot;YOU.DOMAIN.NAME&quot;<br>USER=&quot;username&quot;<br>PASS=&quot;password&quot;<br>PORT=443<br>AUTH=$(echo -n $&#123;USER&#125;:$&#123;PASS&#125; | base64)<br>  <br>BIND_IP=0.0.0.0<br>CERT_DIR=/etc/letsencrypt<br>CERT=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/fullchain.pem<br>KEY=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/privkey.pem<br>sudo docker run -d --name gost \<br>    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \<br>    --net=host ginuerzh/gost \<br>    -L &quot;http2://$&#123;BIND_IP&#125;:$&#123;PORT&#125;?auth=$&#123;AUTH&#125;&amp;cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=code:404&amp;knock=www.go   ogle.&gt; com&quot;<br></code></pre></td></tr></table></figure></li></ol></blockquote><p> </p><ul><li><code>sudo docker ps</code>  gost </li><li><code>netstat -nolp | grep 443</code>  gost  443 </li><li><code>sudo docker logs gost</code>  gost </li></ul><p> gost </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">curl -v &quot;https://www.google.com&quot; --proxy &quot;https://DOMAIN&quot; --proxy-user &#x27;USER:PASS&#x27;<br></code></pre></td></tr></table></figure><p></p><p>  <code>crontab -e</code>  </p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span> * * /<span class="hljs-keyword">usr</span>/bin/certbot renew --force-renewal<br><span class="hljs-symbol">5 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span> * * /<span class="hljs-keyword">usr</span>/bin/docker restart gost<br></code></pre></td></tr></table></figure><p></p><blockquote><p> <strong> Cloudflare </strong></p><p> Cloudflare CDN Cloudflare CDN WebSocket  <code>mwss</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">gost -L=mwss://username:password@:443?cert=/path/to/your/cert/file\&amp;key=/path/to/your/key/file<br></code></pre></td></tr></table></figure><p> CloudFlare TLS&#x2F;SSL <strong></strong></p><p> socks </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">gost -L socks://:YourLocalPort -F mwss://username:password@example.com:443</span><br></code></pre></td></tr></table></figure><p>socks5</p></blockquote><h3 id="3-5--ShadowSocks--"><a href="#3-5--ShadowSocks--" class="headerlink" title="3.5  ShadowSocks  "></a>3.5  ShadowSocks  </h3><p><strong>ShadowSocks </strong></p><p><strong></strong></p><p>ShadowSocks  Docker   <code>SS_PORT</code>  <code>SS_PASSWD</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>SS_PORT=1984<br>SS_PASSWD=MyPasswd<br><br>sudo docker run -dt --name ss \<br>   -p $&#123;SS_PORT&#125;:$&#123;SS_PORT&#125; mritd/shadowsocks \<br>   -s &quot;-s 0.0.0.0 -p $&#123;SS_PORT&#125; -m aes-256-cfb -k $&#123;SS_PASSWD&#125; --fast-open&quot;<br></code></pre></td></tr></table></figure><h3 id="3-6-L2TP-x2F-IPSec-"><a href="#3-6-L2TP-x2F-IPSec-" class="headerlink" title="3.6 L2TP&#x2F;IPSec "></a>3.6 L2TP&#x2F;IPSec </h3><p><strong>VPN</strong></p><p>L2TP&#x2F;IPSec  <code>USER</code> <code>PASS</code>  <code>PSK</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>USER=someone<br>PASS=password<br>PSK=psk_key<br><br>sudo docker run -d  --privileged \<br>    -e PSK=$&#123;PSK&#125; \<br>    -e USERNAME=$&#123;USER&#125; -e PASSWORD=$&#123;PASS&#125; \<br>    -p 500:500/udp \<br>    -p 4500:4500/udp \<br>    -p 1701:1701/tcp \<br>    -p 1194:1194/udp  \<br>    siomiz/softethervpn<br></code></pre></td></tr></table></figure><h2 id="4-"><a href="#4-" class="headerlink" title="4. "></a>4. </h2><h3 id="4-1-"><a href="#4-1-" class="headerlink" title="4.1 "></a>4.1 </h3><h4 id="4-1-1-Chrome-"><a href="#4-1-1-Chrome-" class="headerlink" title="4.1.1 Chrome "></a>4.1.1 Chrome </h4><p> Chrome  <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif">SwitchyOmega</a> SwitchyOmega </p><ol><li> SwitchyOmega New Profile</li><li> <code>Protocol</code>  <code>HTTPS</code>,  Gost  VPS </li><li> <code></code>  Gost </li></ol><p> - <a href="https://switchyomega.org/"> SwitchyOmega </a></p><p> HTTPS <code>probe_resist</code> <code>knock</code>  <a href="#34-%E7%94%A8-gost-%E8%AE%BE%E7%BD%AE-https-%E6%9C%8D%E5%8A%A1"> Gost  HTTPS </a>  </p><p> gost  SOCKS 5<code>gost -L socks5://:1080 -F &#39;https://USER:PASS@DOMAIN:443&#39;</code> SwitchyOmega 127.0.0.1:1080</p><h4 id="4-1-2--Clash-"><a href="#4-1-2--Clash-" class="headerlink" title="4.1.2  Clash "></a>4.1.2  Clash </h4><p> <a href="https://github.com/Dreamacro/clash">Clash</a> Clash ShadowSocks(R), Vmess, Socks5, HTTP(s)SnellTrojan </p><p>Clash  Windows, MacOS, Linux  <a href="https://github.com/Dreamacro/clash/releases">Clash  Release </a> </p><p> Tun  <a href="https://github.com/Dreamacro/clash/releases/tag/premium">Clash Premium</a></p><p> GUI </p><ul><li><a href="https://github.com/Fndroid/clash_for_windows_pkg/releases">Clash for Windows</a><strong></strong></li><li><a href="https://github.com/yichengchen/clashX">Clash for MacOS</a></li><li><a href="https://github.com/Kr328/ClashForAndroid">Clash for Android</a></li></ul><p> Clash </p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs clean"> clash                &lt;-  clash <br>  clash            &lt;- <br>  config.yaml      &lt;- <br>  Country.mmdb     &lt;- IP<br>  ui               &lt;- Clash  UI<br>      index.html<br>      ...<br></code></pre></td></tr></table></figure><p></p><ul><li>UI <a href="https://github.com/haishanh/yacd">haishah&#x2F;yacd</a> clash <code>ui</code> </li><li> <code>Country.mmdb</code> IP - <a href="https://github.com/Dreamacro/maxmind-geoip/releases/latest/download/Country.mmdb">Country.mmdb</a> clash</li><li> <code>config.yaml</code>  - <a href="https://github.com/Dreamacro/clash/wiki/configuration">Wiki</a></li></ul><p></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">port:</span> <span class="hljs-number">7890</span><br><span class="hljs-attr">socks-port:</span> <span class="hljs-number">7891</span><br><span class="hljs-attr">redir-port:</span> <span class="hljs-number">7892</span><br><span class="hljs-attr">mixed-port:</span> <span class="hljs-number">7893</span><br><span class="hljs-attr">ipv6:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">allow-lan:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">mode:</span> <span class="hljs-string">Rule</span><br><span class="hljs-attr">log-level:</span> <span class="hljs-string">info</span><br><span class="hljs-attr">external-controller:</span> <span class="hljs-string">&#x27;0.0.0.0:9090&#x27;</span><br><span class="hljs-attr">external-ui:</span> <span class="hljs-string">ui</span><br><span class="hljs-attr">secret:</span> <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-attr">tun:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">stack:</span> <span class="hljs-string">system</span><br>  <span class="hljs-attr">dns-hijack:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tcp://8.8.8.8:53</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">udp://8.8.8.8:53</span><br><span class="hljs-attr">dns:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">ipv6:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">listen:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:53</span><br>  <span class="hljs-attr">default-nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br>  <span class="hljs-comment">#enhanced-mode: redir-host</span><br>  <span class="hljs-attr">enhanced-mode:</span> <span class="hljs-string">fake-ip</span> <span class="hljs-comment">#netflixfake-ip</span><br>  <span class="hljs-attr">fake-ip-range:</span> <span class="hljs-number">198.18</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">/16</span><br>  <span class="hljs-attr">nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">223.5</span><span class="hljs-number">.5</span><span class="hljs-number">.5</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://8.8.8.8:853</span><br>  <span class="hljs-attr">fallback:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://8.8.8.8:853</span><br><br><span class="hljs-comment"># </span><br><span class="hljs-attr">proxies:</span><br>  <span class="hljs-comment"># http</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;https01&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">http</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-string">https.server.domain</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">443</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">user</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;password&quot;</span><br>    <span class="hljs-attr">tls:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># https</span><br>    <span class="hljs-attr">skip-cert-verify:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;https01&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">http</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-string">https.server.domain</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">443</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">user</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;passowrd&quot;</span><br>    <span class="hljs-attr">tls:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># https</span><br>    <span class="hljs-attr">skip-cert-verify:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment">#  Group</span><br><span class="hljs-attr">proxy-groups:</span><br>  <span class="hljs-comment"># </span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;auto&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">url-test</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">us01_https</span><br>      <span class="hljs-comment">#- us02_https</span><br>      <span class="hljs-comment">#- hk_https</span><br>    <span class="hljs-comment"># tolerance: 150</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">&#x27;https://www.google.com/&#x27;</span><br>    <span class="hljs-attr">interval:</span> <span class="hljs-number">300</span><br>  <span class="hljs-comment">#  - UI</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;netflix&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">select</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">us01_https</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">us02_https</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">hk_https</span><br><br><span class="hljs-attr">rules:</span><br><span class="hljs-comment"># LAN</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,local,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,127.0.0.0/8,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,172.16.0.0/12,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,192.168.0.0/16,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,10.0.0.0/8,DIRECT</span><br><br><span class="hljs-comment"># Netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,fast.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,api-global.netflix.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,netflix.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,netflix.net,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflxext.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflximg.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflximg.net,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflxso.net,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflxvideo.net,netflix</span><br><br><span class="hljs-comment"># IP</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,CN,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">MATCH,auto</span><br><br></code></pre></td></tr></table></figure><p><a href="https://github.com/Hackl0us/SS-Rule-Snippet/blob/master/LAZY_RULES/clash.yaml">SS-Rule-Snippet&#x2F;LAZY_RULES&#x2F;clash.yaml</a></p><p><br/><br/></p><blockquote><p><strong>Note</strong></p><p> Clash </p><p><strong>1) VPN </strong></p><p> L2TP&#x2F;IPSecWindows&#x2F;Mac&#x2F;LinuxiPhone&#x2F;AndroidGoogle</p><ul><li><a href="https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/docs/clients-zh.md"> IPsec&#x2F;L2TP VPN </a></li><li><a href="https://support.apple.com/zh-cn/guide/mac-help/mchlp2963/mac">Apple  Mac  VPN </a></li><li><a href="http://nic.upc.edu.cn/2016/0928/c7809a132077/page.htm">Windows 7L2TP VPN</a></li></ul><p><strong>2) Shadowsocks </strong></p><p> Shadowsocks  <a href="https://github.com/shadowsocks">Shadowsocks Clients</a></p><ul><li>MacOS  <a href="https://github.com/shadowsocks/ShadowsocksX-NG/releases">ShadowsocksX-NG</a></li><li>Windows <a href="https://github.com/shadowsocks/shadowsocks-windows/releases">Shadowsocks-Windows</a> <a href="https://dotnet.microsoft.com/download/dotnet-framework-runtime">.NET Framework</a></li></ul><p> Shadowsocks ,  Shadowsocks  Shadowsocks ,   <code>aes-128-gcm</code> </p><p><strong>3) Gost </strong></p><p>Gost   ShadowSocks </p><p> <a href="https://github.com/ginuerzh/gost/releases"> gost </a></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># ss(eg: aes-128-gcm)ss</span><br><span class="hljs-attribute">gost</span> -L ss://aes-128-gcm:passcode@:1984 -F <span class="hljs-string">&#x27;https://USER:PASS<span class="hljs-variable">@DOMAIN</span>:443&#x27;</span><br></code></pre></td></tr></table></figure><p> gost  <code>ShadowSocks</code>  HTTPS</p>  <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">              <br> ShadowSocks                   <span class="hljs-built_in"> WAN </span>                 <br>   <span class="hljs-built_in"> Client </span>   Gost<span class="hljs-built_in"> Client </span> Gost<span class="hljs-built_in"> Server </span><br> (PAC Auto)                                          <br>              <br></code></pre></td></tr></table></figure><p>  <strong>ShadowSocks Client  pac </strong></p><p>  ShadowSocks SS </p></blockquote><h3 id="4-2-"><a href="#4-2-" class="headerlink" title="4.2 "></a>4.2 </h3><h4 id="4-2-1-Android"><a href="#4-2-1-Android" class="headerlink" title="4.2.1 Android"></a>4.2.1 Android</h4><ul><li><a href="https://github.com/Kr328/ClashForAndroid">Clash for Android</a></li><li>Shadowsocks + ShadowsocksGostPlugin<ul><li><p>Shadowsocks (Google Play Store<a href="https://github.com/shadowsocks/shadowsocks-android">github</a>)</p></li><li><p><a href="https://github.com/segfault-bilibili/ShadowsocksGostPlugin">ShadowsocksGostPlugin</a></p></li><li><p></p><ul><li>Server: <code>$DOMAIN</code></li><li>Remote Port: <code>443</code></li><li>Password: <code>gost</code></li><li>Encrypt Method: <code>RC4-MD5</code></li><li>Plugin: ShadowsocksGostPlugin</li><li>Configure: <code>-F https://$USER:$PASS@#SS_HOST:#SS_PORT</code></li></ul><p><code>$DOMAIN</code>, <code>$USER</code>, <code>$PASS</code>&#x2F;, </p></li></ul></li></ul><h4 id="4-2-2-iPhone"><a href="#4-2-2-iPhone" class="headerlink" title="4.2.2 iPhone"></a>4.2.2 iPhone</h4><p> Apple  iPhone&#x2F;iPad App Store ID iTunes&#x2F;App Store IDiCloud App Store</p><p> Apple ID</p><ul><li></li><li> PayPal </li></ul><p> PayPal <a href="(#5-%E7%BE%8E%E5%9B%BD%E6%89%8B%E6%9C%BA%E5%92%8C%E6%94%AF%E4%BB%98)">5. </a></p><p> <a href="https://appleid.apple.com/">https://appleid.apple.com/</a>  PayPal </p><p>iPhone ,ShadowSocks, HTTP(s), VMess, Socks5,</p><ul><li><a href="https://apps.apple.com/us/app/shadowrocket/id932747118">ShadowRocket</a> HTTPS </li><li><a href="https://apps.apple.com/us/app/quantumult/id1252015438">Quantumult</a> 1-2  <code>Quantumult X</code>  <code>Quantumult X</code> </li></ul><blockquote><p><strong>Note</strong></p><p><a href="https://apps.apple.com/us/app/potatso-lite/id1239860606">Potatso</a>  shadowsocks  Gost  HTTPS </p></blockquote><h3 id="4-3--gost"><a href="#4-3--gost" class="headerlink" title="4.3  (gost)"></a>4.3  (gost)</h3><h4 id="4-3-1-iPad"><a href="#4-3-1-iPad" class="headerlink" title="4.3.1 iPad"></a>4.3.1 iPad</h4><ul><li><p>ShadowRocketapp<code>+</code></p><ul><li>Type: <code>HTTPS</code></li><li>Address: <code>$DOMAIN</code></li><li>Port: <code>443</code></li><li>User: <code>$USER</code></li><li>Password: <code>$PASS</code></li></ul><p><code>$DOMAIN</code>&#x2F;<code>$USER</code><code>$PASS</code>gost</p></li></ul><h2 id="5-"><a href="#5-" class="headerlink" title="5. "></a>5. </h2><p> APP </p><h3 id="5-1-"><a href="#5-1-" class="headerlink" title="5.1 "></a>5.1 </h3><p> <a href="https://www.ultramobile.com/zh/paygo/">Ultra Mobile  PayGo</a>  3 <a href="https://www.ultramobile.com/zh/ufaqs/%E5%A6%82%E4%BD%95%E5%9C%A8%E6%89%8B%E6%9C%BA%E4%B8%8A%E8%AE%BE%E7%BD%AEwifi%E9%80%9A%E8%AF%9D%E5%92%8C%E7%9F%AD%E4%BF%A1/"> WiFi Calling</a> WiFi Calling block <a href="https://zhuanlan.zhihu.com/p/411052451"></a>.</p><p> <a href="https://voice.google.com/">Google Voice</a>  Google Voice  APP  Google Voice </p><h3 id="5-2-"><a href="#5-2-" class="headerlink" title="5.2 "></a>5.2 </h3><p> PayPal iPhone&#x2F;iPad  App Store </p><p> VISA&#x2F;MasterCard PayPal   PayPal </p><ul><li>IP</li><li></li><li></li></ul><p><strong> SSN </strong></p><p> PayPal  <a href="https://stripe.com/">Stripe</a> PayPal  Stripe </p><p> SSN </p><p></p><ul><li></li><li>USDT <a href="https://www.depay.one/?lang=zh-cn">Depay</a> </li><li></li><li>B1&#x2F;B2</li></ul><p>PR</p><h2 id="6-"><a href="#6-" class="headerlink" title="6. "></a>6. </h2><p>VPNSSSSR <strong> HTTP over TLS </strong>Gost  HTTPS  TLSV2Ray + Nginx + V2Ray <a href="https://gfw.report/publications/usenixsecurity23/zh/"></a> </p><p> Gost  <code>probe_resist</code> </p><p>   <code>/var/www/html/index.html</code> </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Welcome to nginx!<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">35em</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="language-css">        <span class="hljs-attribute">font-family</span>: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome to nginx!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>If you see this page, the nginx web server is successfully installed and<br>working. Further configuration is required.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>For online documentation and support please refer to<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://nginx.org/&quot;</span>&gt;</span>nginx.org<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>.<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>Commercial support is available at<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://nginx.com/&quot;</span>&gt;</span>nginx.com<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>Thank you for using nginx.<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p> Gost <code>probe_resist=file:/var/www/html/index.html</code> Web </p><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># </span><br>DOMAIN=<span class="hljs-string">&quot;YOU.DOMAIN.NAME&quot;</span><br>USER=<span class="hljs-string">&quot;username&quot;</span><br>PASS=<span class="hljs-string">&quot;password&quot;</span><br>PORT=443<br><br>BIND_IP=0.0.0.0<br>CERT_DIR=/etc/letsencrypt<br>CERT=<span class="hljs-variable">$&#123;CERT_DIR&#125;</span>/live/<span class="hljs-variable">$&#123;DOMAIN&#125;</span>/fullchain.pem<br>KEY=<span class="hljs-variable">$&#123;CERT_DIR&#125;</span>/live/<span class="hljs-variable">$&#123;DOMAIN&#125;</span>/privkey.pem<br>sudo docker run -d --name gost \<br>    -v <span class="hljs-variable">$&#123;CERT_DIR&#125;</span>:<span class="hljs-variable">$&#123;CERT_DIR&#125;</span>:ro \<br>    --net=host ginuerzh/gost \<br>    -L <span class="hljs-string">&quot;http2://<span class="hljs-variable">$&#123;USER&#125;</span>:<span class="hljs-variable">$&#123;PASS&#125;</span>@<span class="hljs-variable">$&#123;BIND_IP&#125;</span>:<span class="hljs-variable">$&#123;PORT&#125;</span>?cert=<span class="hljs-variable">$&#123;CERT&#125;</span>&amp;key=<span class="hljs-variable">$&#123;KEY&#125;</span>&amp;probe_resist=file:/var/www/html/index.html&amp;knock=www.google.com&quot;</span><br></code></pre></td></tr></table></figure><h2 id="7--IP-"><a href="#7--IP-" class="headerlink" title="7.  IP "></a>7.  IP </h2><p> VPS  IP  VPS  IP  CDN  VPS </p><p>Cloudflare  CDN </p><p> Cloudflare   Cloudflare  VPS IPCloudflare </p><p> Cloudflare </p><ul><li> V2Ray  gost WebSocket </li><li>Cloudflare   <code>80</code>, <code>8080</code>, <code>443</code>  <code>8443</code></li><li> gost  v2ray  WebSocket </li></ul><p>IPhostsIP</p><p> WebSocket  CDN  Cloudflare  CDN </p><p> Youtube </p><h2 id="8-"><a href="#8-" class="headerlink" title="8. "></a>8. </h2><h3 id="8-1-OpenWRT-"><a href="#8-1-OpenWRT-" class="headerlink" title="8.1 OpenWRT "></a>8.1 OpenWRT </h3><p> OpenWRT   <strong>ASUS RT-AC68U 1900M AC </strong> </p><p> Asuswrt Asuswrt-merlinAsuswrt<a href="https://github.com/RMerl/asuswrt-merlin">https://github.com/RMerl/asuswrt-merlin</a></p><p></p><p><strong>1</strong> <a href="https://www.asuswrt-merlin.net/download">https://www.asuswrt-merlin.net/download</a>  <code>RT-AC68U_380.61_0.zip</code> </p><p><strong>2</strong> <code>http://192.168.1.1/</code>  <code></code> -&gt; <code></code> <code>RT-AC68U_380.61_0.trx</code></p><p><strong>3 JFFS </strong><code></code> -&gt; <code></code> -&gt; <code>Persistent JFFS2 partition</code></p><ul><li><code>Format JFFS partition at next boot</code> - <code></code></li><li><code>Enable JFFS custom scripts and configs</code> - <code></code></li></ul><p><strong>4 ssh </strong> <code></code> -&gt; <code></code> -&gt; <code>SSH Daemon</code></p><ul><li><code>Allow SSH password login</code> - <code></code></li></ul><p> WiFi  Clash</p><p></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs routeros">    Phone/PC/Pad <br>         <br>         <br>          1<br>         <br><br>               <br>  WiFi Router    Clash <br>               <br><br>          <br>           2<br>            - China<span class="hljs-built_in"> LAN</span><br><span class="hljs-built_in"></span>   3  <br><br>    VPS     <br>  <span class="hljs-built_in"> Proxy </span>   <br><br>      <br>      <br>      <br>     - Internet<span class="hljs-built_in"> WAN</span><br><span class="hljs-built_in"></span><br></code></pre></td></tr></table></figure><h3 id="8-2-"><a href="#8-2-" class="headerlink" title="8.2 "></a>8.2 </h3><p> OpenWRTSSH Debian 7.5</p><p></p><ul><li>IPDNS</li><li></li></ul><p></p><ul><li>1 &gt; 2 </li><li>3 &gt; 3.1  3.2 </li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs routeros">    Phone/PC/Pad <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;DNS&quot;</span><br>         <br>         <br>          1<br>                              Clash <br>      2       <br>                          <br>  WiFi Router                      <br>                          <br>      3       <br>          <br>           3.2<br>            - China<span class="hljs-built_in"> LAN</span><br><span class="hljs-built_in"></span>  3.1 <br><br>    VPS     <br>  <span class="hljs-built_in"> Proxy </span>   <br><br>      <br>      <br>      <br>     - Internet<span class="hljs-built_in"> WAN</span><br><span class="hljs-built_in"></span><br></code></pre></td></tr></table></figure><h3 id="8-3--Clash"><a href="#8-3--Clash" class="headerlink" title="8.3  Clash"></a>8.3  Clash</h3><p>Clash  Github<a href="https://github.com/Dreamacro/clash">Dreamacro&#x2F;clash</a>  Release  Tun Clash  <a href="https://github.com/Dreamacro/clash/releases/tag/premium">Premium </a></p><p>Clash ShadowSocks(R), Vmess, Socks5, HTTP(s)SnellTrojan</p><p> OpenWRT    <code>uname -m</code>  <code>armv7l</code>  <code>clash-linux-armv7-....</code> clash  <a href="https://github.com/Dreamacro/clash/issues/189">Dreamacro&#x2F;clash#189</a>  armv7l  AC68U armv5  <code>chmod +x clash</code> </p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs clean"> clash                &lt;-  clash <br>  clash            &lt;- <br>  config.yaml      &lt;- <br>  Country.mmdb     &lt;- IP<br>  ui               &lt;- Clash  UI<br>      index.html<br>      ...<br></code></pre></td></tr></table></figure><ul><li><p>UI <a href="https://github.com/haishanh/yacd">haishah&#x2F;yacd</a> clash <code>ui</code> </p></li><li><p> <code>Country.mmdb</code> IP - <a href="https://github.com/Dreamacro/maxmind-geoip/releases/latest/download/Country.mmdb">Country.mmdb</a> clash</p></li><li><p> <code>config.yaml</code>  - <a href="https://github.com/Dreamacro/clash/wiki/configuration">Wiki</a></p></li></ul><p></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">port:</span> <span class="hljs-number">7890</span><br><span class="hljs-attr">socks-port:</span> <span class="hljs-number">7891</span><br><span class="hljs-attr">redir-port:</span> <span class="hljs-number">7892</span><br><span class="hljs-attr">mixed-port:</span> <span class="hljs-number">7893</span><br><span class="hljs-attr">ipv6:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">allow-lan:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">mode:</span> <span class="hljs-string">Rule</span><br><span class="hljs-attr">log-level:</span> <span class="hljs-string">info</span><br><span class="hljs-attr">external-controller:</span> <span class="hljs-string">&#x27;0.0.0.0:9090&#x27;</span><br><span class="hljs-attr">external-ui:</span> <span class="hljs-string">ui</span><br><span class="hljs-attr">secret:</span> <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-attr">tun:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">stack:</span> <span class="hljs-string">system</span><br>  <span class="hljs-attr">dns-hijack:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tcp://8.8.8.8:53</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">udp://8.8.8.8:53</span><br><span class="hljs-attr">dns:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">ipv6:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">listen:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:53</span><br>  <span class="hljs-attr">default-nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br>  <span class="hljs-comment">#enhanced-mode: redir-host</span><br>  <span class="hljs-attr">enhanced-mode:</span> <span class="hljs-string">fake-ip</span> <span class="hljs-comment">#netflixfake-ip</span><br>  <span class="hljs-attr">fake-ip-range:</span> <span class="hljs-number">198.18</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">/16</span><br>  <span class="hljs-attr">nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">223.5</span><span class="hljs-number">.5</span><span class="hljs-number">.5</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://8.8.8.8:853</span><br>  <span class="hljs-attr">fallback:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://8.8.8.8:853</span><br><br><span class="hljs-comment"># </span><br><span class="hljs-attr">proxies:</span><br>  <span class="hljs-comment"># http</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;https01&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">http</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-string">https.server.domain</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">443</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">user</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;password&quot;</span><br>    <span class="hljs-attr">tls:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># https</span><br>    <span class="hljs-attr">skip-cert-verify:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;https01&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">http</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-string">https.server.domain</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">443</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">user</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;passowrd&quot;</span><br>    <span class="hljs-attr">tls:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># https</span><br>    <span class="hljs-attr">skip-cert-verify:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment">#  Group</span><br><span class="hljs-attr">proxy-groups:</span><br>  <span class="hljs-comment"># </span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;auto&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">url-test</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">us01_https</span><br>      <span class="hljs-comment">#- us02_https</span><br>      <span class="hljs-comment">#- hk_https</span><br>    <span class="hljs-comment"># tolerance: 150</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">&#x27;https://www.google.com/&#x27;</span><br>    <span class="hljs-attr">interval:</span> <span class="hljs-number">300</span><br>  <span class="hljs-comment">#  - UI</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;netflix&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">select</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">us01_https</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">us02_https</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">hk_https</span><br><br><span class="hljs-attr">rules:</span><br><span class="hljs-comment"># LAN</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,local,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,127.0.0.0/8,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,172.16.0.0/12,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,192.168.0.0/16,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,10.0.0.0/8,DIRECT</span><br><br><span class="hljs-comment"># Netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,fast.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,api-global.netflix.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,netflix.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,netflix.net,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflxext.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflximg.com,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflximg.net,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflxso.net,netflix</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,nflxvideo.net,netflix</span><br><br><span class="hljs-comment"># IP</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,CN,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">MATCH,auto</span><br><br></code></pre></td></tr></table></figure><p><a href="https://github.com/Hackl0us/SS-Rule-Snippet/blob/master/LAZY_RULES/clash.yaml">SS-Rule-Snippet&#x2F;LAZY_RULES&#x2F;clash.yaml</a></p><p> clash </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/path/to/clash/cash -d /path/to/clash &amp;<br></code></pre></td></tr></table></figure><p>   DNS OpenWRT</p><h3 id="8-4--iptables-"><a href="#8-4--iptables-" class="headerlink" title="8.4  iptables "></a>8.4  <code>iptables</code> </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">iptables -t nat -N CLASH<br>iptables -t nat -A CLASH -d 10.0.0.0/8 -j RETURN<br>iptables -t nat -A CLASH -d 127.0.0.0/8 -j RETURN<br>iptables -t nat -A CLASH -d 169.254.0.0/16 -j RETURN<br>iptables -t nat -A CLASH -d 172.16.0.0/12 -j RETURN<br>iptables -t nat -A CLASH -d 192.168.0.0/16 -j RETURN<br>iptables -t nat -A CLASH -d 224.0.0.0/4 -j RETURN<br>iptables -t nat -A CLASH -d 240.0.0.0/4 -j RETURN<br>iptables -t nat -A CLASH -p tcp -j REDIRECT --to-ports 7892<br></code></pre></td></tr></table></figure><p> iptables </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">iptables-save &gt; /etc/iptables.up.rules<br></code></pre></td></tr></table></figure><p>  <code>/etc/network/if-pre-up.d/iptables</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/sh</span><br>/sbin/iptables-restore &lt; /etc/iptables.up.rules<br></code></pre></td></tr></table></figure><p> <code>chmod +x /etc/network/if-pre-up.d/iptables</code> </p><h2 id="9-"><a href="#9-" class="headerlink" title="9. "></a>9. </h2><p> AWS </p><h3 id="9-1-AWS-"><a href="#9-1-AWS-" class="headerlink" title="9.1 AWS "></a>9.1 AWS </h3><ol><li><p> <code>172.20.0.0/16</code>  VPC</p><ul><li>IP - <code>172.20.1.0/24</code></li><li>IP - <code>172.20.2.0/24</code></li></ul></li><li><p> <a href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/VPC_NAT_Instance.html">EC2 NAT Instance</a></p><ul><li>IP <code>172.20.1.1</code></li><li>OptionIP</li></ul></li><li><p></p><ul><li> <code>172.20.1.0/24</code> </li><li> EC2 NAT Instance  <code>172.20.1.1</code> <code>172.20.2.0/24</code></li></ul></li></ol><p></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs dns">                                  <br>                                            <br>                                            <br>                                  <br>        IP                      <br>                      <br>      xxx.xxx.xxx.xxx              <br>         <br>                          <br>                       <br>                                                           <br>                                        <br>Public Network                     Private Network<br>                                                   <br>                  EC2 NAT Instance              <br>                    <span class="hljs-number">172.20.1.1</span>             <br>                                                            <br>                   (NAT Instance)                  <br>                                              <br>                                                             <br>                       <br><br>                    <span class="hljs-number">172.20.1.0</span>/<span class="hljs-number">24</span>              <span class="hljs-number">172.20.2.0</span>/<span class="hljs-number">24</span><br>                                                     <br>                  subnet                              subnet<br>                                                     <br>                           VPC  <br>                                 <span class="hljs-number">172.20.0.0</span>/<span class="hljs-number">16</span><br></code></pre></td></tr></table></figure><p> <a href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/VPC_NAT_Instance.html">EC2 NAT Instance</a> NAT</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo sysctl -w net.ipv4.ip_forward=1<br>sudo iptables -A FORWARD -i eth0 -j ACCEPT<br>sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE<br></code></pre></td></tr></table></figure><p></p><ul><li><code>net.ipv4.ip_forward</code> LinuxWANLANLANWAN</li><li><code>iptables -A FORWARD -i eth0 -j ACCEPT</code> </li><li><code>iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</code>   <code>MASQUERADE</code> NAT <code>MASQUERADE</code> <strong> IP  Internet </strong></li></ul><h3 id="9-2--Clash"><a href="#9-2--Clash" class="headerlink" title="9.2  Clash"></a>9.2  Clash</h3><p> EC2 NAT Instance  clash  <a href="#83-%E5%AE%89%E8%A3%85-clash">8.3  Clash</a> </p><blockquote><p> <code>iptables</code> </p></blockquote><h3 id="9-3--EC2"><a href="#9-3--EC2" class="headerlink" title="9.3  EC2"></a>9.3  EC2</h3><p> <code>/etc/resolv.conf</code>  EC2 NAT Instance </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs conf"># /etc/resolv.conf<br>nameserver 172.20.1.1  #&lt;---  EC2 NAT <br>nameserver 172.20.0.2  #&lt;--- AWS  DNS <br>search [zone].compute.internal<br></code></pre></td></tr></table></figure><blockquote><p><strong>Note</strong></p><p> Ubuntu  DNS Resolver  systemd  <code>systemd-resolved</code>  <code>/etc/resolv.conf</code>  <code>systemd-resolved</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">ln</span> -sf /run/systemd/resolve/resolv.conf /etc/resolv.conf<br></code></pre></td></tr></table></figure><p> <code>/etc/systemd/resolved.conf</code>  <code>DNS</code>  <code>Domains</code> </p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs conf">DNS=172.20.0.2<br></code></pre></td></tr></table></figure></blockquote><h3 id="9-4--Kubernetes"><a href="#9-4--Kubernetes" class="headerlink" title="9.4  Kubernetes"></a>9.4  Kubernetes</h3><p>K8s  CoreDNS </p><ul><li> Pod  <code>nodelocaldns</code><code>169.254.25.10:53</code></li><li> Pod  <code>coredns</code> cluster IP <code>10.233.0.3:53</code></li></ul><p>k8s <code>cluster.local</code>, <code>in-addr.arp</code> <code>ip6.arpa</code>  CoreDNS  <code>/etc/resolv.conf</code> </p><p>Kubernetes  Pod  <code>/etc/resolv.conf</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs conf">nameserver 169.254.25.10<br>search default.svc.cluster.local svc.cluster.local cluster.local cn-northwest-1.compute.internal<br>options ndots:5<br></code></pre></td></tr></table></figure><p> <code>nodelocaldns</code> </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ kubectl get cm nodelocaldns -n kube-system -o yaml<br></code></pre></td></tr></table></figure><p> K8s  <code>/etc/resolv.conf</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">.:53</span> &#123;<br>    <span class="hljs-string">errors</span><br>    <span class="hljs-string">cache</span> <span class="hljs-number">30</span><br>    <span class="hljs-string">reload</span><br>    <span class="hljs-string">loop</span><br>    <span class="hljs-string">bind</span> <span class="hljs-number">169.254</span><span class="hljs-number">.25</span><span class="hljs-number">.10</span><br>    <span class="hljs-string">forward</span> <span class="hljs-string">.</span> <span class="hljs-string">/etc/resolv.conf</span>  <span class="hljs-comment"># &lt;--- </span><br>    <span class="hljs-string">prometheus</span> <span class="hljs-string">:9253</span><br>&#125;<br></code></pre></td></tr></table></figure><p> <code>/etc/resolv.conf</code>  DNSAWS CoreDNS  <code>forward</code> AWSclashIP</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ kubectl edit cm nodelocaldns -n kube-system<br></code></pre></td></tr></table></figure><p>AWS 172.20.0.2 </p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-addition">+    compute.internal:53 &#123;</span><br><span class="hljs-addition">+        errors</span><br><span class="hljs-addition">+        cache 30</span><br><span class="hljs-addition">+        reload</span><br><span class="hljs-addition">+        loop</span><br><span class="hljs-addition">+        bind 169.254.25.10</span><br><span class="hljs-addition">+        forward . 172.20.0.2</span><br><span class="hljs-addition">+        prometheus :9253</span><br><span class="hljs-addition">+    &#125;</span><br>     .:53 &#123;<br>         errors<br>         cache 30<br>         reload<br>         loop<br>         bind 169.254.25.10<br><span class="hljs-deletion">-        forward . /etc/resolv.conf</span><br><span class="hljs-addition">+        forward . /etc/resolv.conf &#123;</span><br><span class="hljs-addition">+            policy sequential</span><br><span class="hljs-addition">+        &#125;</span><br>         prometheus: 9253<br>     &#125;<br></code></pre></td></tr></table></figure><p>30</p><h2 id="10-"><a href="#10-" class="headerlink" title="10. "></a>10. </h2><p> SOCKS , http   ssh </p><ol><li><a href="https://zh.m.wikipedia.org/zh-hans/SOCKS">SOCKS </a></li><li><a href="https://zh.m.wikipedia.org/zh-hans/HTTP%E9%9A%A7%E9%81%93">HTTP </a></li></ol><h3 id="10-1-HTTP-"><a href="#10-1-HTTP-" class="headerlink" title="10.1 HTTP "></a>10.1 HTTP </h3><p> curl , git, wget  <code>HTTP_PROXY</code>,<code>HTTPS_PROXY</code><code>NO_PROXY</code> <code>NO_PROXY</code>(),  <code>bash </code> :</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">with_proxy()&#123;<br>   HTTPS_PROXY=http://127.0.0.1:7890 HTTP_PROXY=http://127.0.0.1:7890 &quot;$@&quot;<br>&#125;<br></code></pre></td></tr></table></figure><p> <code>127.0.0.1:7890</code> ,  <code>~/.bashrc</code>  <code>source ~/.bashrc</code>  <code>with_proxy</code>  <code>with_proxy wget https://....</code>,  <code>github</code> clone  <code>with_proxy git clone https://...</code>,  <code>with_proxy</code>  <code>windows</code> <a href="https://github.com/hellojukay/with-env">with-env</a></p><p> alias:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">SOCKS=&quot;socks5://127.0.0.1:1085&quot;<br>alias proxy=&quot;export http_proxy=$&#123;SOCKS&#125; https_proxy=$&#123;SOCKS&#125; all_proxy=$&#123;SOCKS&#125;&quot;<br>alias unproxy=&#x27;unset all_proxy http_proxy https_proxy&#x27;<br></code></pre></td></tr></table></figure><p> <code>proxy</code> <code>unproxy</code></p><h3 id="10-2-SSH-"><a href="#10-2-SSH-" class="headerlink" title="10.2 SSH "></a>10.2 SSH </h3><p> SSH Tunnel  SOCKS5  SSH </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh -D 1080 -qCN username@server:port<br></code></pre></td></tr></table></figure><p></p><ul><li><code>-D</code>SOCKS </li><li><code>-q</code> : quiet </li><li><code>-C</code> : </li><li><code>-N</code> : </li></ul><p>, <code>1080</code> <code>SOCKS5</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">with_proxy()&#123;<br>   HTTPS_PROXY=socks5://127.0.0.1:1080 HTTP_PROXY=socks5://127.0.0.1:1080 &quot;$@&quot;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>SwitchyOmega</code></p><h3 id="10-3-Github-x2F-Git-SSH-"><a href="#10-3-Github-x2F-Git-SSH-" class="headerlink" title="10.3 Github &#x2F; Git SSH "></a>10.3 Github &#x2F; Git SSH </h3><p> Github  <code>git</code>  <code>git clone</code>  <code>git push</code> </p><p>  <code>git clone ssh://[user@]server/project.git</code>  <code>git clone [user@]server:project.git</code>  SSH   <code>~/.ssh/config</code> Sock5 1085</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs s">### github.com<br>Host github.com<br>    Hostname github.com<br>    ProxyCommand nc -x localhost:1085 %h %p<br>    # git-for-windows  connect  nc<br>    # ProxyCommand connect -S localhost:1085 %h %p<br></code></pre></td></tr></table></figure><h3 id="10-4-Cloudflare-Warp--IP"><a href="#10-4-Cloudflare-Warp--IP" class="headerlink" title="10.4 Cloudflare Warp  IP"></a>10.4 Cloudflare Warp  IP</h3><p> IP<a href="https://www.disneyplus.com/">Disney+</a> <a href="https://chat.openai.com/">ChatGPT</a><a href="https://www.bing.com/">New Bing</a> </p><p> IP IP  IP  IDC  IP  VPS Cloudflare Warp </p><p></p><ul><li> Cloudflare VPN</li><li> SOCKS5 </li></ul><h4 id="10-4-1-WARP-"><a href="#10-4-1-WARP-" class="headerlink" title="10.4.1 WARP "></a>10.4.1 WARP </h4><p>WARP  Cloudflare  VPN Cloudflare  IP </p><p> <a href="https://github.com/P3TERX/warp.sh">https://github.com/P3TERX/warp.sh</a></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget git.io/warp.sh<br>chmod +x warp.sh<br></code></pre></td></tr></table></figure><p> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">./warp.sh menu<br></code></pre></td></tr></table></figure><p></p><ul><li>1 -  Cloudflare WARP </li><li>4 -  WireGuard </li><li>7 -  WARP WireGuard </li></ul><blockquote><p><strong>Note</strong></p><ol><li><p> IPv6  7  5   WARP WireGuard IPv4  <code>./warp.sh 4</code></p></li><li><p> <code>/etc/warp/</code>  <code>wgcf-account.toml</code> <code>wgcf-profile.conf</code></p></li><li><p> Systemd  <code>warp-svc</code> <code>wg-quick@wgcf</code> Cloudflare Warp  WireGuard </p></li><li><p> <code>./warp.sh status</code>  <code>disable wg-quick@wgcf</code> <code>./warp.sh d</code>IPv4 + IPv6  <code>./warp.sh 4</code>IPv4  </p>   <figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ada">WireGuard: <span class="hljs-type">Running</span><br>IPv4 Network: <span class="hljs-type">WARP</span><br>IPv6 Network: <span class="hljs-type">WARP</span><br></code></pre></td></tr></table></figure></li></ol></blockquote><p> <code>curl ipinfo.io</code>  IP  Cloudflare  IP </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;ip&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;104.28.227.191&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;city&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Los Angeles&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;region&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;California&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;country&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;US&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;loc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;34.0522,-118.2437&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;org&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;AS13335 Cloudflare, Inc.&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;postal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;90009&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;timezone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;America/Los_Angeles&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;readme&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://ipinfo.io/missingauth&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="10-4-2-"><a href="#10-4-2-" class="headerlink" title="10.4.2 "></a>10.4.2 </h4><p> WARP  Cloudflare WARP  IP </p><blockquote><p><strong>Note</strong></p><p> Cloudflare  <a href="https://developers.cloudflare.com/warp-client/get-started/linux/">Cloudflare WARP </a></p></blockquote><p><strong>1 </strong></p><p> Ubuntu</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install curl<br>curl https://pkg.cloudflareclient.com/pubkey.gpg | gpg --yes --dearmor --output /usr/share/keyrings/cloudflare-warp-archive-keyring.gpg<br>echo &quot;deb [arch=amd64 signed-by=/usr/share/keyrings/cloudflare-warp-archive-keyring.gpg] https://pkg.cloudflareclient.com/ $(lsb_release -cs) main&quot; | sudo tee /etc/apt/sources.list.d/cloudflare-client.list<br></code></pre></td></tr></table></figure><p> Cloudflare WARP </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt update<br>sudo apt install cloudflare-warp<br></code></pre></td></tr></table></figure><blockquote><p><strong>Note</strong></p><p></p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs applescript">The following packages have unmet dependencies:<br>cloudflare-warp : Depends: nftables <span class="hljs-keyword">but</span> <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> going <span class="hljs-keyword">to</span> be installed<br>                  Depends: gnupg2 <span class="hljs-keyword">but</span> <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> going <span class="hljs-keyword">to</span> be installed<br>                  Depends: desktop-<span class="hljs-built_in">file</span>-utils <span class="hljs-keyword">but</span> <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> going <span class="hljs-keyword">to</span> be installed<br>                  Depends: libnss3-tools <span class="hljs-keyword">but</span> <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> going <span class="hljs-keyword">to</span> be installed<br>linux-headers-aws : Depends: linux-headers<span class="hljs-number">-5.3</span><span class="hljs-number">.0</span><span class="hljs-number">-1028</span>-aws <span class="hljs-keyword">but</span> <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> going <span class="hljs-keyword">to</span> be installed<br>E: Unmet dependencies. Try &#x27;apt <span class="hljs-comment">--fix-broken install&#x27; with no packages (or specify a solution).</span><br></code></pre></td></tr></table></figure><p> <code>sudo apt --fix-broken install</code> <code>sudo apt install cloudflare-warp</code> </p></blockquote><p><strong>2  Cloudflare WARP</strong></p><p><code>/var/lib/cloudflare-warp/reg.json</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">warp-cli register<br></code></pre></td></tr></table></figure><p> WARP  VPS  Cloudflare  VPN </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">warp-cli set-mode proxy<br></code></pre></td></tr></table></figure><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">warp-cli enable-always-on<br></code></pre></td></tr></table></figure><p> <code>warp-cli settings</code>  <code>/var/lib/cloudflare-warp/settings.json</code></p><p><strong>3)  Cloudflare WARP</strong></p><p> Cloudflare WARP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">warp-cli connect<br></code></pre></td></tr></table></figure><p> <code>warp-cli status</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">warp-cli status</span><br>Status update: Connected<br>Success<br></code></pre></td></tr></table></figure><p> Socks5  <code>127.0.0.1:40000</code></p><p><strong>4 Cloudflare WARP</strong></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">curl -x &quot;socks5://127.0.0.1:40000&quot; ipinfo.io<br></code></pre></td></tr></table></figure><p></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;ip&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;104.28.247.70&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;org&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;AS13335 Cloudflare, Inc.&quot;</span><br></code></pre></td></tr></table></figure><p><strong>5 Gost </strong></p><p> gost  8080  Cloudflare WARP  Socks5 </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">gost -L &quot;http://:8080&quot; -F &quot;socks5://127.0.0.1:40000&quot;<br></code></pre></td></tr></table></figure><p> HTTPS   <a href="#33-%E7%94%A8-gost-%E8%AE%BE%E7%BD%AE-https-%E6%9C%8D%E5%8A%A1">3.3  Gost  HTTPS </a></p><p> gost </p><ul><li> 443 </li><li> 8443  Cloudflare WARP  Socks5 </li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"></span><br>DOMAIN=&quot;YOU.DOMAIN.NAME&quot;<br>USER=&quot;username&quot;<br>PASS=&quot;password&quot;<br>PORT=443<br><br>BIND_IP=0.0.0.0<br>CERT_DIR=/etc/letsencrypt<br>CERT=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/fullchain.pem<br>KEY=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/privkey.pem<br>sudo docker run -d --name gost \<br>    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \<br>    --net=host ginuerzh/gost \<br>    -L &quot;http2://$&#123;USER&#125;:$&#123;PASS&#125;@$&#123;BIND_IP&#125;:$&#123;PORT&#125;?cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=code:404&amp;knock=www.google.com&quot;<br><br>sudo docker run -d --name gost-warp \<br>    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \<br>    --net=host ginuerzh/gost \<br>    -L &quot;http2://$&#123;USER&#125;:$&#123;PASS&#125;@$&#123;BIND_IP&#125;:8443?cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=code:404&amp;knock=www.google.com&quot; \<br>    -F &quot;socks://localhost:40000&quot;<br></code></pre></td></tr></table></figure><blockquote><p><strong>Note</strong></p><ol><li><p> gost  <code>bypass</code> Cloudflare WARP  Socks5 <code> -F=socks5://localhost:40000?bypass=~*.openai.com,openai.com&amp;notls=true</code></p></li><li><p> V2Ray  <a href="https://www.v2ray.com/chapter_02/03_routing.html">V2Ray </a>V2Ray gost  <code>geolocation-cn</code>  Cloudflare WARP  Socks5  VPS  IP </p></li></ol></blockquote><p><strong>6</strong></p><ul><li><p><strong></strong> <code>warp-cli</code>  <code>warp-svc</code>  <code>warp-svc</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl status warp-svc<br></code></pre></td></tr></table></figure></li><li><p><strong></strong> <code>warp-svc</code>  <a href="https://github.com/haoel/haoel.github.io/issues/124">#124</a>cronjob <code>crontab -e</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cron">0 * * * * /bin/systemctl resetart warp-svc<br></code></pre></td></tr></table></figure></li><li><p><strong></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">warp-cli connect<br>Status update: Unable to connect. Reason: Insufficient system resource: file descriptor<br></code></pre></td></tr></table></figure><p> Google Cloudflare WARP  <code>/lib/systemd/system/warp-svc.service</code> <code>[Service]</code> </p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">LimitNOFILE</span>=<span class="hljs-number">65535</span><br><span class="hljs-attr">LimitNOFILESoft</span>=<span class="hljs-number">65535</span><br></code></pre></td></tr></table></figure><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo systemctl daemon-reload<br>sudo systemctl restart warp-svc.service<br></code></pre></td></tr></table></figure></li></ul><h4 id="10-4-3-Docker-"><a href="#10-4-3-Docker-" class="headerlink" title="10.4.3 Docker "></a>10.4.3 Docker </h4><p> Docker  Cloudflare WARP Proxy:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -v $HOME/.warp:/var/lib/cloudflare-warp:rw \<br>  --restart=always --name=cloudflare-warp e7h4n/cloudflare-warp<br></code></pre></td></tr></table></figure><p> 40001  socks5  ip:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker inspect -f &#x27;&#123;&#123;range.NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; cloudflare-warp<br></code></pre></td></tr></table></figure><p> curl  ip  <code>172.17.0.2</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run --rm curlimages/curl --connect-timeout 2 -x &quot;socks5://172.17.0.2:40001&quot; ipinfo.io<br></code></pre></td></tr></table></figure><p> <code>org</code>  Cloudflare </p><p> Gost  cloudflare  warp :</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">-F</span>=socks5://<span class="hljs-number">172.17</span>.<span class="hljs-number">0.2</span>:<span class="hljs-number">40001</span>?bypass=~*.openai.com,openai.com&amp;notls=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>Note</strong></p><p><code>bypass=~</code>  <code>172.17.0.2:40001</code>  socks5  Gost  <code>openai.com</code>  warp </p></blockquote><h2 id="11-"><a href="#11-" class="headerlink" title="11. "></a>11. </h2><h3 id="11-1-"><a href="#11-1-" class="headerlink" title="11.1 "></a>11.1 </h3><p></p><p><a href="https://getoutline.org/en/home">Outline</a>  Google  <a href="https://jigsaw.google.com/">Jigsaw</a> Server  ShadowsocksMacOS, Windows, iOS, Android  Outline Manager  DigitalOcean AWS, Google Cloud <a href="https://github.com/Jigsaw-Code/?q=outline"></a></p><h3 id="11-2-"><a href="#11-2-" class="headerlink" title="11.2 "></a>11.2 </h3><p> scripts  <a href="https://github.com/gongzili456">@gongzili456</a> </p><ul><li><a href="https://github.com/haoel/haoel.github.io/blob/master/scripts/install.ubuntu.18.04.sh">Ubuntu 18.04 Installation Script</a></li></ul><p><strong> PR</strong></p><p></p><p></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/05/26/hello-world/"/>
    <url>/2023/05/26/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>python </title>
    <link href="/2023/05/26/xiaojiayu/"/>
    <url>/2023/05/26/xiaojiayu/</url>
    
    <content type="html"><![CDATA[<hr><h1 id="000-"><a href="#000-" class="headerlink" title="000. "></a>000. </h1><h1 id="001-Python"><a href="#001-Python" class="headerlink" title="001. Python"></a>001. Python</h1><h1 id="002-Python"><a href="#002-Python" class="headerlink" title="002. Python"></a>002. Python</h1><h1 id="003-"><a href="#003-" class="headerlink" title="003. "></a>003. </h1><h1 id="004-"><a href="#004-" class="headerlink" title="004. "></a>004. </h1><h1 id="005-Python"><a href="#005-Python" class="headerlink" title="005. Python"></a>005. Python</h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>Python  e</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(<span class="hljs-number">5</span>)</span><br>&lt;class &#x27;int&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(<span class="hljs-literal">True</span>)</span><br>&lt;class &#x27;bool&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(<span class="hljs-literal">False</span>)</span><br>&lt;class &#x27;bool&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-literal">True</span> + <span class="hljs-literal">False</span></span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(<span class="hljs-literal">True</span>+<span class="hljs-literal">False</span>)</span><br>&lt;class &#x27;int&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">0.0000000001</span></span><br>1e-10<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">1.5e10</span></span><br>15000000000.0<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(<span class="hljs-number">1.5e10</span>)</span><br>&lt;class &#x27;float&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(<span class="hljs-number">0.000000000001</span>)</span><br>&lt;class &#x27;float&#x27;&gt;<br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>BIF  int(), str(), float()</li><li></li></ul><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = <span class="hljs-string">&#x27;520&#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b = <span class="hljs-built_in">int</span>(a)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b</span><br>520<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br>Traceback (most recent call last):<br>  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;<br>ValueError: invalid literal for int() with base 10: &#x27;&#x27;<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = <span class="hljs-number">5.99</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b = <span class="hljs-built_in">str</span>(a)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b</span><br>&#x27;5.99&#x27;<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b = <span class="hljs-built_in">int</span>(a)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b</span><br>5<br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><em>type()</em>, TrueFalse</li><li> _isinstance( __ obj, __class_or_tuple)_ TrueFalse</li><li> str.isdigital(), TrueFalse</li></ul><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="Quiz"><a href="#Quiz" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li> Python int  boolfloat  str  </li><li>(bool) True  False  1  0  </li><li> int()  </li><li> int()  </li><li> type()  isinstance() </li><li>Python3  </li><li></li></ol><h3 id="Practice"><a href="#Practice" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> </p><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>) <br><span class="hljs-comment"># type(1)&lt;class &#x27;int&#x27;&gt;type(temp) </span><br><br><span class="hljs-keyword">while</span> <span class="hljs-built_in">type</span>(temp) != <span class="hljs-built_in">type</span>(<span class="hljs-number">1</span>):<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>) <br>temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><p>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br><span class="hljs-comment"># notnot True == Flase</span><br><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(temp, <span class="hljs-built_in">int</span>):<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>  temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><p>input()type(temp)&lt;class str&gt;   </p><blockquote><p>s </p><p>s.isalnum()  Ture False</p><p>s.isalpha()  Ture False</p><p>s.isdigit()  Ture False </p><p>s.islower()  Ture False</p><p>s.isupper()  Ture False</p></blockquote><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Design the game, guess a number, try maximum 3 times</span><br><span class="hljs-keyword">import</span> random<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is the game program&quot;</span>)<br><br>secret = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br><br>guess = <span class="hljs-number">0</span><br>count = <span class="hljs-number">3</span><br><br><span class="hljs-keyword">while</span> count &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> guess != secret:<br>    temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;please input a number:&quot;</span>)<br>    <br>    <span class="hljs-comment">## </span><br>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> temp.isdigit():<br>        temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;your input is not a number, please input again, please input a correct number:&quot;</span>)<br>    guess = <span class="hljs-built_in">int</span>(temp)<br>    <span class="hljs-keyword">if</span> guess &gt; secret:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;your guess number is big, input a smaller one&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;your input number is small, input a bigger one&quot;</span>)<br><br>    count = count - <span class="hljs-number">1</span><br><br><span class="hljs-keyword">if</span> guess == secret:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your guess is exactly right!! Congrats!&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;You already tried three times, game over!&#x27;</span>)<br></code></pre></td></tr></table></figure><p></p></li><li><p> BIF  </p><p>:4100,400 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment"># 4100,400</span><br><br>temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> temp.isdigit():<br>    temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>year = <span class="hljs-built_in">int</span>(temp)<br><br><span class="hljs-comment"># </span><br><span class="hljs-keyword">if</span> (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>) <span class="hljs-keyword">and</span> (year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % year)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-keyword">if</span> year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % year)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % year)<br></code></pre></td></tr></table></figure></li><li><p> </p><p></p></li></ol><h1 id="006-Pyhon"><a href="#006-Pyhon" class="headerlink" title="006. Pyhon"></a>006. Pyhon</h1><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = b = c = d = <span class="hljs-number">10</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a += <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b -= <span class="hljs-number">3</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c *= <span class="hljs-number">10</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">d /= <span class="hljs-number">8</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a</span><br>11<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b</span><br>7<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c</span><br>100<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">d</span><br>1.25<br></code></pre></td></tr></table></figure><ul><li><p> **</p></li><li><p>&#x2F;&#x2F;</p><blockquote><p><strong>python3.0</strong></p><p>&#x2F;4&#x2F;2&#x3D;&#x3D;2.0<br>&#x2F;&#x2F;Floor4&#x2F;&#x2F;2&#x3D;&#x3D;2,3&#x2F;&#x2F;2&#x3D;&#x3D;1, 4.0&#x2F;&#x2F;2&#x3D;&#x3D;2.0</p><p>python3.0&#x2F;&#x2F;&#x2F;</p><p><strong>python2.0</strong></p><p>&#x2F;&#x2F;&#x2F;Floor3.0</p></blockquote></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs subunit">&gt;&gt;&gt; <span class="hljs-string">-3</span> * 2 + 5 / <span class="hljs-string">-2</span> <span class="hljs-string">-4</span><br><span class="hljs-string">-12</span>.5<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tap">&gt;&gt;&gt;<span class="hljs-number"> 3 </span>&lt;<span class="hljs-number"> 4 </span>and<span class="hljs-number"> 4 </span>&lt; 5<br>True<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tap">&gt;&gt;&gt; (3 &lt;<span class="hljs-number"> 4 </span>) and (<span class="hljs-number"> 4 </span>&lt;<span class="hljs-number"> 5 </span>)<br>True<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">- <span class="hljs-number">3</span> ** <span class="hljs-number">2</span></span><br>-9<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">-(<span class="hljs-number">3</span> ** <span class="hljs-number">2</span>)</span><br>-9<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">3</span> ** -<span class="hljs-number">2</span></span><br>0.1111111111111111<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">3</span> ** (-<span class="hljs-number">2</span>)</span><br>0.1111111111111111<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>and</li><li>or</li><li>not</li></ul><p>not or and not &gt; and &gt; or </p><h4 id="short-circuit-logic"><a href="#short-circuit-logic" class="headerlink" title="short-circuit logic)"></a>short-circuit logic)</h4><p> x and y x  y (True) x (False) False y  short-circuit logiclazy evaluation or </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python-repl">andornotnot&gt;and&gt;or<br>and or short-circuitlogiclazy evaluation<br><br> <br>and x and y  x  y  y  x x  x<br>       andtrue<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">3</span> <span class="hljs-keyword">and</span> <span class="hljs-number">4</span></span><br>4<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <span class="hljs-number">3</span></span><br>3<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">0</span> <span class="hljs-keyword">and</span> <span class="hljs-number">3</span></span><br>0<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">3</span> <span class="hljs-keyword">and</span> <span class="hljs-number">0</span></span><br>0<br> <br>or  x or y   ortruetrue<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">3</span> <span class="hljs-keyword">or</span> <span class="hljs-number">4</span></span><br>3<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">4</span> <span class="hljs-keyword">or</span> <span class="hljs-number">3</span></span><br>4<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">3</span> <span class="hljs-keyword">or</span> <span class="hljs-number">0</span></span><br>3<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">0</span> <span class="hljs-keyword">or</span> <span class="hljs-number">3</span></span><br>3<br> <br>not : falsetrue<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">not</span> <span class="hljs-number">3</span></span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">not</span> <span class="hljs-number">0</span></span><br>True<br></code></pre></td></tr></table></figure><img src="/Users/felix/Library/Application Support/typora-user-images/image-20220402102743013.png" alt="image-20220402102743013" style="zoom:20%;" /><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h3 id="Quiz-1"><a href="#Quiz-1" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>Python  floor  &#x2F;&#x2F;  3.0 &#x2F;&#x2F; 2.0  </p><p>1.0 <em></em></p></li><li><p>a &lt; b &lt; c  </p><p>a &lt; b and b &lt; c</p></li><li><p> IDLE 5 ** -2  </p><p>0.04</p></li><li><p> </p><p>a % 2 &#x3D;&#x3D; 0 ; a % 2 &#x3D;&#x3D; 1</p></li><li><p>not 1 or 0 and 1 or 3 and 4 or 5 and 6 or 7 and 8 and 9</p><p>not or and not &gt; and &gt; or </p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs smali">&gt;&gt;&gt;<span class="hljs-built_in"> not </span>1<span class="hljs-built_in"> or </span>0<span class="hljs-built_in"> and </span>1<span class="hljs-built_in"> or </span>3<span class="hljs-built_in"> and </span>4<span class="hljs-built_in"> or </span>5<span class="hljs-built_in"> and </span>6<span class="hljs-built_in"> or </span>7<span class="hljs-built_in"> and </span>8<span class="hljs-built_in"> and </span>9<br>4<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; (not 1)<span class="hljs-built_in"> or </span>(0<span class="hljs-built_in"> and </span>1)<span class="hljs-built_in"> or </span>(3<span class="hljs-built_in"> and </span>4)<span class="hljs-built_in"> or </span>(5<span class="hljs-built_in"> and </span>6)<span class="hljs-built_in"> or </span>(7<span class="hljs-built_in"> and </span>8<span class="hljs-built_in"> and </span>9)<br>4<br></code></pre></td></tr></table></figure></li><li><p>% </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment"># 4100,400</span><br><br>temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> temp.isdigit():<br>    temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>year = <span class="hljs-built_in">int</span>(temp)<br><br><span class="hljs-keyword">if</span> (year/<span class="hljs-number">4</span> == <span class="hljs-built_in">int</span>(year/<span class="hljs-number">4</span>)) <span class="hljs-keyword">and</span> (year/<span class="hljs-number">100</span> != <span class="hljs-built_in">int</span>(year/<span class="hljs-number">100</span>)):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % year)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-keyword">if</span> year/<span class="hljs-number">400</span> == <span class="hljs-built_in">int</span>(year/<span class="hljs-number">400</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % year)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % year)<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-1"><a href="#Practice-1" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> 0~100  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  0~100 </span><br><br>number = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">while</span> number &lt;= <span class="hljs-number">100</span>:<br>    <span class="hljs-keyword">if</span> number % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>:<br>        <span class="hljs-built_in">print</span>(number)<br>    number += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li><li><p> Python  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">   <br></code></pre></td></tr></table></figure></li><li><p>213254657 ~~~ </p><p> </p><p>119 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 213254657</span><br><br><span class="hljs-comment"># 7</span><br>stage = <span class="hljs-number">7</span><br><br><span class="hljs-comment"># 1 </span><br>result = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">while</span> stage &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> result != <span class="hljs-number">1</span>:<br>    <span class="hljs-keyword">if</span> (stage % <span class="hljs-number">7</span> == <span class="hljs-number">0</span>) <span class="hljs-keyword">and</span> (stage % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> (stage % <span class="hljs-number">5</span> == <span class="hljs-number">4</span>) <span class="hljs-keyword">and</span> (stage % <span class="hljs-number">6</span> == <span class="hljs-number">5</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % stage)<br>        result = <span class="hljs-number">1</span><br>    stage += <span class="hljs-number">7</span><br></code></pre></td></tr></table></figure></li></ol><h1 id="007--1"><a href="#007--1" class="headerlink" title="007. -1"></a>007. -1</h1><h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>  if else; ifelif.else</li><li>  while for </li></ul><h1 id="008--2"><a href="#008--2" class="headerlink" title="008. -2"></a>008. -2</h1><h2 id="-3"><a href="#-3" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>10090A 8090B6080C60DABCD</p><ul><li><p>-1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">score = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><span class="hljs-keyword">if</span> <span class="hljs-number">100</span> &gt;= score &gt;= <span class="hljs-number">90</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-number">90</span> &gt; score &gt;= <span class="hljs-number">80</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;B&#x27;</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-number">80</span> &gt; score &gt;= <span class="hljs-number">60</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-number">60</span> &gt; score &gt;= <span class="hljs-number">0</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;D&#x27;</span>)<br><span class="hljs-keyword">if</span> score &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> score &gt; <span class="hljs-number">100</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p>-2</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">score = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><span class="hljs-keyword">if</span> <span class="hljs-number">100</span> &gt;= score &gt;= <span class="hljs-number">90</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>  <span class="hljs-keyword">if</span> <span class="hljs-number">90</span> &gt; score &gt;= <span class="hljs-number">80</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;B&#x27;</span>)<br>  <span class="hljs-keyword">else</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-number">80</span> &gt; score &gt;= <span class="hljs-number">60</span>:<br>      <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;C&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>      <span class="hljs-keyword">if</span> <span class="hljs-number">60</span> &gt; score &gt;= <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;D&#x27;</span>)<br>      <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p>-3</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">score = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><span class="hljs-keyword">if</span> <span class="hljs-number">100</span> &gt;= score &gt;= <span class="hljs-number">90</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-keyword">elif</span> <span class="hljs-number">90</span> &gt; score &gt;= <span class="hljs-number">80</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;B&#x27;</span>)<br><span class="hljs-keyword">elif</span> <span class="hljs-number">80</span> &gt; score &gt;= <span class="hljs-number">60</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-keyword">elif</span> <span class="hljs-number">60</span> &gt; score &gt;= <span class="hljs-number">0</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;D&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol><li><p> if and elif. -1 if ; -3 python</p></li><li><p>Python  else</p><ul><li><p>else</p></li><li><p>CC ifelse </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> ( hi &gt; <span class="hljs-number">2</span> )<br>  <span class="hljs-keyword">if</span> ( hi &gt; <span class="hljs-number">7</span> )<br>    <span class="hljs-built_in">printf</span>( <span class="hljs-string">&quot;&quot;</span> )<br><span class="hljs-keyword">else</span><br>  print( <span class="hljs-string">&quot;&quot;</span> )<br></code></pre></td></tr></table></figure></li><li><p>Python if-else </p></li></ul></li><li><p></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">x, y = <span class="hljs-number">4</span>, <span class="hljs-number">5</span><br><span class="hljs-keyword">if</span> x &gt; y:<br>  small = x<br><span class="hljs-keyword">else</span>:<br>  small = y<br><br><span class="hljs-comment"># </span><br>small = x <span class="hljs-keyword">if</span> x &lt; y <span class="hljs-keyword">else</span> y<br></code></pre></td></tr></table></figure></li><li><p> assert</p><p>assert AssertionError</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">assert</span> <span class="hljs-number">3</span> &gt; <span class="hljs-number">4</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AssertionError<br></code></pre></td></tr></table></figure><p>assert </p></li></ol><h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h3 id="Quiz-2"><a href="#Quiz-2" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>if not (money &lt; 100):  </p><p>if money &gt;&#x3D; 100</p></li><li><p>assert  </p><p>assert </p></li><li><p> x &#x3D; 1y &#x3D; 2z &#x3D; 3 </p><p>x, y, z &#x3D; z, y, x</p></li><li><p> (x &lt; y and [x] or [y])[0] </p><p>,   &#x3D;  [x] if x &lt; y else [y] </p></li><li><p> </p><p>in </p></li></ol><h3 id="Practice-2"><a href="#Practice-2" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> if elif else  if  70~80 </p><blockquote><p>10090A8090B6080C60DABCD</p></blockquote></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">score = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><span class="hljs-keyword">if</span> <span class="hljs-number">80</span> &gt; score &gt;= <span class="hljs-number">60</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-keyword">elif</span> <span class="hljs-number">90</span> &gt; score &gt;= <span class="hljs-number">80</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;B&#x27;</span>)<br><span class="hljs-keyword">elif</span> <span class="hljs-number">60</span> &gt; score &gt;= <span class="hljs-number">0</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;D&#x27;</span>)<br><span class="hljs-keyword">elif</span> <span class="hljs-number">100</span> &gt;= score &gt;= <span class="hljs-number">90</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure><ol start="2"><li><p>Python C  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">x, y, z = <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span> <br><span class="hljs-keyword">if</span> x &lt; y:<br>  small = x <br>  <span class="hljs-keyword">if</span> z &lt; small:<br>    small = z <br><span class="hljs-keyword">elif</span> y &lt; z:<br>  small = y <br><span class="hljs-keyword">else</span>:<br>  small = z<br></code></pre></td></tr></table></figure></li></ol><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">small = x <span class="hljs-keyword">if</span> (x &lt; y <span class="hljs-keyword">and</span> z &gt;= x) <span class="hljs-keyword">else</span> (y <span class="hljs-keyword">if</span> y &lt; z <span class="hljs-keyword">else</span> z)<br></code></pre></td></tr></table></figure><ol start="3"><li></li></ol><h1 id="009--3"><a href="#009--3" class="headerlink" title="009. -3"></a>009. -3</h1><h2 id="-4"><a href="#-4" class="headerlink" title=""></a></h2><h3 id="while-"><a href="#while-" class="headerlink" title="while "></a>while </h3><h3 id="for-"><a href="#for-" class="headerlink" title="for "></a>for </h3><p>pytohn C for C pythonfor iteration </p><ul><li>range()<ul><li>range(start, stop[, step&#x3D;1])</li><li>BIF </li><li>step&#x3D;1 1</li><li>rangeBIFstart stop </li></ul></li></ul><h3 id="break--continue"><a href="#break--continue" class="headerlink" title="break  continue"></a>break  continue</h3><ul><li>break </li><li>continue </li><li>Break  Continue </li></ul><h2 id="-3"><a href="#-3" class="headerlink" title=""></a></h2><h3 id="Quiz-3"><a href="#Quiz-3" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>I Love FishC </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>):<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I Love FishC&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><p>5</p><ol start="2"><li><p>I Love FishC </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">5</span>:<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I Love FishC&#x27;</span>)<br></code></pre></td></tr></table></figure><p>0, TypeError: int object is not iterable</p></li><li><p> break  continue  </p><p>Break  Continue </p></li><li><p> </p><p></p></li><li><p> range(10)  </p><p>012 3 45 67 8 9</p></li><li><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>  <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">break</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>)<br>  <span class="hljs-built_in">print</span>(<span class="hljs-number">2</span>)<br>  <span class="hljs-keyword">break</span><br><span class="hljs-built_in">print</span>(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure></li></ol><p>2</p><p>3</p><ol start="7"><li><p> </p><p></p></li><li><p>(while) </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">i = <span class="hljs-number">0</span><br>string = <span class="hljs-string">&#x27;ILoveFishC.com&#x27;</span><br><span class="hljs-keyword">while</span> i &lt; <span class="hljs-built_in">len</span>(string)):<br>  <span class="hljs-built_in">print</span>(i)<br>  i += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># run len() </span><br>string = <span class="hljs-string">&#x27;ILoveFishC.com&#x27;</span><br>count = <span class="hljs-built_in">len</span>(string)<br>i = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> i &lt; count:<br>  <span class="hljs-built_in">print</span>(i)<br>  i += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-3"><a href="#Practice-3" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>***** </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># **&quot;\*&quot;**</span><br><br>password = <span class="hljs-string">&quot;novirus&quot;</span><br>count = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> count &lt;= <span class="hljs-number">2</span>:<br>        userInputPass = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input the password:&#x27;</span>)<br>        <span class="hljs-keyword">if</span> userInputPass == password:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is correct! Congrats!&#x27;</span>)<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;*&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> userInputPass:<br>                count += <span class="hljs-number">1</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is incorrect, please input again!&#x27;</span>)<br><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;you already input 3 times, the password input is frozen!&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br>password = <span class="hljs-string">&quot;novirus&quot;</span><br>count = <span class="hljs-number">3</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> count &gt; <span class="hljs-number">0</span>:<br>        userInputPass = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input the password:&#x27;</span>)<br>        <span class="hljs-keyword">if</span> userInputPass == password:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is correct! Congrats!&#x27;</span>)<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;*&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> userInputPass:<br>            count -= <span class="hljs-number">1</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is incorrect, you have %d tries left&#x27;</span> % count)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is incorrect, you have %d tries left&#x27;</span> % count)<br>            <span class="hljs-keyword">continue</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;you already input 3 times, the password input is frozen!&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">## </span><br><br>password = <span class="hljs-string">&quot;novirus&quot;</span><br>count = <span class="hljs-number">3</span><br><span class="hljs-keyword">while</span> count:<br>    userInputPass = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input the password:&#x27;</span>)<br>    <span class="hljs-keyword">if</span> userInputPass == password:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is correct! Congrats!&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;*&#x27;</span> <span class="hljs-keyword">in</span> userInputPass:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is incorrect, you have %d tries left&#x27;</span> % count )<br>        <span class="hljs-keyword">continue</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;your password input is incorrect, you have %d tries left&#x27;</span> % (count-<span class="hljs-number">1</span>))<br>    count -= <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li><li><p> 100~999 </p></li></ol><blockquote><p> 3 153 &#x3D; 1^3 + 5^3 + 3^3 153  </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1.  100~999 </span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># &gt;  3 153 = 1^3 + 5^3 + 3^3 153 </span><br><br><span class="hljs-keyword">for</span> number <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>, <span class="hljs-number">1000</span>):<br>    hundreds = number // <span class="hljs-number">100</span><br>    tens = (number // <span class="hljs-number">10</span>) % <span class="hljs-number">10</span><br>    single = number % <span class="hljs-number">10</span><br><br>    <span class="hljs-keyword">if</span> number == hundreds ** <span class="hljs-number">3</span> + tens ** <span class="hljs-number">3</span> + single ** <span class="hljs-number">3</span>:<br>        <span class="hljs-built_in">print</span>(number, end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-keyword">for</span> number <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>, <span class="hljs-number">1000</span>):<br>    numstr = <span class="hljs-built_in">str</span>(number)<br>    <span class="hljs-keyword">if</span> number == <span class="hljs-built_in">int</span>(numstr[<span class="hljs-number">0</span>])**<span class="hljs-number">3</span> + <span class="hljs-built_in">int</span>(numstr[<span class="hljs-number">1</span>])**<span class="hljs-number">3</span> + <span class="hljs-built_in">int</span>(numstr[<span class="hljs-number">2</span>])**<span class="hljs-number">3</span>:<br>        <span class="hljs-built_in">print</span>(number, end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><ol start="3"><li></li></ol><blockquote><p> 3  3  6  12  8  </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 3. </span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># &gt;  3  3  6  12  8 </span><br><br><br><span class="hljs-comment"># x + y + z = 8</span><br><span class="hljs-comment"># x is red, y is yellow, z is blue</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>):<br>    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">7</span>):<br>            <span class="hljs-keyword">if</span> x + y + z == <span class="hljs-number">8</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;totally we can have %d red, %d yellow, %d blue&#x27;</span> % (x, y, z))<br></code></pre></td></tr></table></figure><ol start="4"><li></li></ol><h1 id="010--1"><a href="#010--1" class="headerlink" title="010. -1"></a>010. -1</h1><h2 id="-5"><a href="#-5" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li></li><li></li><li></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(member)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;list&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>number = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>number<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>mix = [<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3.14</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] ]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>mix<br>[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3.14</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>empty = []<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>empty<br>[]<br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>append()</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">member.append(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">member</span><br>[&#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">len</span>(member)</span><br>3<br></code></pre></td></tr></table></figure></li><li><p>extend()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member.extend([<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;crybaby&#x27;</span>])<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;crybaby&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">len</span>(member)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure></li><li><p>insert()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member.insert(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;crybaby&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">len</span>(member)<br><span class="hljs-number">6</span><br></code></pre></td></tr></table></figure></li></ul><blockquote><p>append()  extend()  </p><p>extend() </p><p>insert() </p></blockquote><h2 id="-4"><a href="#-4" class="headerlink" title=""></a></h2><h3 id="Quiz-4"><a href="#Quiz-4" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p></p></li></ol><p>   append(), extend(), insert() </p><ol start="3"><li><p>append()  extend()  </p><p>extend() </p></li><li><p>member.append([, Crazy])  member.extend([, Crazy]) </p><p> append 1 extend 22</p></li><li><p> name &#x3D; [F, i, h, C] i  h  s </p><p>name.insert(2, s)</p></li></ol><h3 id="Practice-4"><a href="#Practice-4" class="headerlink" title="Practice"></a>Practice</h3><ol><li></li></ol><blockquote><p> </p><p>member &#x3D; [, , , , ] </p><p> </p><p>member &#x3D; [, 88, , 90, , 85, , 90, , 88] </p><p> insert()  append() </p><p>  </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br>index = <span class="hljs-number">1</span><br><br><br>member.insert(<span class="hljs-number">1</span>, <span class="hljs-number">88</span>)<br>member.insert(<span class="hljs-number">3</span>, <span class="hljs-number">90</span>)<br>member.insert(<span class="hljs-number">5</span>, <span class="hljs-number">85</span>)<br>member.insert(<span class="hljs-number">7</span>, <span class="hljs-number">90</span>)<br>member.append(<span class="hljs-number">88</span>)<br><br><span class="hljs-built_in">print</span>(member)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br>number = [<span class="hljs-number">88</span>, <span class="hljs-number">90</span>,  <span class="hljs-number">85</span>, <span class="hljs-number">90</span>,  <span class="hljs-number">88</span>]<br>new = []<br><br>index = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">while</span> index &lt; <span class="hljs-built_in">len</span>(member):<br>    new.extend([member[index], number[index]])<br>    index += <span class="hljs-number">1</span><br><br>member = new<br><span class="hljs-built_in">print</span>(member)<br></code></pre></td></tr></table></figure><ol start="2"><li> for  member </li></ol><p><img src="https://img-blog.csdnimg.cn/20200330223209818.png" alt="member = [&#39;&#39;, 88, &#39;&#39;, 90, &#39;&#39;, 85, &#39;&#39;, 90, &#39;&#39;, 88]"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> member:<br>    <span class="hljs-built_in">print</span>(i)<br></code></pre></td></tr></table></figure><ol start="3"><li></li></ol><p><img src="https://img-blog.csdnimg.cn/20200330223316122.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-comment"># </span><br>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><br>lenth = <span class="hljs-built_in">len</span>(member)<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, lenth, <span class="hljs-number">2</span>):<br>    <span class="hljs-built_in">print</span>(member[i], member[i+<span class="hljs-number">1</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><br><span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(member)):<br>    <span class="hljs-keyword">if</span> each % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(member[each], member[each+<span class="hljs-number">1</span>])<br></code></pre></td></tr></table></figure><h1 id="011--2"><a href="#011--2" class="headerlink" title="011. -2"></a>011. -2</h1><h2 id="-6"><a href="#-6" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>index 0</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>] <br><span class="hljs-meta">&gt;&gt;&gt; </span>member[<span class="hljs-number">0</span>]<br><span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member[<span class="hljs-number">1</span>]<br><span class="hljs-number">88</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><br><span class="hljs-comment"># </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>temp = member[<span class="hljs-number">0</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member[<span class="hljs-number">0</span>] = member[<span class="hljs-number">1</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member[<span class="hljs-number">1</span>] = temp<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>remove() ; </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member.remove(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member.remove(<span class="hljs-string">&#x27;&#x27;</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>ValueError: <span class="hljs-built_in">list</span>.remove(x): x <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span><br></code></pre></td></tr></table></figure></li><li><p>del</p><ul><li>del &lt;&gt;del member  </li><li>del &lt;&gt; del member[0] </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-number">88</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> member[<span class="hljs-number">0</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> member<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>NameError: name <span class="hljs-string">&#x27;member&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br></code></pre></td></tr></table></figure></li><li><p>pop()</p><ul><li>pop </li><li></li><li>index</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>member = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">88</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>member.pop()<br><span class="hljs-number">88</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>name = member.pop()<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>name<br><span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>member.pop(<span class="hljs-number">1</span>)<br><span class="hljs-number">90</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>member<br>[<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">85</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>]<br></code></pre></td></tr></table></figure></li></ul><h3 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h3><ul><li><p></p></li><li><p></p></li><li><p></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs pyth">&gt;&gt;&gt; member<br>[&#x27;&#x27;, &#x27;&#x27;, 85, &#x27;&#x27;, 90]<br>&gt;&gt;&gt; member[1:3]<br>[&#x27;&#x27;, 85]<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; member<br>[&#x27;&#x27;, &#x27;&#x27;, 85, &#x27;&#x27;, 90]<br>&gt;&gt;&gt; member[:3]<br>[&#x27;&#x27;, &#x27;&#x27;, 85]<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; member[1:]<br>[&#x27;&#x27;, 85, &#x27;&#x27;, 90]<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; member[:]<br>[&#x27;&#x27;, &#x27;&#x27;, 85, &#x27;&#x27;, 90]<br></code></pre></td></tr></table></figure></li></ul><h2 id="-5"><a href="#-5" class="headerlink" title=""></a></h2><h3 id="Quiz-5"><a href="#Quiz-5" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p><br>list1 &#x3D; [1, 3, 2, 9, 7, 8]<br>list1[2:5]</p><p>[2, 9, 7]</p></li><li><p> list1[0]  list1[0:1] </p><p>list1[0] 1 list[0:1] [1]</p></li><li><p></p><p>list.insert(0, list.pop())</p></li><li><p> list1[-3:-1]  [9, 7]</p><p>Python </p></li><li><p><br>list1[0:6:2]</p><ul><li><p><br>list1[::2]</p></li><li><p>0<br>list1 &#x3D; [1, 3, 2, 9, 7, 8]<br>list1 &#x3D; [ : : 0 ]</p></li><li><p><br>list1[::-2]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>list1[<span class="hljs-number">0</span>:<span class="hljs-number">6</span>:<span class="hljs-number">2</span>]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>list1[::<span class="hljs-number">2</span>]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>=[::<span class="hljs-number">0</span>]<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span><br>    <span class="hljs-built_in">list</span>=[::<span class="hljs-number">0</span>]<br>          ^<br>SyntaxError: invalid syntax<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>list1[::-<span class="hljs-number">2</span>]<br>[<span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>]<br></code></pre></td></tr></table></figure></li></ul></li><li><p> list2 &#x3D; list1[:] list2 &#x3D; list1 </p><p>list2 &#x3D; list1 list2</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"> list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br> list2 = list1[:]<br> list2 <br>[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br> list3 = list1<br> list3<br>[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br> list1.sort()<br> list1<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>] <br> list2<br>[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br> list3<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>] <br></code></pre></td></tr></table></figure><p>6.</p><h1 id="012--3"><a href="#012--3" class="headerlink" title="012. -3"></a>012. -3</h1><h2 id="-7"><a href="#-7" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><p>0</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>list1 = [<span class="hljs-number">123</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>list2 = [<span class="hljs-number">234</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>list1 &gt; list2<br><span class="hljs-literal">False</span> <br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>list1 = [<span class="hljs-number">123</span>, <span class="hljs-number">456</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>list2 = [<span class="hljs-number">234</span>, <span class="hljs-number">123</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>list1 &gt; list2<br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3 = [<span class="hljs-number">123</span>, <span class="hljs-number">456</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(list1 &lt; list2) <span class="hljs-keyword">and</span> (list1 == list3)</span><br>True<br></code></pre></td></tr></table></figure></li><li><p></p><p>extend + insertappendextend</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list4 = list1 + list2</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list4</span><br>[123, 456, 234, 123]<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3 * <span class="hljs-number">3</span></span><br>[123, 456, 123, 456, 123, 456]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3 *= <span class="hljs-number">3</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3</span><br>[123, 456, 123, 456, 123, 456]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3 *= <span class="hljs-number">5</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3</span><br>[123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456]<br></code></pre></td></tr></table></figure></li><li><p></p><ul><li></li></ul><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">123</span> <span class="hljs-keyword">in</span> list3</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-string">&#x27;xiaojiayu&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> list3</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-number">123</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> list3</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list5 = [<span class="hljs-number">123</span>, [<span class="hljs-string">&#x27;xiaojiayu&#x27;</span>, <span class="hljs-string">&#x27;mudan&#x27;</span>], <span class="hljs-number">456</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-string">&#x27;xiaojiayu&#x27;</span>  <span class="hljs-keyword">in</span> list5</span><br>False <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-string">&#x27;xiaojiayu&#x27;</span> <span class="hljs-keyword">in</span> list5[<span class="hljs-number">1</span>]</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list5[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]</span><br>&#x27;mudan&#x27;<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">dir</span>(<span class="hljs-built_in">list</span>)<br>[<span class="hljs-string">&#x27;__add__&#x27;</span>, <span class="hljs-string">&#x27;__class__&#x27;</span>, <span class="hljs-string">&#x27;__class_getitem__&#x27;</span>, <span class="hljs-string">&#x27;__contains__&#x27;</span>, <span class="hljs-string">&#x27;__delattr__&#x27;</span>, <span class="hljs-string">&#x27;__delitem__&#x27;</span>, <span class="hljs-string">&#x27;__dir__&#x27;</span>, <span class="hljs-string">&#x27;__doc__&#x27;</span>, <span class="hljs-string">&#x27;__eq__&#x27;</span>, <span class="hljs-string">&#x27;__format__&#x27;</span>, <span class="hljs-string">&#x27;__ge__&#x27;</span>, <span class="hljs-string">&#x27;__getattribute__&#x27;</span>, <span class="hljs-string">&#x27;__getitem__&#x27;</span>, <span class="hljs-string">&#x27;__gt__&#x27;</span>, <span class="hljs-string">&#x27;__hash__&#x27;</span>, <span class="hljs-string">&#x27;__iadd__&#x27;</span>, <span class="hljs-string">&#x27;__imul__&#x27;</span>, <span class="hljs-string">&#x27;__init__&#x27;</span>, <span class="hljs-string">&#x27;__init_subclass__&#x27;</span>, <span class="hljs-string">&#x27;__iter__&#x27;</span>, <span class="hljs-string">&#x27;__le__&#x27;</span>, <span class="hljs-string">&#x27;__len__&#x27;</span>, <span class="hljs-string">&#x27;__lt__&#x27;</span>, <span class="hljs-string">&#x27;__mul__&#x27;</span>, <span class="hljs-string">&#x27;__ne__&#x27;</span>, <span class="hljs-string">&#x27;__new__&#x27;</span>, <span class="hljs-string">&#x27;__reduce__&#x27;</span>, <span class="hljs-string">&#x27;__reduce_ex__&#x27;</span>, <span class="hljs-string">&#x27;__repr__&#x27;</span>, <span class="hljs-string">&#x27;__reversed__&#x27;</span>, <span class="hljs-string">&#x27;__rmul__&#x27;</span>, <span class="hljs-string">&#x27;__setattr__&#x27;</span>, <span class="hljs-string">&#x27;__setitem__&#x27;</span>, <span class="hljs-string">&#x27;__sizeof__&#x27;</span>, <span class="hljs-string">&#x27;__str__&#x27;</span>, <span class="hljs-string">&#x27;__subclasshook__&#x27;</span>, <span class="hljs-string">&#x27;append&#x27;</span>, <span class="hljs-string">&#x27;clear&#x27;</span>, <span class="hljs-string">&#x27;copy&#x27;</span>, <span class="hljs-string">&#x27;count&#x27;</span>, <span class="hljs-string">&#x27;extend&#x27;</span>, <span class="hljs-string">&#x27;index&#x27;</span>, <span class="hljs-string">&#x27;insert&#x27;</span>, <span class="hljs-string">&#x27;pop&#x27;</span>, <span class="hljs-string">&#x27;remove&#x27;</span>, <span class="hljs-string">&#x27;reverse&#x27;</span>, <span class="hljs-string">&#x27;sort&#x27;</span>]<br></code></pre></td></tr></table></figure><ul><li><p>reverse(): </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3.reverse()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3</span><br>[456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123, 456, 123]<br></code></pre></td></tr></table></figure></li><li><p>sort(): </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6 = [<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6.sort()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6</span><br>[2, 3, 4, 5, 8, 9, 10]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"> </span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6.sort(reverse=<span class="hljs-literal">True</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6</span><br>[10, 9, 8, 5, 4, 3, 2]<br></code></pre></td></tr></table></figure></li><li><p>count(): </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3.count(<span class="hljs-number">123</span>)</span><br>15<br></code></pre></td></tr></table></figure></li><li><p>index(): </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3.index(<span class="hljs-number">123</span>)</span><br>0<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list3.index(<span class="hljs-number">123</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>)</span><br>4<br></code></pre></td></tr></table></figure></li></ul><h2 id="-6"><a href="#-6" class="headerlink" title=""></a></h2><h3 id="Quiz-6"><a href="#Quiz-6" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li></li></ol><blockquote><p>list1 &#x3D; [1, [1, 2, []], 3, 5, 8, 13, 18] </p></blockquote><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs prolog">list1[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>][<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><ol start="2"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">list</span>.sort()<br></code></pre></td></tr></table></figure></li><li><p> </p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arcade">list.<span class="hljs-built_in">sort</span>(<span class="hljs-built_in">reverse</span>=<span class="hljs-literal">true</span>)<br><br><br>list.<span class="hljs-built_in">sort</span>()<br>list.<span class="hljs-built_in">reverse</span>()<br></code></pre></td></tr></table></figure></li><li><p>copy()  clear()</p></li></ol><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list7 = list6.copy()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list7</span><br>[4, 2, 3, 5, 9, 8, 10]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6.sort()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list6</span><br>[2, 3, 4, 5, 8, 9, 10]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list7</span><br>[4, 2, 3, 5, 9, 8, 10]<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list7.clear()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list7</span><br>[]<br></code></pre></td></tr></table></figure><ol start="5"><li> </li></ol><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">[ i*i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>) ] </span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">[i*i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)] </span><br>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]<br></code></pre></td></tr></table></figure><p> </p><p>09</p><p> List comprehensions HaskellTa  [A for A in B] </p><p> </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1 = [x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)] </span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1 </span><br><br>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81] <br></code></pre></td></tr></table></figure><p> </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">list1 = <span class="hljs-selector-attr">[]</span> <br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>): <br>list1<span class="hljs-selector-class">.append</span>(x**<span class="hljs-number">2</span>) <br></code></pre></td></tr></table></figure><p> IDLE  </p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">list<span class="hljs-number">1</span> <span class="hljs-operator">=</span> [(<span class="hljs-keyword">x</span><span class="hljs-punctuation">,</span> y) for <span class="hljs-keyword">x</span> in range(<span class="hljs-number">10</span>) for y in range(<span class="hljs-number">10</span>) if <span class="hljs-keyword">x</span><span class="hljs-variable">%2</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">0</span> if y<span class="hljs-variable">%2</span>!<span class="hljs-operator">=</span><span class="hljs-number">0</span>] <br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">if</span> x%<span class="hljs-number">2</span>==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> y%<span class="hljs-number">2</span>!=<span class="hljs-number">0</span>:<br><span class="hljs-meta">... </span>                    list1.append((x, y))<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>list1<br>[(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">7</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">9</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">7</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">9</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">7</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">9</span>), (<span class="hljs-number">6</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">6</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">6</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">6</span>, <span class="hljs-number">7</span>), (<span class="hljs-number">6</span>, <span class="hljs-number">9</span>), (<span class="hljs-number">8</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">8</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">8</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">8</span>, <span class="hljs-number">7</span>), (<span class="hljs-number">8</span>, <span class="hljs-number">9</span>)]<br></code></pre></td></tr></table></figure><ol start="6"><li></li></ol><p><img src="https://img-blog.csdnimg.cn/20200225183701856.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01hbWluZ3p1bw==,size_16,color_FFFFFF,t_70" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">list3=[y + <span class="hljs-string">&quot;:&quot;</span> + x[<span class="hljs-number">2</span>:] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> list1 <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> list2 <span class="hljs-keyword">if</span> x[<span class="hljs-number">0</span>] == y[<span class="hljs-number">0</span>]]<br></code></pre></td></tr></table></figure><h1 id="013-"><a href="#013-" class="headerlink" title="013. "></a>013. </h1><h2 id="-8"><a href="#-8" class="headerlink" title=""></a></h2><ul><li><p></p></li><li><p></p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; tuple1 = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>)<br>&gt;&gt;&gt; type(tuple1)<br>&lt;<span class="hljs-keyword">class</span> &#x27;<span class="hljs-symbol">tuple</span>&#x27;&gt;<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-symbol">tuple1</span><br>(<span class="hljs-symbol">1, <span class="hljs-symbol">2</span>, <span class="hljs-symbol">3</span>, <span class="hljs-symbol">4</span>, <span class="hljs-symbol">5</span>, <span class="hljs-symbol">6</span>, <span class="hljs-symbol">7</span>, <span class="hljs-symbol">8</span></span>)<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-symbol">tuple1</span>[<span class="hljs-symbol">1</span>]<br><span class="hljs-symbol">2</span><br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-symbol">tuple1</span>[<span class="hljs-symbol">5:</span>]<br>(<span class="hljs-symbol">6, <span class="hljs-symbol">7</span>, <span class="hljs-symbol">8</span></span>)<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-symbol">tuple2</span> = <span class="hljs-symbol">tuple1</span>[:]<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-symbol">tuple2</span><br>(<span class="hljs-symbol">1, <span class="hljs-symbol">2</span>, <span class="hljs-symbol">3</span>, <span class="hljs-symbol">4</span>, <span class="hljs-symbol">5</span>, <span class="hljs-symbol">6</span>, <span class="hljs-symbol">7</span>, <span class="hljs-symbol">8</span></span>)<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-symbol">tuple1</span>[<span class="hljs-symbol">1</span>] = <span class="hljs-symbol">3</span><br><span class="hljs-symbol">Traceback</span> (<span class="hljs-symbol">most</span> <span class="hljs-symbol">recent</span> <span class="hljs-symbol">call</span> <span class="hljs-symbol">last</span>):<br>  <span class="hljs-symbol">File</span> &quot;&lt;<span class="hljs-symbol">stdin</span>&gt;&quot;, <span class="hljs-symbol">line</span> <span class="hljs-symbol">1, <span class="hljs-symbol">in</span></span> &lt;<span class="hljs-symbol">module</span>&gt;<br><span class="hljs-symbol">TypeError: </span>&#x27;<span class="hljs-symbol">tuple</span>&#x27; <span class="hljs-symbol">object</span> <span class="hljs-symbol">does</span> <span class="hljs-symbol">not</span> <span class="hljs-symbol">support</span> <span class="hljs-symbol">item</span> <span class="hljs-symbol">assignment</span><br>&gt;&gt;&gt; <br></code></pre></td></tr></table></figure></li><li><p></p><ul><li><p> </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp = (<span class="hljs-number">1</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(temp)</span><br>&lt;class &#x27;int&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp2 = <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp2</span><br>(2, 3, 4)<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(temp2)</span><br>&lt;class &#x27;tuple&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp = ()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(temp)</span><br>&lt;class &#x27;tuple&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp</span><br>()<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp = (<span class="hljs-number">1</span>, )</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(temp)</span><br>&lt;class &#x27;tuple&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp</span><br>(1,)<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp = <span class="hljs-number">1</span>, </span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">temp</span><br>(1,)<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(temp)</span><br>&lt;class &#x27;tuple&#x27;&gt; <br></code></pre></td></tr></table></figure></li><li><p></p><p>python </p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&gt;&gt;&gt; <span class="hljs-keyword">temp</span> = (<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>&gt;&gt;&gt; <span class="hljs-keyword">temp</span><br>(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-keyword">temp</span> = <span class="hljs-keyword">temp</span>[:<span class="hljs-number">2</span>] + (<span class="hljs-string">&#x27;&#x27;</span>, ) + <span class="hljs-keyword">temp</span>[<span class="hljs-number">2</span>:]<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-keyword">temp</span><br>(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure><p>del  </p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&gt;&gt;&gt; del <span class="hljs-keyword">temp</span><br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-keyword">temp</span><br>Traceback (most recent <span class="hljs-keyword">call</span> last):<br>  File &quot;&lt;stdin&gt;&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>NameError: <span class="hljs-type">name</span> <span class="hljs-string">&#x27;temp&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p></li></ul><h2 id="-7"><a href="#-7" class="headerlink" title=""></a></h2><h3 id="Quiz-7"><a href="#Quiz-7" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p> </p><p> </p><p></p></li><li><p></p><p>  </p></li><li><p> </p><p> </p><p> </p></li><li><p> </p><p><img src="https://images2018.cnblogs.com/blog/1274778/201805/1274778-20180510092732778-991558013.png" alt="img"></p><p>2countindex</p></li><li><p> </p><p></p></li><li><p>x, y, z &#x3D; 1, 2, 3 x, y, z </p><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x, y, z = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(x)</span><br>&lt;class &#x27;int&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">h = x, y, z</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(h)</span><br>&lt;class &#x27;tuple&#x27;&gt;<br></code></pre></td></tr></table></figure></li><li><p> </p><ol><li> </li><li> </li><li> </li><li> </li><li> </li><li>NASA </li></ol></li><li><p> </p><p></p></li></ol><h1 id="014-"><a href="#014-" class="headerlink" title="014. "></a>014. </h1><h2 id="-9"><a href="#-9" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>  </li><li>+ </li><li></li><li></li></ul><p>{filename: }</p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><blockquote><p></p></blockquote><table><thead><tr><th>capitalize()</th><th></th></tr></thead><tbody><tr><td>casefold()</td><td></td></tr><tr><td>center(width)</td><td> width </td></tr><tr><td>count(sub[, start[, end]])</td><td> sub start  end </td></tr><tr><td>encode(encoding&#x3D;utf-8, errors&#x3D;strict)</td><td> encoding </td></tr><tr><td>endswith(sub[, start[, end]])</td><td> sub  True Falsestart  end </td></tr><tr><td>expandtabs([tabsize&#x3D;8])</td><td> tab \t tabsize&#x3D;8</td></tr><tr><td>find(sub[, start[, end]])</td><td> sub  -1start  end </td></tr><tr><td>index(sub[, start[, end]])</td><td> find  sub  string </td></tr><tr><td>isalnum()</td><td> True False</td></tr><tr><td>isalpha()</td><td> True False</td></tr><tr><td>isdecimal()</td><td> True False</td></tr><tr><td>isdigit()</td><td> True False</td></tr><tr><td>islower()</td><td> True False</td></tr><tr><td>isnumeric()</td><td> True False</td></tr><tr><td>isspace()</td><td> True False</td></tr><tr><td>istitle()</td><td> True False</td></tr><tr><td>isupper()</td><td> True False</td></tr><tr><td>join(sub)</td><td> sub </td></tr><tr><td>ljust(width)</td><td> width </td></tr><tr><td>lower()</td><td></td></tr><tr><td>lstrip()</td><td></td></tr><tr><td>partition(sub)</td><td> sub 3  (pre_sub, sub, fol_sub) sub  (, , )</td></tr><tr><td>replace(old, new[, count])</td><td> old  new  count  count </td></tr><tr><td>rfind(sub[, start[, end]])</td><td> find() </td></tr><tr><td>rindex(sub[, start[, end]])</td><td> index() </td></tr><tr><td>rjust(width)</td><td> width </td></tr><tr><td>rpartition(sub)</td><td> partition() </td></tr><tr><td>rstrip()</td><td></td></tr><tr><td>split(sep&#x3D;None, maxsplit&#x3D;-1)</td><td> maxsplit  maxsplit </td></tr><tr><td>splitlines(([keepends]))</td><td> False True</td></tr><tr><td>startswith(prefix[, start[, end]])</td><td> prefix  True Falsestart  end </td></tr><tr><td>strip([chars])</td><td>chars </td></tr><tr><td>swapcase()</td><td></td></tr><tr><td>title()</td><td></td></tr><tr><td>translate(table)</td><td> table  str.maketrans(a, b) </td></tr><tr><td>upper()</td><td></td></tr><tr><td>zfill(width)</td><td> width  0 </td></tr></tbody></table><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str1.capitalize()</span><br>&#x27;Abdc&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str1</span><br>&#x27;abdc&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str1.center(<span class="hljs-number">2</span>)</span><br>&#x27;abdc&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str1</span><br>&#x27;abdc&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str1.center(<span class="hljs-number">12</span>)</span><br>&#x27;    abdc    &#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str1.casefold()</span><br>&#x27;abdc&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str2 = <span class="hljs-string">&#x27;DAXDIExiaoyang&#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str2.count(<span class="hljs-string">&#x27;xi&#x27;</span>)</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str2.endswith(<span class="hljs-string">&#x27;ng&#x27;</span>)</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3 = <span class="hljs-string">&#x27;I\tlove\tFishC.com!&#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3.expandtabs()</span><br>&#x27;I       love    FishC.com!&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3</span><br>&#x27;I\tlove\tFishC.com!&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(str3)</span><br>IloveFishC.com!<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3 = <span class="hljs-string">&#x27;I\tlove\tFishC.com!&#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(str3)</span><br>IloveFishC.com!<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3.expandtabs(tabsize=<span class="hljs-number">18</span>)</span><br>&#x27;I                 love              FishC.com!&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3.find(<span class="hljs-string">&#x27;efc&#x27;</span>)</span><br>-1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3.find(<span class="hljs-string">&#x27;com&#x27;</span>)</span><br>13<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str3.index(<span class="hljs-string">&#x27;efc&#x27;</span>)</span><br>Traceback (most recent call last):<br>  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;<br>ValueError: substring not found<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str4 = <span class="hljs-string">&#x27;FishC&#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str4.join(<span class="hljs-string">&#x27;12345&#x27;</span>)</span><br>&#x27;1FishC2FishC3FishC4FishC5&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str5 = <span class="hljs-string">&#x27;    i love you   &#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str5.lstrip()</span><br>&#x27;i love you   &#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str5</span><br>&#x27;    i love you   &#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str5.rstrip()</span><br>&#x27;    i love you&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6 = <span class="hljs-string">&#x27;l love fish&#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.partition(<span class="hljs-string">&#x27;ov&#x27;</span>)</span><br>(&#x27;l l&#x27;, &#x27;ov&#x27;, &#x27;e fish&#x27;)<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6</span><br>&#x27;l love fish&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.replace(<span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;felix&#x27;</span>)</span><br>&#x27;l love felix&#x27; <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6</span><br>&#x27;l love fish&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.split()</span><br>[&#x27;l&#x27;, &#x27;love&#x27;, &#x27;fish&#x27;]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.split(<span class="hljs-string">&#x27;i&#x27;</span>)</span><br>[&#x27;l love f&#x27;, &#x27;sh&#x27;]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.startswith(<span class="hljs-string">&#x27;I&#x27;</span>)</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.startswith(<span class="hljs-string">&#x27;i&#x27;</span>)</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.startswith(<span class="hljs-string">&#x27;1&#x27;</span>)</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6</span><br>&#x27;l love fish&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str6.startswith(<span class="hljs-string">&#x27;l&#x27;</span>)</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7 = <span class="hljs-string">&#x27;     aaaasssss    &#x27;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7.strip()</span><br>&#x27;aaaasssss&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7 = str7.strip()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7</span><br>&#x27;aaaasssss&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7.strip(<span class="hljs-string">&#x27;s&#x27;</span>)</span><br>&#x27;aaaa&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7.swapcase()</span><br>&#x27;AAAASSSSS&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">str7.title()</span><br>&#x27;Aaaasssss&#x27;<br></code></pre></td></tr></table></figure><h2 id="-8"><a href="#-8" class="headerlink" title=""></a></h2><h3 id="Quiz-8"><a href="#Quiz-8" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs 1c"> <br>&gt;&gt;&gt; str1 = &#x27;&#x27;&#x27; <br> <br> <br> <br> <br>&#x27;&#x27;&#x27; <br><br> <br>&gt;&gt;&gt; str2 = &#x27;\ <br>\ <br>\ <br>\ <br>\ <br>&#x27; <br><br> <br>&gt;&gt;&gt; str3 = (&#x27;&#x27; <br>&#x27;&#x27; <br>&#x27;&#x27; <br>&#x27;&#x27; <br>&#x27;&#x27; <br>&#x27;&#x27;)<br></code></pre></td></tr></table></figure></li><li><p> </p><p></p></li><li><p>file1 &#x3D; open(C:\windows\temp\readme.txt, r) C:\windows\temp\readme.txt </p><p>\t, \r r </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">file1 = <span class="hljs-built_in">open</span>(<span class="hljs-string">r&#x27;C:\windows\temp\readme.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>)</span><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">str1 = &#x27;<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.fishc.com/dvd&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>C<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>&#x27;<br></code></pre></td></tr></table></figure><p><a href="http://www.fishc.com/">www.fishc.com</a> </p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># split() / </span><br>str1.<span class="hljs-built_in">split</span>(<span class="hljs-string">&#x27;/&#x27;</span>)[<span class="hljs-number">2</span>]<br><br><br><br><span class="hljs-comment"># partition() </span><br>str1.partition(<span class="hljs-string">&#x27;www.fishc.com&#x27;</span>)[<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure></li><li><p> </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">str1<span class="hljs-selector-class">.split</span>(<span class="hljs-string">&#x27;/&#x27;</span>)<span class="hljs-selector-attr">[-3]</span><br></code></pre></td></tr></table></figure></li><li><p></p></li></ol><p> </p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-meta prompt_">&gt;&gt;</span> str1[<span class="hljs-number">20</span><span class="hljs-symbol">:-</span><span class="hljs-number">36</span>] <br><span class="hljs-string">&#x27;fishc&#x27;</span><br></code></pre></td></tr></table></figure><ol start="7"><li><p>150</p><p>str1 &#x3D; i2sl54ovvvb4e3bferi32s56h;$c43.sfc67o0cm99 </p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">&gt;&gt;&gt; str1[::<span class="hljs-number">3</span>]<br><span class="hljs-string">&#x27;ilovefishc.com&#x27;</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-5"><a href="#Practice-5" class="headerlink" title="Practice"></a>Practice</h3><ol><li>check.py</li></ol><blockquote><p> </p><p> </p><ol><li> </li><li>8</li></ol><p> </p><ol><li>~!@#$%^&amp;*()_&#x3D;-&#x2F;,.?&lt;&gt;;:[]{}|\ *</li><li>8</li></ol><p> </p><ol><li><p>~!@#$%^&amp;*()_&#x3D;-&#x2F;,.?&lt;&gt;;:[]{}|\ </p></li><li><p></p></li><li><p>16</p></li></ol></blockquote><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python">specialchar = <span class="hljs-string">&quot;~!@#$%^&amp;*()_=-/,.?&lt;&gt;;:[]&#123;&#125;|\\&quot;</span><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    alphaflag, digitflag, specharflag = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>    passstr = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please input your password: &#x27;</span>)<br>    <br><span class="hljs-comment"># </span><br>    <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> passstr:<br>        <span class="hljs-keyword">if</span> each.isalpha():<br>            alphaflag = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> each.isdigit():<br>            digitflag = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> each <span class="hljs-keyword">in</span> specialchar:<br>            specharflag = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">continue</span><br><br>    <span class="hljs-keyword">if</span> passstr[<span class="hljs-number">0</span>].isalpha() <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(passstr) &gt;= <span class="hljs-number">16</span> <span class="hljs-keyword">and</span> alphaflag+digitflag+specharflag == <span class="hljs-number">3</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The password is strong!&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(passstr) &gt;= <span class="hljs-number">8</span> <span class="hljs-keyword">and</span> alphaflag+digitflag+specharflag &gt;= <span class="hljs-number">2</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The password is medium!&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(passstr) &lt; <span class="hljs-number">8</span> <span class="hljs-keyword">and</span> (passstr.isdigit() <span class="hljs-keyword">or</span> passstr.isalpha()):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The password is weak!&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The password does not meet requirement, please input again!&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="015-"><a href="#015-" class="headerlink" title="015. "></a>015. </h1><h2 id="-10"><a href="#-10" class="headerlink" title=""></a></h2><h3 id="format-"><a href="#format-" class="headerlink" title="format()  "></a>format()  </h3><ul><li><p></p></li><li><p></p></li><li><p></p><ul><li></li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&gt;&gt;&gt; <span class="hljs-string">&quot;&#123;0&#125; love &#123;1&#125;.&#123;2&#125;&quot;</span>.format(<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-string">&quot;flish&quot;</span>, <span class="hljs-string">&quot;com&quot;</span>)<br><span class="hljs-string">&#x27;I love flish.com&#x27;</span><br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-string">&quot;&#123;a&#125; love &#123;b&#125;.&#123;c&#125;&quot;</span>.format(<span class="hljs-attribute">a</span>=<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-attribute">b</span>=<span class="hljs-string">&quot;flish&quot;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&quot;com&quot;</span>)<br><span class="hljs-string">&#x27;I love flish.com&#x27;</span><br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-string">&quot;&#123;0&#125; love &#123;b&#125;.&#123;c&#125;&quot;</span>.format(<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-attribute">b</span>=<span class="hljs-string">&quot;flish&quot;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&quot;com&quot;</span>)<br><span class="hljs-string">&#x27;I love flish.com&#x27;</span><br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <span class="hljs-string">&quot;&#123;a&#125; love &#123;b&#125;.&#123;0&#125;&quot;</span>.format(<span class="hljs-attribute">a</span>=<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-attribute">b</span>=<span class="hljs-string">&quot;flish&quot;</span>, <span class="hljs-string">&quot;com&quot;</span>)<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line 1<br>    <span class="hljs-string">&quot;&#123;a&#125; love &#123;b&#125;.&#123;0&#125;&quot;</span>.format(<span class="hljs-attribute">a</span>=<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-attribute">b</span>=<span class="hljs-string">&quot;flish&quot;</span>, <span class="hljs-string">&quot;com&quot;</span>)<br>                                                     ^<br>SyntaxError: positional argument follows keyword argument<br></code></pre></td></tr></table></figure></li><li><p></p><ul><li><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\\&#x27;</span>)<br>\<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;&#123;0&#125;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>&#123;<span class="hljs-number">0</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;&#123;&#123;0&#125;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-string">&#x27;&#123;0&#125;&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>output 27.7GB27.658GB</p><p>0 .1f .1 f </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;&#123;0:.1f&#125;&#123;1&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-number">27.658</span>,<span class="hljs-string">&#x27;GB&#x27;</span>)<br><span class="hljs-string">&#x27;27.7GB&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="Python3-"><a href="#Python3-" class="headerlink" title="Python3 "></a>Python3 </h3><ul><li><p></p><table><thead><tr><th>  </th><th>   </th></tr></thead><tbody><tr><td>%c</td><td>ASCII</td></tr><tr><td>%s</td><td></td></tr><tr><td>%d</td><td></td></tr><tr><td>%b</td><td></td></tr><tr><td>%o</td><td></td></tr><tr><td>%x</td><td></td></tr><tr><td>%X</td><td></td></tr><tr><td>%f</td><td></td></tr><tr><td>%e</td><td></td></tr><tr><td>%E</td><td>%e</td></tr><tr><td>%g</td><td>%f%e</td></tr><tr><td>%G</td><td>%g%f%E</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%c&#x27;</span> % <span class="hljs-number">97</span><br><span class="hljs-string">&#x27;a&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%c %c %c&#x27;</span> % (<span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">99</span>)<br><span class="hljs-string">&#x27;a b c&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%s&#x27;</span> % <span class="hljs-string">&#x27;I love fishC&#x27;</span><br><span class="hljs-string">&#x27;I love fishC&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%d + %d = %d&#x27;</span> %(<span class="hljs-number">4</span>, <span class="hljs-number">5</span> , <span class="hljs-number">4</span>+<span class="hljs-number">5</span>)<br><span class="hljs-string">&#x27;4 + 5 = 9&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%o&#x27;</span> %<span class="hljs-number">10</span><br><span class="hljs-string">&#x27;12&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%x&#x27;</span> %<span class="hljs-number">10</span><br><span class="hljs-string">&#x27;a&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%X&#x27;</span> %<span class="hljs-number">10</span><br><span class="hljs-string">&#x27;A&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%X&#x27;</span> %<span class="hljs-number">160</span><br><span class="hljs-string">&#x27;A0&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%f&#x27;</span> % <span class="hljs-number">27.658</span><br><span class="hljs-string">&#x27;27.658000&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%e&#x27;</span> % <span class="hljs-number">27.658</span><br><span class="hljs-string">&#x27;2.765800e+01&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%E&#x27;</span> % <span class="hljs-number">27.658</span><br><span class="hljs-string">&#x27;2.765800E+01&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%g&#x27;</span> % <span class="hljs-number">27.658</span><br><span class="hljs-string">&#x27;27.658&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%g&#x27;</span> % <span class="hljs-number">27.65843824837284738274832784732</span><br><span class="hljs-string">&#x27;27.6584&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%g&#x27;</span> % <span class="hljs-number">2765843824837284738274832784732</span><br><span class="hljs-string">&#x27;2.76584e+30&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p></p><table><thead><tr><th>  </th><th>   </th></tr></thead><tbody><tr><td>m.n</td><td>mn</td></tr><tr><td>-</td><td></td></tr><tr><td>+</td><td>+</td></tr><tr><td>#</td><td> 0o 0x  0X</td></tr><tr><td>0</td><td> 0 </td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%5.1f&#x27;</span> %<span class="hljs-number">27.658</span><br><span class="hljs-string">&#x27; 27.7&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%.2e&#x27;</span> %<span class="hljs-number">27.658</span><br><span class="hljs-string">&#x27;2.77e+01&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%10d&#x27;</span> %<span class="hljs-number">5</span><br><span class="hljs-string">&#x27;         5&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%-10d&#x27;</span> %<span class="hljs-number">5</span><br><span class="hljs-string">&#x27;5         &#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%+10d&#x27;</span> %<span class="hljs-number">5</span><br><span class="hljs-string">&#x27;        +5&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%+10d&#x27;</span> %-<span class="hljs-number">5</span><br><span class="hljs-string">&#x27;        -5&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%+-10d&#x27;</span> %<span class="hljs-number">5</span><br><span class="hljs-string">&#x27;+5        &#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%#o&#x27;</span> % <span class="hljs-number">10</span><br><span class="hljs-string">&#x27;0o12&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%#x&#x27;</span> % <span class="hljs-number">10</span><br><span class="hljs-string">&#x27;0xa&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%#X&#x27;</span> % <span class="hljs-number">10</span><br><span class="hljs-string">&#x27;0XA&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%#d&#x27;</span> % <span class="hljs-number">10</span><br><span class="hljs-string">&#x27;10&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%010d&#x27;</span> % <span class="hljs-number">10</span><br><span class="hljs-string">&#x27;0000000010&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%-010d&#x27;</span> % <span class="hljs-number">10</span><br><span class="hljs-string">&#x27;10        &#x27;</span><br></code></pre></td></tr></table></figure></li><li><p></p><table><thead><tr><th>  </th><th>   </th></tr></thead><tbody><tr><td>&#39;</td><td></td></tr><tr><td>&quot;</td><td></td></tr><tr><td>\a</td><td></td></tr><tr><td>\b</td><td></td></tr><tr><td>\n</td><td></td></tr><tr><td>\t</td><td>TAB</td></tr><tr><td>\v</td><td></td></tr><tr><td>\r</td><td></td></tr><tr><td>\f</td><td></td></tr><tr><td>\o</td><td></td></tr><tr><td>\x</td><td></td></tr><tr><td>\0</td><td></td></tr><tr><td>\</td><td></td></tr></tbody></table></li></ul><h2 id="-9"><a href="#-9" class="headerlink" title=""></a></h2><h3 id="Quiz-9"><a href="#Quiz-9" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><table><thead><tr><th> </th><th> </th></tr></thead><tbody><tr><td>%c</td><td>ASCII</td></tr><tr><td>%s</td><td></td></tr><tr><td>%d</td><td></td></tr><tr><td>%o</td><td></td></tr><tr><td>%x</td><td></td></tr><tr><td>%X</td><td></td></tr><tr><td>%f</td><td></td></tr><tr><td>%e</td><td></td></tr><tr><td>%E</td><td>%f%e</td></tr><tr><td>%g</td><td>%F%E</td></tr></tbody></table></li><li><p> </p><blockquote><p>&gt;&gt;&gt;1.format(, ) </p></blockquote><p>{1}</p></li><li><p>a, b, c</p></li></ol><blockquote><p>&gt;&gt;&gt; {a} love {b}.{c}.format(a&#x3D;I, b&#x3D;FishC, c&#x3D;com) </p><p>I love FishC.com </p></blockquote><p></p><ol start="4"><li>{0}, {1}, {2}</li></ol><blockquote><p>&gt;&gt;&gt; {0} love {1}.{2}.format(I, FishC, com) </p><p>I love FishC.com </p></blockquote><p></p><ol start="5"><li>Pi &#x3D; 3.14format</li></ol><blockquote><p>.format(Pi &#x3D; , 3.1415) </p></blockquote><p>{0}{1:.2f}.format(Pi &#x3D; , 3.1415) </p><h3 id="Practice-6"><a href="#Practice-6" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>bin()BIF </p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8yMzA4NjI4Mi02NThjNjVjZWNiNzgxZTA2LnBuZw?x-oss-process=image/format,png" alt="img"></p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Q&#x27;</span>)<br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> number == <span class="hljs-string">&#x27;Q&#x27;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">elif</span> number.isdigit():<br>        intnumber = <span class="hljs-built_in">int</span>(number)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;0&#125;&#123;1:#x&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27; -&gt; &#x27;</span>, intnumber))<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;0&#125;&#123;1:#o&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27; -&gt; &#x27;</span>, intnumber))<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;0&#125;&#123;1:#b&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27; -&gt; &#x27;</span>, intnumber))<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">else</span>:<br>        number = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Q&#x27;</span>)<br>        <span class="hljs-keyword">continue</span><br></code></pre></td></tr></table></figure><h1 id="016-"><a href="#016-" class="headerlink" title="016. "></a>016. </h1><h2 id="-11"><a href="#-11" class="headerlink" title=""></a></h2><ul><li><p></p><ul><li></li><li>0</li><li></li><li></li></ul></li><li><p>BIF</p><ul><li><p>list(), </p></li><li><p>tuple(), </p></li><li><p>str(), obj</p></li><li><p>len(), </p></li><li><p>max(), </p></li><li><p>min(), </p></li><li><p>sum(iterable[, start&#x3D;0]), iterable start</p></li><li><p>sorted(), ; list.sort()</p></li><li><p>reversed(), list()</p></li><li><p>enumerate(), index  list()</p></li><li><p>zip(a, b) </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-built_in">list</span>()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br>[]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = <span class="hljs-string">&#x27;I love fishC.com&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = <span class="hljs-built_in">list</span>(b)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b<br>[<span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">21</span>, <span class="hljs-number">34</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = <span class="hljs-built_in">list</span>(c)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c<br>[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">21</span>, <span class="hljs-number">34</span>]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">len</span>(a)<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">len</span>(b)<br><span class="hljs-number">16</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">max</span>(b)<br><span class="hljs-string">&#x27;v&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b<br>[<span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">98</span>, <span class="hljs-number">34</span>, <span class="hljs-number">54</span>, <span class="hljs-number">76</span>, <span class="hljs-number">32</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">max</span>(numbers)<br><span class="hljs-number">76</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">min</span>(numbers)<br>-<span class="hljs-number">98</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>chars = <span class="hljs-string">&#x27;123456789&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">min</span>(chars)<br><span class="hljs-string">&#x27;1&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>tuple1 = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">max</span>(tuple1)<br><span class="hljs-number">9</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>tuple2 = (<span class="hljs-number">3.1</span>, <span class="hljs-number">2.3</span>, <span class="hljs-number">3.4</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sum</span>(tuple2)<br><span class="hljs-number">8.8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sum</span>(numbers)<br><span class="hljs-number">130</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sum</span>(numbers, <span class="hljs-number">8</span>)<br><span class="hljs-number">138</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>chars<br><span class="hljs-string">&#x27;123456789&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sum</span>(chars)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: unsupported operand <span class="hljs-built_in">type</span>(s) <span class="hljs-keyword">for</span> +: <span class="hljs-string">&#x27;int&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-string">&#x27;str&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sorted</span>(numbers)<br>[-<span class="hljs-number">98</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">13</span>, <span class="hljs-number">18</span>, <span class="hljs-number">32</span>, <span class="hljs-number">34</span>, <span class="hljs-number">54</span>, <span class="hljs-number">76</span>]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">reversed</span>(numbers)<br>&lt;list_reverseiterator <span class="hljs-built_in">object</span> at <span class="hljs-number">0x10495e2b0</span>&gt;<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">reversed</span>(numbers))<br>[<span class="hljs-number">32</span>, <span class="hljs-number">76</span>, <span class="hljs-number">54</span>, <span class="hljs-number">34</span>, -<span class="hljs-number">98</span>, <span class="hljs-number">0</span>, <span class="hljs-number">13</span>, <span class="hljs-number">18</span>, <span class="hljs-number">1</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">enumerate</span>(numbers)<br>&lt;<span class="hljs-built_in">enumerate</span> <span class="hljs-built_in">object</span> at <span class="hljs-number">0x104a0e4c0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">enumerate</span>(numbers))<br>[(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">18</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">13</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">4</span>, -<span class="hljs-number">98</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">34</span>), (<span class="hljs-number">6</span>, <span class="hljs-number">54</span>), (<span class="hljs-number">7</span>, <span class="hljs-number">76</span>), (<span class="hljs-number">8</span>, <span class="hljs-number">32</span>)]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">zip</span>(a, b)<br>&lt;<span class="hljs-built_in">zip</span> <span class="hljs-built_in">object</span> at <span class="hljs-number">0x104a0e400</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(a, b))<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">6</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">7</span>)]<br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-10"><a href="#-10" class="headerlink" title=""></a></h2><h3 id="Quiz-10"><a href="#Quiz-10" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p> </p></li><li><p>BIF </p><p>list([iterable])</p><p>tuple([iterable])</p><p>str(obj)</p></li><li><p></p><p></p></li><li><p> max(I love FishC.com)  </p><p>v, ASCIIASCII<a href="http://bbs.fishc.com/thread-41199-1-1.html%EF%BC%89%EF%BC%8C%E5%8F%82%E6%95%B0%E4%B8%ADASCII%E7%A0%81%E5%80%BC%E6%9C%80%E5%A4%A7%E7%9A%84%E6%98%AF'v'%E5%AF%B9%E5%BA%94%E7%9A%84118">http://bbs.fishc.com/thread-41199-1-1.htmlASCII&#39;v&#39;118</a></p></li><li><p> </p><p><img src="https://img-blog.csdnimg.cn/img_convert/b8487addfb00c4a6b7cad9c4b5f328f9.gif" alt="Alt"></p></li></ol><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br>score = [ [<span class="hljs-string">&#x27;&#x27;</span>,  <span class="hljs-number">85</span>], [<span class="hljs-string">&#x27;&#x27;</span>,  <span class="hljs-number">80</span>], [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">65</span>], [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">95</span>], [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">90</span>]]<br>IsFind = <span class="hljs-literal">False</span><br><br><span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> score:<br>    <span class="hljs-keyword">if</span> name == each[<span class="hljs-number">0</span>]:<br>        <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27;&#x27;</span>,  each[<span class="hljs-number">1</span>])<br>        IsFind = <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">break</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> IsFind:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="Practice-7"><a href="#Practice-7" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> min() BIF </p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">list1 = [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">332</span>, <span class="hljs-number">41</span>, <span class="hljs-number">532</span>, <span class="hljs-number">6</span>]<br><span class="hljs-keyword">minvalue</span> = list1[<span class="hljs-number">0</span>]<br><br><span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-keyword">in</span> list1:<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">each</span> &lt; <span class="hljs-keyword">minvalue</span>:<br>        <span class="hljs-keyword">minvalue</span> = each<br><br>print(<span class="hljs-keyword">minvalue</span>)<br></code></pre></td></tr></table></figure></li><li><p> sum() BIF </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> list1:<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(each, <span class="hljs-built_in">str</span>):<br>        list1.remove(each)<br><br><span class="hljs-built_in">print</span>(list1, <span class="hljs-string">&#x27;\n&#x27;</span>, <span class="hljs-built_in">sum</span>(list1))<br></code></pre></td></tr></table></figure></li></ol><h1 id="017-Python"><a href="#017-Python" class="headerlink" title="017. Python"></a>017. Python</h1><h2 id="-12"><a href="#-12" class="headerlink" title=""></a></h2><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">MyFirstFunction</span>():</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="hljs-meta prompt_">...</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">MyFirstFunction()</span><br><br><br></code></pre></td></tr></table></figure><ul><li></li><li></li><li>Python </li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>Python </li><li></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">MySecondFunction</span>(<span class="hljs-params">name</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27;I love You!&#x27;</span> )<br><span class="hljs-meta">... </span><br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>MySecondFunction()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: MySecondFunction() missing <span class="hljs-number">1</span> required positional argument: <span class="hljs-string">&#x27;name&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>MySecondFunction(<span class="hljs-string">&#x27;&#x27;</span>)<br>I love You!<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">num1, num2</span>):<br><span class="hljs-meta">... </span>    result = num1 + num2<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(result)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-number">3</span><br><br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>return</li></ul><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">num1, num2</span>):</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-keyword">return</span> (num1 + num2)</span><br><span class="hljs-meta prompt_">...</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</span><br>3<br></code></pre></td></tr></table></figure><h2 id="-11"><a href="#-11" class="headerlink" title=""></a></h2><h3 id="Quiz-11"><a href="#Quiz-11" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>DRY </p><p>DRYDont Repeat Yourself.</p></li><li><p> </p><ul><li></li><li></li><li></li><li></li></ul></li><li><p> </p><p></p></li><li><p> </p><p>def():</p></li><li><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">MyFun</span>(<span class="hljs-params">(<span class="hljs-params">x, y</span>), (<span class="hljs-params">a, b</span>)</span>):<br>  <span class="hljs-keyword">return</span> x * y - a * b<br></code></pre></td></tr></table></figure><p>0</p></li><li><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello World!&#x27;</span>) <br>  <span class="hljs-keyword">return</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Welcome To FishC.com!&#x27;</span>)<br></code></pre></td></tr></table></figure><p>Hello World!return</p></li></ol><h3 id="Practice-8"><a href="#Practice-8" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>power()pow()power(x, y)xy </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">power</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-keyword">if</span> y == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">elif</span> y &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">if</span> y == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> x<br>        <span class="hljs-keyword">else</span>:<br>            result = x<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(y-<span class="hljs-number">1</span>):<br>                result *= x<br>            <span class="hljs-keyword">return</span> result<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> y == -<span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>/x<br>        <span class="hljs-keyword">else</span>:<br>            result = x<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>((-y-<span class="hljs-number">1</span>)):<br>                result *= x<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>/result<br><br><span class="hljs-built_in">print</span>(power(<span class="hljs-number">2</span>, -<span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure></li><li><p>gcd(x, y)xy </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">gcder</span>(<span class="hljs-params">a, b</span>):<br>    flag = a % b<br>    result = b<br>    <span class="hljs-keyword">while</span> flag != <span class="hljs-number">0</span>:<br>        flag = a % b<br>        result = b<br>        a = b<br>        b = flag<br>    <span class="hljs-keyword">return</span> result<br><br><span class="hljs-built_in">print</span>(gcder(<span class="hljs-number">121</span>, <span class="hljs-number">11</span>))<br></code></pre></td></tr></table></figure></li><li><p>2bin() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">biner</span>(<span class="hljs-params">x</span>):<br>    binarylist = []<br>    <span class="hljs-keyword">while</span> x != <span class="hljs-number">0</span>:<br>        flag = <span class="hljs-built_in">str</span>(x % <span class="hljs-number">2</span>)<br>        binarylist.insert(<span class="hljs-number">0</span>, flag)<br>        x = x // <span class="hljs-number">2</span><br>    <span class="hljs-comment"># &#x27;&#x27;.join(object)</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join(binarylist)<br><br><span class="hljs-built_in">print</span>(biner(<span class="hljs-number">4</span>))<br></code></pre></td></tr></table></figure></li></ol><h1 id="018-"><a href="#018-" class="headerlink" title="018. "></a>018. </h1><h2 id="-13"><a href="#-13" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><code>\&gt;&gt;&gt; def MySecondFunction(name):</code> name # </li><li><code>\&gt;&gt;&gt; MySecondFunction(&#39;&#39;)</code> </li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p> <code>.__doc__</code></p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">MyFirstFunction</span>(<span class="hljs-params">name</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-string">&#x27;name&#x27;</span><br><span class="hljs-meta">... </span>    <span class="hljs-comment">#</span><br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + name + <span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>MyFirstFunction(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>MyFirstFunction.__doc__<br><span class="hljs-string">&#x27;name&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>.__doc__<br><span class="hljs-string">&quot;print(value, ..., sep=&#x27; &#x27;, end=&#x27;\\n&#x27;, file=sys.stdout, flush=False)\n\nPrints the values to a stream, or to sys.stdout by default.\nOptional keyword arguments:\nfile:  a file-like object (stream); defaults to the current sys.stdout.\nsep:   string inserted between values, default a space.\nend:   string appended after the last value, default a newline.\nflush: whether to forcibly flush the stream.&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">SaySome</span>(<span class="hljs-params">name, words</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27;-&gt;&#x27;</span> + words)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>SaySome(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>-&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>SaySome(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>-&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>SaySome(words=<span class="hljs-string">&#x27;&#x27;</span>, name=<span class="hljs-string">&#x27;&#x27;</span>)<br>-&gt;<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">SaySome</span>(<span class="hljs-params">name=<span class="hljs-string">&#x27;&#x27;</span>, words=<span class="hljs-string">&#x27;&#x27;</span></span>):<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27;-&gt;&#x27;</span> + words)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>SaySome()<br>-&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>SaySome(<span class="hljs-string">&#x27;&#x27;</span>)<br>-&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>SaySome(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>-&gt;<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p></li><li><p>*</p></li><li><p>Python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">*params</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-built_in">len</span>(params))<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, params[<span class="hljs-number">1</span>])<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>)<br> <span class="hljs-number">5</span><br> <br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">*params, exp</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-built_in">len</span>(params), exp)<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, params[<span class="hljs-number">1</span>])<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: test() missing <span class="hljs-number">1</span> required keyword-only argument: <span class="hljs-string">&#x27;exp&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, exp=<span class="hljs-number">8</span>)<br> <span class="hljs-number">5</span> <span class="hljs-number">8</span><br> <br></code></pre></td></tr></table></figure></li></ul><h2 id="-12"><a href="#-12" class="headerlink" title=""></a></h2><h3 id="Quiz-12"><a href="#Quiz-12" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">MyFun</span>(<span class="hljs-params">x</span>):<br><span class="hljs-keyword">return</span> x ** <span class="hljs-number">3</span><br>y = <span class="hljs-number">3</span><br><span class="hljs-built_in">print</span>(MyFun(y))<br></code></pre></td></tr></table></figure><p>x y </p></li><li><p>#</p><p><code>__doc__</code>  <code>help()</code>  <code>.__doc__</code> </p></li><li><p></p><p></p></li><li><p>help(print)print()BIF</p><p><code>print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)</code></p></li><li><p></p><p></p></li></ol><h3 id="Practice-9"><a href="#Practice-9" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p>a. base&#x3D;3</p><p>b. base&#x3D;55</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment"># a. base=3</span><br><span class="hljs-comment"># b. base=55</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">practice1</span>(<span class="hljs-params">*pram, base=<span class="hljs-number">3</span></span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(pram)*base<br><br><br><span class="hljs-built_in">print</span>(practice1(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>))<br><span class="hljs-built_in">print</span>(practice1(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>,  base=<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure></li><li><p></p><p>3153 &#x3D; 1^3+5^3+3^3153</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment"># 3153 = 1^3+5^3+3^3153</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">narcissistic</span>():<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>, <span class="hljs-number">1000</span>):<br>        x = i // <span class="hljs-number">100</span><br>        y = (i // <span class="hljs-number">10</span>) % <span class="hljs-number">10</span><br>        z = i % <span class="hljs-number">10</span><br>        <span class="hljs-keyword">if</span> i == <span class="hljs-built_in">pow</span>(x, <span class="hljs-number">3</span>) + <span class="hljs-built_in">pow</span>(y, <span class="hljs-number">3</span>) + <span class="hljs-built_in">pow</span>(z, <span class="hljs-number">3</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;narcissistic number: %d&#x27;</span> % i)<br><br><br>narcissistic()<br></code></pre></td></tr></table></figure></li><li><p> findstr() 2 You cannot improve your past, but you can improve your future. Once time is wasted, life is wasted.im 3 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  findstr() 2 </span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># You cannot improve your past, but you can improve your future. Once time is wasted, life is wasted.</span><br><span class="hljs-comment"># im 3 </span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findstr</span>(<span class="hljs-params">x, y</span>):<br>    a = y[<span class="hljs-number">0</span>]<br>    b = y[<span class="hljs-number">1</span>]<br>    count = <span class="hljs-number">0</span><br>    xlen = <span class="hljs-built_in">len</span>(x)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(xlen):<br>        <span class="hljs-keyword">if</span> x[i] == a <span class="hljs-keyword">and</span> x[i+<span class="hljs-number">1</span>] == b:<br>            count += <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>(count)<br><br><br>findstr(<span class="hljs-string">&#x27;You cannot improve your past, but you can improve your future. Once time is wasted, life is wasted.&#x27;</span>, <span class="hljs-string">&#x27;im&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><h1 id="019-"><a href="#019-" class="headerlink" title="019. "></a>019. </h1><h2 id="-14"><a href="#-14" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p></li><li><p></p></li><li><p>Python PythonNone</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;hello, fishC!&#x27;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>temp = hello()<br>hello, fishC!<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>temp<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(temp)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;NoneType&#x27;</span>&gt;<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>Python </p></li><li><p>Python</p></li><li><p>Python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">back</span>():<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span>[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3.14</span>]<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>back()<br>[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3.14</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">back</span>():<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3.14</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>back()<br>(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3.14</span>)<br></code></pre></td></tr></table></figure></li></ul><h3 id="-"><a href="#-" class="headerlink" title=" - "></a> - </h3><ul><li><p><strong></strong> Python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">discounts</span>(<span class="hljs-params">price, rate</span>):<br>    final_price = price * rate<br>    <span class="hljs-keyword">return</span> final_price<br><br><br>old_price = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>rate = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>new_price = discounts(old_price, rate)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, new_price)<br><br><span class="hljs-comment"># final_price </span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;final_price&#x27;</span>, final_price)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">12</span><br><span class="hljs-number">0.3</span><br> <span class="hljs-number">3.5999999999999996</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;/Users/felix_yang/PycharmProjects/learningpython/19/test01.py&quot;</span>, line <span class="hljs-number">15</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;final_price&#x27;</span>, final_price)<br>NameError: name <span class="hljs-string">&#x27;final_price&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br></code></pre></td></tr></table></figure></li><li><p><strong></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">discounts</span>(<span class="hljs-params">price, rate</span>):<br>    final_price = price * rate<br>  <br>    <span class="hljs-comment"># : old_price </span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;old_price&#x27;</span>, old_price)<br>    <br>    <span class="hljs-keyword">return</span> final_price<br><br><br>old_price = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>rate = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>new_price = discounts(old_price, rate)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, new_price)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">12</span><br><span class="hljs-number">0.4</span><br>old_price <span class="hljs-number">12.0</span><br> <span class="hljs-number">4.800000000000001</span><br></code></pre></td></tr></table></figure><p><em><strong>python </strong></em></p></li></ul><h2 id="-13"><a href="#-13" class="headerlink" title=""></a></h2><h3 id="Quiz-13"><a href="#Quiz-13" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">next</span>():  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;next()...&#x27;</span>)  <br>    pre()  <br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pre</span>():  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;pre()...&#x27;</span>)  <br>  <br><span class="hljs-built_in">next</span>()<br></code></pre></td></tr></table></figure><p>next()</p><p>pre()</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello FishC!&#x27;</span>) <br></code></pre></td></tr></table></figure><p>none</p></li><li><p>Pythonreturn</p><p>return &#x2F;</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params">var</span>):  <br>    var = <span class="hljs-number">1314</span>  <br>    <span class="hljs-built_in">print</span>(var, end = <span class="hljs-string">&#x27;&#x27;</span>)  <br>  <br>var = <span class="hljs-number">520</span>  <br>fun(var)  <br><span class="hljs-built_in">print</span>(var) <br></code></pre></td></tr></table></figure><p><em>1314520</em></p><p>varvar</p></li><li><p></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">var</span> = <span class="hljs-string">&#x27;Hi&#x27;</span>  <br>  <br><span class="hljs-function">def <span class="hljs-title">fun1</span>():  </span><br><span class="hljs-function">    <span class="hljs-keyword">global</span> <span class="hljs-keyword">var</span>  </span><br><span class="hljs-function">    <span class="hljs-keyword">var</span></span> = <span class="hljs-string">&#x27; Baby &#x27;</span>  <br>    <span class="hljs-keyword">return</span> fun2(<span class="hljs-keyword">var</span>)  <br>  <br><span class="hljs-function">def <span class="hljs-title">fun2</span>(<span class="hljs-params"><span class="hljs-keyword">var</span></span>):  </span><br><span class="hljs-function">    <span class="hljs-keyword">var</span> +</span>= <span class="hljs-string">&#x27;I love you&#x27;</span>  <br>    fun3(<span class="hljs-keyword">var</span>)  <br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">var</span>  </span><br><span class="hljs-function">  </span><br><span class="hljs-function">def <span class="hljs-title">fun3</span>(<span class="hljs-params"><span class="hljs-keyword">var</span></span>):  </span><br><span class="hljs-function">    <span class="hljs-keyword">var</span></span> = <span class="hljs-string">&#x27;  &#x27;</span>  <br>  <br>print(fun1())<br></code></pre></td></tr></table></figure><p>Baby I love you</p></li></ol><h3 id="Practice-10"><a href="#Practice-10" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-comment"># listreverse()Nonestringreserved()</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check</span>(<span class="hljs-params">var</span>):<br>    list1 = <span class="hljs-built_in">list</span>(var)<br>    list2 = list1[:]<br>    list2.reverse()<br><br>    <span class="hljs-keyword">if</span> list1 == list2:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s &#x27;</span> % var)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s &#x27;</span> % var)<br><br><br>check(<span class="hljs-string">&#x27;1234321&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-comment"># </span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_str</span>(<span class="hljs-params">var</span>):<br>    str_count = <span class="hljs-number">0</span><br>    space_count = <span class="hljs-number">0</span><br>    number_count = <span class="hljs-number">0</span><br>    other_count = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> var:<br>        <span class="hljs-keyword">if</span> i.isdigit():<br>            number_count += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> i.isalpha():<br>            str_count += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> i.isspace():<br>            space_count += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            other_count += <span class="hljs-number">1</span><br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % str_count)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % number_count)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % space_count)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % other_count)<br><br><br>count_str(<span class="hljs-string">&#x27;12d99  safe&#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_str</span>(<span class="hljs-params">*param</span>):<br>    var_number = <span class="hljs-built_in">len</span>(param)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(var_number):<br>        str_count = <span class="hljs-number">0</span><br>        space_count = <span class="hljs-number">0</span><br>        number_count = <span class="hljs-number">0</span><br>        other_count = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> param[i]:<br>            <span class="hljs-keyword">if</span> each.isdigit():<br>                number_count += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> each.isalpha():<br>                str_count += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> each.isspace():<br>                space_count += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                other_count += <span class="hljs-number">1</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d  %d %d  %d  %d &#x27;</span> % (i, str_count, number_count, space_count, other_count))<br><br><br>count_str(<span class="hljs-string">&#x27;1fe&#x27;</span>, <span class="hljs-string">&#x27;1ssssf sfe&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><h1 id="020-"><a href="#020-" class="headerlink" title="020. "></a>020. </h1><h2 id="-15"><a href="#-15" class="headerlink" title=""></a></h2><h3 id="Global-"><a href="#Global-" class="headerlink" title="Global "></a>Global </h3><ul><li><p>python shadowing </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>count = <span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">MyFun</span>():<br><span class="hljs-meta">... </span>    count = <span class="hljs-number">10</span><br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(count)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>MyFun()<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(count)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure></li><li><p>global </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">MyFun</span>():<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">global</span> count<br><span class="hljs-meta">... </span>    count = <span class="hljs-number">10</span><br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(count)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>MyFun()<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(count)<br><span class="hljs-number">10</span><br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">fun1</span>():<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;fun1 is being called&#x27;</span>)<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fun2</span>():<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;fun2 is being called&#x27;</span>)<br><span class="hljs-meta">... </span>    fun2()<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>fun1()<br>fun1 <span class="hljs-keyword">is</span> being called<br>fun2 <span class="hljs-keyword">is</span> being called<br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">FunX</span>(<span class="hljs-params">x</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">FunY</span>(<span class="hljs-params">y</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> x * y<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> FunY<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>i = FunX(<span class="hljs-number">8</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>i<br>&lt;function FunX.&lt;<span class="hljs-built_in">locals</span>&gt;.FunY at <span class="hljs-number">0x103343040</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(i)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;function&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>i(<span class="hljs-number">5</span>)<br><span class="hljs-number">40</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>FunX(<span class="hljs-number">8</span>)(<span class="hljs-number">5</span>)<br><span class="hljs-number">40</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>FunY(<span class="hljs-number">5</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>NameError: name <span class="hljs-string">&#x27;FunY&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br></code></pre></td></tr></table></figure></li><li><p> </p></li><li><p>shadowingpython </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">Fun1</span>():<br><span class="hljs-meta">... </span>    x = <span class="hljs-number">5</span><br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Fun2</span>():<br><span class="hljs-meta">... </span>            x *= x<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> x<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> Fun2()<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>Fun1()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">6</span>, <span class="hljs-keyword">in</span> Fun1<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">4</span>, <span class="hljs-keyword">in</span> Fun2<br>UnboundLocalError: local variable <span class="hljs-string">&#x27;x&#x27;</span> referenced before assignment<br></code></pre></td></tr></table></figure><ul><li><p>Python3 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">Fun1</span>():<br><span class="hljs-meta">... </span>    x = [<span class="hljs-number">5</span>]<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Fun2</span>():<br><span class="hljs-meta">... </span>            x[<span class="hljs-number">0</span>] *= x[<span class="hljs-number">0</span>]<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> Fun2()<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>Fun1()<br><span class="hljs-number">25</span><br></code></pre></td></tr></table></figure></li><li><p>Python3 <em><strong>nonlocal</strong></em> <em><strong>global</strong></em> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">Fun1</span>():<br><span class="hljs-meta">... </span>    x = <span class="hljs-number">5</span><br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Fun2</span>():<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">nonlocal</span> x<br><span class="hljs-meta">... </span>            x *= x<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> x<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> Fun2()<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>Fun1()<br><span class="hljs-number">25</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mel"><br><br><span class="hljs-keyword">python</span><br><br><br><br> JavaScript <br><br>?<br><br><span class="hljs-number">1.</span><br><br><span class="hljs-number">2.</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="-14"><a href="#-14" class="headerlink" title=""></a></h2><h3 id="Quiz-14"><a href="#Quiz-14" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p>global</p></li><li><p></p><p>nonlocal</p></li><li><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">outside</span>():<br>      <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I am outside!&#x27;</span>)<br>      <span class="hljs-keyword">def</span> <span class="hljs-title function_">inside</span>():<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I am inside!&#x27;</span>)<br>   <br>inside()<br></code></pre></td></tr></table></figure><p>outside()</p></li><li><p>AB</p><p>A</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">outside</span>():<br><span class="hljs-number">2</span>     var = <span class="hljs-number">5</span><br><span class="hljs-number">3</span>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">inside</span>():<br><span class="hljs-number">4</span>         var = <span class="hljs-number">3</span><br><span class="hljs-number">5</span>         <span class="hljs-built_in">print</span>(var )<br><span class="hljs-number">6</span>     inside()<br><span class="hljs-number">7</span> outside()<br></code></pre></td></tr></table></figure><p>B</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">outside</span>():<br><span class="hljs-number">2</span>     var = <span class="hljs-number">5</span><br><span class="hljs-number">3</span>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">inside</span>():<br><span class="hljs-number">4</span>         <span class="hljs-built_in">print</span>(var )<br><span class="hljs-number">5</span>         var = <span class="hljs-number">3</span><br><span class="hljs-number">6</span>     inside()<br><span class="hljs-number">7</span> outside()<br></code></pre></td></tr></table></figure><p>shadowingpython B var print(var) A  var&#x3D;3</p></li><li><p>FunIn()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">funOut</span>():<br><span class="hljs-number">2</span>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">funIn</span>():<br><span class="hljs-number">3</span>         <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;~&quot;</span>)<br><span class="hljs-number">4</span>     <span class="hljs-keyword">return</span> funIn()<br></code></pre></td></tr></table></figure><p>funOut()</p></li><li><p>FunIn()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">funOut</span>():<br><span class="hljs-number">2</span>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">funIn</span>():<br><span class="hljs-number">3</span>         <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;~&quot;</span>)<br><span class="hljs-number">4</span>     <span class="hljs-keyword">return</span> funIn<br></code></pre></td></tr></table></figure></li></ol><p>funOut()() </p><p></p><p>a &#x3D; funOut()</p><p>a()</p><ol start="7"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"> <span class="hljs-number">1</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">funX</span>():<br> <span class="hljs-number">2</span>     x=<span class="hljs-number">5</span><br> <span class="hljs-number">3</span>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">funY</span>():<br> <span class="hljs-number">4</span>         <span class="hljs-keyword">nonlocal</span>  x<br> <span class="hljs-number">5</span>         x+=<span class="hljs-number">1</span><br> <span class="hljs-number">6</span>         <span class="hljs-keyword">return</span> x<br> <span class="hljs-number">7</span>     <span class="hljs-keyword">return</span> funY<br> <span class="hljs-number">8</span> a=funX()<br> <span class="hljs-number">9</span> <span class="hljs-built_in">print</span>(a())<br><span class="hljs-number">10</span> <span class="hljs-built_in">print</span>(a())<br><span class="hljs-number">11</span> <span class="hljs-built_in">print</span>(a())<br></code></pre></td></tr></table></figure><p>6</p><p>7</p><p>8</p><p>x</p><p>a &#x3D; funX()afunX()x</p><p></p></li></ol><p></p><h3 id="Practice-11"><a href="#Practice-11" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p><a href="https://github.com/felixyh/learningpython/blob/main/20/string1.txt">string1.txt</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_str</span>(<span class="hljs-params">x</span>):<br>    temp_list = []<br>    temp_number = []<br>    lenth = <span class="hljs-built_in">len</span>(x)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show</span>():<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(lenth):<br>            current_char = x[i]<br>            <span class="hljs-keyword">if</span> current_char <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> temp_list:<br>                temp_list.append(current_char)<br>                temp_number.append(x.count(current_char))<br>        final_list = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(temp_list, temp_number))<br>        <span class="hljs-built_in">print</span>(final_list)<br>        <span class="hljs-comment"># print(&#x27; %s %d&#x27; % (current, number))</span><br>    <span class="hljs-keyword">return</span> show()<br><br><br>count_str(string1)<br></code></pre></td></tr></table></figure><p><code>[(&#39;%&#39;, 6104), (&#39;$&#39;, 6046), (&#39;@&#39;, 6157), (&#39;_&#39;, 6112), (&#39;^&#39;, 6030), (&#39;#&#39;, 6115), (&#39;)&#39;, 6186), (&#39;&amp;&#39;, 6043), (&#39;!&#39;, 6079), (&#39;+&#39;, 6066), (&#39;]&#39;, 6152), (&#39;*&#39;, 6034), (&#39;&#125;&#39;, 6105), (&#39;[&#39;, 6108), (&#39;(&#39;, 6154), (&#39;&#123;&#39;, 6046), (&#39;\n&#39;, 1219), (&#39;G&#39;, 1), (&#39;O&#39;, 2), (&#39;D&#39;, 1), (&#39;L&#39;, 1), (&#39;U&#39;, 1), (&#39;C&#39;, 1), (&#39;K&#39;, 1)]</code></p><p>GOODLUCK</p></li><li><p></p><p><a href="https://github.com/felixyh/learningpython/blob/main/20/string2.txt">string2.txt</a></p><ul><li></li><li></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_pass</span>(<span class="hljs-params">x</span>):<br>    str_length = <span class="hljs-built_in">len</span>(x) - <span class="hljs-number">9</span><br>    pass_list = <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show_pass</span>():<br>        <span class="hljs-comment"># pass_list nonlocal</span><br>        <span class="hljs-keyword">nonlocal</span> pass_list<br><br>        <span class="hljs-comment"># password 4 xxx[]xxxx38</span><br>        <span class="hljs-keyword">if</span> x[:<span class="hljs-number">3</span>].isupper() <span class="hljs-keyword">and</span> x[<span class="hljs-number">4</span>:<span class="hljs-number">7</span>].isupper() <span class="hljs-keyword">and</span> (x[<span class="hljs-number">3</span>]+x[<span class="hljs-number">7</span>]).islower() <span class="hljs-keyword">and</span> x[:<span class="hljs-number">7</span>].isalpha():<br>            pass_list += x[<span class="hljs-number">3</span>]<br><br>        <span class="hljs-comment"># 9temp_string3</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(str_length):<br>            temp_string = x[i:i+<span class="hljs-number">9</span>]<br>            temp_low = temp_string[<span class="hljs-number">0</span>] + temp_string[<span class="hljs-number">4</span>] + temp_string[-<span class="hljs-number">1</span>]<br>            temp_up = temp_string[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>] + temp_string[-<span class="hljs-number">4</span>:-<span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">if</span> temp_low.islower() <span class="hljs-keyword">and</span> temp_up.isupper() <span class="hljs-keyword">and</span> (temp_up + temp_string[<span class="hljs-number">4</span>]).isalpha():<br>                pass_list += temp_string[<span class="hljs-number">4</span>]<br><br>        <span class="hljs-comment"># password 4 xxxx[]xxx38</span><br>        <span class="hljs-keyword">if</span> x[-<span class="hljs-number">7</span>:-<span class="hljs-number">4</span>].isupper() <span class="hljs-keyword">and</span> x[-<span class="hljs-number">3</span>:].isupper() <span class="hljs-keyword">and</span> (x[-<span class="hljs-number">4</span>]+x[-<span class="hljs-number">7</span>]).islower() <span class="hljs-keyword">and</span> x[-<span class="hljs-number">7</span>:].isalpha():<br>            pass_list += x[-<span class="hljs-number">4</span>]<br><br>        <span class="hljs-built_in">print</span>(pass_list)<br><br>    <span class="hljs-keyword">return</span> show_pass()<br><br><br>find_pass(string2)<br></code></pre></td></tr></table></figure></li></ol><h1 id="021-Lambda"><a href="#021-Lambda" class="headerlink" title="021. Lambda"></a>021. Lambda</h1><h2 id="-16"><a href="#-16" class="headerlink" title=""></a></h2><h3 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h3><ul><li><p>Lambda </p></li><li><p> - 1 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">ds</span>(<span class="hljs-params">x</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>ds(<span class="hljs-number">5</span>)<br><span class="hljs-number">11</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">lambda</span> x : <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br>&lt;function &lt;<span class="hljs-keyword">lambda</span>&gt; at <span class="hljs-number">0x1033431f0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>g = <span class="hljs-keyword">lambda</span> x : <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>g(<span class="hljs-number">5</span>)<br><span class="hljs-number">11</span><br></code></pre></td></tr></table></figure></li><li><p> - 2</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x, y</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> x + y<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>add(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-number">7</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">lambda</span> x, y : x + y<br>&lt;function &lt;<span class="hljs-keyword">lambda</span>&gt; at <span class="hljs-number">0x103343310</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>g = <span class="hljs-keyword">lambda</span> x, y : x + y<br><span class="hljs-meta">&gt;&gt;&gt; </span>g(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-number">7</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="Lambda-"><a href="#Lambda-" class="headerlink" title="Lambda "></a>Lambda </h3><ul><li>Pythonlambdalambda</li><li>lambda</li><li>def lambda</li></ul><h3 id="BIF"><a href="#BIF" class="headerlink" title="BIF"></a>BIF</h3><ul><li><p>filter() : </p><ul><li><p>filter(function or None, iterable)</p></li><li><p>Return an iterator yielding those items of iterable for which function(item) is true. If function is None, return the items that are true. (iterablefunction(item)true; nonetrueitem)</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">odd</span>(<span class="hljs-params">x</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> x % <span class="hljs-number">2</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>temp = <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>show = <span class="hljs-built_in">filter</span>(odd, temp)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(show)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br></code></pre></td></tr></table></figure><p>lambda </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>show = <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x : x % <span class="hljs-number">2</span>, <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(show)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br></code></pre></td></tr></table></figure><p>None</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">filter</span>(<span class="hljs-literal">None</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>])<br>&lt;<span class="hljs-built_in">filter</span> <span class="hljs-built_in">object</span> at <span class="hljs-number">0x103325730</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-literal">None</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>]))<br>[<span class="hljs-number">1</span>, <span class="hljs-literal">True</span>]<br></code></pre></td></tr></table></figure></li></ul></li><li><p>map()</p><ul><li><p>map(func, *iterables)  </p></li><li><p>Make an iterator that computes the function using arguments from each of the iterables. Stops when the shortest iterable is exhausted. ()</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x : x * <span class="hljs-number">2</span>, <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)))<br>[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>]<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x, y : x * y, <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>), <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)))<br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>]<br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-15"><a href="#-15" class="headerlink" title=""></a></h2><h3 id="Quiz-15"><a href="#Quiz-15" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>lambda</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">def <span class="hljs-keyword">fun</span><span class="hljs-constructor">_A(<span class="hljs-params">x</span>,<span class="hljs-params">y</span>=3)</span>:<br>    return x*y<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">lambda</span> x, y=<span class="hljs-number">3</span> : x * y<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">lambda</span> x: x <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ds</span>(<span class="hljs-params">x</span>):<br><span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span>:<br><span class="hljs-keyword">return</span> x<br><span class="hljs-keyword">else</span>:<br><span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure></li><li><p></p><p></p></li><li><p>filter()lambda1003</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x : <span class="hljs-keyword">not</span>( x % <span class="hljs-number">3</span> ), <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>)))<br>[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">21</span>, <span class="hljs-number">24</span>, <span class="hljs-number">27</span>, <span class="hljs-number">30</span>, <span class="hljs-number">33</span>, <span class="hljs-number">36</span>, <span class="hljs-number">39</span>, <span class="hljs-number">42</span>, <span class="hljs-number">45</span>, <span class="hljs-number">48</span>, <span class="hljs-number">51</span>, <span class="hljs-number">54</span>, <span class="hljs-number">57</span>, <span class="hljs-number">60</span>, <span class="hljs-number">63</span>, <span class="hljs-number">66</span>, <span class="hljs-number">69</span>, <span class="hljs-number">72</span>, <span class="hljs-number">75</span>, <span class="hljs-number">78</span>, <span class="hljs-number">81</span>, <span class="hljs-number">84</span>, <span class="hljs-number">87</span>, <span class="hljs-number">90</span>, <span class="hljs-number">93</span>, <span class="hljs-number">96</span>, <span class="hljs-number">99</span>]<br></code></pre></td></tr></table></figure></li><li><p>filter()lambda</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>[ x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">if</span> x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span> ]<br>[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">21</span>, <span class="hljs-number">24</span>, <span class="hljs-number">27</span>, <span class="hljs-number">30</span>, <span class="hljs-number">33</span>, <span class="hljs-number">36</span>, <span class="hljs-number">39</span>, <span class="hljs-number">42</span>, <span class="hljs-number">45</span>, <span class="hljs-number">48</span>, <span class="hljs-number">51</span>, <span class="hljs-number">54</span>, <span class="hljs-number">57</span>, <span class="hljs-number">60</span>, <span class="hljs-number">63</span>, <span class="hljs-number">66</span>, <span class="hljs-number">69</span>, <span class="hljs-number">72</span>, <span class="hljs-number">75</span>, <span class="hljs-number">78</span>, <span class="hljs-number">81</span>, <span class="hljs-number">84</span>, <span class="hljs-number">87</span>, <span class="hljs-number">90</span>, <span class="hljs-number">93</span>, <span class="hljs-number">96</span>, <span class="hljs-number">99</span>]<br></code></pre></td></tr></table></figure></li><li><p>zipzip</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gcode">&gt;&gt;&gt; list<span class="hljs-comment">(zip([1, 3, 5, 7, 9], [2, 4, 6, 8, 10])</span>)<br>[<span class="hljs-comment">(1, 2)</span>, <span class="hljs-comment">(3, 4)</span>, <span class="hljs-comment">(5, 6)</span>, <span class="hljs-comment">(7, 8)</span>, <span class="hljs-comment">(9, 10)</span>]<br></code></pre></td></tr></table></figure><p>[[1, 2], [3, 4], [5, 6], [7, 8], [9, 10]]maplambda</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x, y :  [x, y], [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>] ))<br>[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>]]<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_repeat</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> s: s * n<br>double = make_repeat(<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(double(<span class="hljs-number">8</span>))<br><span class="hljs-built_in">print</span>(double(<span class="hljs-string">&#x27;FishC&#x27;</span>))<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs undefined">16<br>FishCFishC<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-12"><a href="#Practice-12" class="headerlink" title="Practice"></a>Practice</h3><h1 id="022-"><a href="#022-" class="headerlink" title="022. "></a>022. </h1><h2 id="-17"><a href="#-17" class="headerlink" title=""></a></h2><p></p><ul><li> </li><li> </li><li></li><li></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><ul><li>1234</li><li>51x2x3x4x51201205</li></ul><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">x</span>):<br>    result = x<br>    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, x):<br>        result *= n<br>    <span class="hljs-keyword">return</span> result<br><br><br>number = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input a number:&#x27;</span>))<br>final_result = factorial(number)<br><span class="hljs-built_in">print</span>(final_result)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> n * factorial(n-<span class="hljs-number">1</span>)<br><br><br>number = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input a number:&#x27;</span>))<br>final_result = factorial(number)<br><span class="hljs-built_in">print</span>(final_result)<br></code></pre></td></tr></table></figure><p>![image-20220509110226777](&#x2F;Users&#x2F;felix_yang&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220509110226777.png)</p></li></ol></li></ul><h2 id="-16"><a href="#-16" class="headerlink" title=""></a></h2><h3 id="Quiz-16"><a href="#Quiz-16" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fun</span>():<br><span class="hljs-keyword">return</span> fun()<br></code></pre></td></tr></table></figure><p>IDLECtlr + Cpython3100</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> sys<br><span class="hljs-meta">&gt;&gt;&gt; </span>sys.setrecursionlimit(<span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure></li><li><p></p><p></p></li><li><p></p><p></p></li><li><p></p><p></p></li><li><p></p><p><br></p></li><li><p></p><p></p></li></ol><h3 id="Practice-13"><a href="#Practice-13" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>power()pow()power(x,y)xy</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># power()pow()power(x,y)xy</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">power</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-keyword">if</span> y == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> x<br>    <span class="hljs-keyword">elif</span> y == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> x * power(x, y-<span class="hljs-number">1</span>)<br><br><br><span class="hljs-built_in">print</span>(power(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>))<br></code></pre></td></tr></table></figure></li><li><p>gcd(x,y)xy</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># gcd(x,y)xy</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">gcder</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-keyword">if</span> x % y == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> y<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> gcder(y, x % y)<br><br><br><span class="hljs-built_in">print</span>(gcder(<span class="hljs-number">9</span>, <span class="hljs-number">6</span>))<br></code></pre></td></tr></table></figure></li></ol><h1 id="023-"><a href="#023-" class="headerlink" title="023. "></a>023. </h1><h2 id="-18"><a href="#-18" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>![image-20220513210700654](&#x2F;Users&#x2F;felix_yang&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220513210700654.png)</p><ul><li><p> - </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> n == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">elif</span> n &lt; <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> fibonacci(n-<span class="hljs-number">1</span>) + fibonacci(n-<span class="hljs-number">2</span>)<br><br><br>n = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input a number:&#x27;</span>)<br>result = fibonacci(<span class="hljs-built_in">int</span>(n))<br><span class="hljs-keyword">if</span> result != -<span class="hljs-number">1</span>:<br>    <span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>):<br>    n1 = <span class="hljs-number">1</span><br>    n2 = <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">1</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The number is incorrect&#x27;</span>)<br><br>    <span class="hljs-keyword">elif</span> n == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> n == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">while</span> (n-<span class="hljs-number">2</span>) &gt; <span class="hljs-number">0</span>:<br>            n3 = n1 + n2<br>            n1 = n2<br>            n2 = n3<br>            n -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> n3<br><br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input a number:&#x27;</span>))<br>result = fibonacci(n)<br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure></li></ul><h1 id="024-"><a href="#024-" class="headerlink" title="024. "></a>024. </h1><h2 id="-19"><a href="#-19" class="headerlink" title=""></a></h2><img src="/Users/felix_yang/Library/Application Support/typora-user-images/image-20220515204116145.png" alt="image-20220515204116145" style="zoom:50%;" /><img src="/Users/felix_yang/Library/Application Support/typora-user-images/image-20220516082730879.png" alt="image-20220516082730879" style="zoom:50%;" /><img src="/Users/felix_yang/Library/Application Support/typora-user-images/image-20220516082806121.png" alt="image-20220516082806121" style="zoom:50%;" /><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs lua">In [<span class="hljs-number">1</span>]: def hanoi(n, x, y, z):<br>   ...:     <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>   ...:         <span class="hljs-built_in">print</span>(x, <span class="hljs-string">&#x27;---&gt;&#x27;</span>, z)<br>   ...:     <span class="hljs-keyword">else</span>:<br>   ...:         hanoi(n<span class="hljs-number">-1</span>, x, z, y)<br>   ...:         <span class="hljs-built_in">print</span>(x, <span class="hljs-string">&#x27;---&gt;&#x27;</span>, z)<br>   ...:         hanoi(n<span class="hljs-number">-1</span>, y, x, z)<br>   ...: <br><br><br>In [<span class="hljs-number">2</span>]: n = int(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input the hanoi levels:&#x27;</span>))<br>please <span class="hljs-built_in">input</span> the hanoi levels:<span class="hljs-number">3</span><br><br>In [<span class="hljs-number">3</span>]: hanoi(n, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>)<br>x <span class="hljs-comment">---&gt; z</span><br>x <span class="hljs-comment">---&gt; y</span><br>z <span class="hljs-comment">---&gt; y</span><br>x <span class="hljs-comment">---&gt; z</span><br>y <span class="hljs-comment">---&gt; x</span><br>y <span class="hljs-comment">---&gt; z</span><br>x <span class="hljs-comment">---&gt; z</span><br></code></pre></td></tr></table></figure><h2 id="-17"><a href="#-17" class="headerlink" title=""></a></h2><h3 id="Quiz-17"><a href="#Quiz-17" class="headerlink" title="Quiz"></a>Quiz</h3><h3 id="Practice-14"><a href="#Practice-14" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>2bin()<br>$$<br>b &#x3D; f(x) &#x3D; \left{<br>  \begin{array}{lr}<br>1 &amp; : x &#x3D; 1\<br>f( x &#x2F;&#x2F; 2) \Join x % 2 &amp; : x &gt; 1<br>  \end{array}<br>\right.<br>$$</p><p>$$<br>\Join <br> x  1 b  1<br> x  1 d  2  x  2 <br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 2bin()</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">bin_recursion</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(bin_recursion(n // <span class="hljs-number">2</span>)) + <span class="hljs-built_in">str</span>(n % <span class="hljs-number">2</span>)<br><br><br><span class="hljs-built_in">print</span>(bin_recursion(<span class="hljs-number">8</span>))<br></code></pre></td></tr></table></figure></li><li><p>get_digits(n)nget_digits(12345) &#x3D;&#x3D;&gt; [1, 2, 3, 4, 5] </p><p>$$<br>b &#x3D; f(x) &#x3D; \left{ \begin{array}{lr}<br>[ ] &amp; : x &#x3D; 0 \ <br>[f( x &#x2F;&#x2F; 10) , x % 10 ]&amp; : x &gt; 0 <br>\end{array}\right.<br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># get_digits(n)nget_digits(12345) ==&gt; [1, 2, 3, 4, 5]</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_digits</span>(<span class="hljs-params">n</span>):<br>    result = []<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> []<br>    <span class="hljs-keyword">else</span>:<br>        result.extend(get_digits(n // <span class="hljs-number">10</span>))<br>        result.append(n % <span class="hljs-number">10</span>)<br>        <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-built_in">print</span>(get_digits(<span class="hljs-number">12342321421321</span>))<br></code></pre></td></tr></table></figure></li><li><p>   </p></li><li><p> </p><p>5424322210 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># 5424322210</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">age</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">10</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> age(n-<span class="hljs-number">1</span>) + <span class="hljs-number">2</span><br><br><br><span class="hljs-built_in">print</span>(age(<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure></li></ol><h1 id="025-"><a href="#025-" class="headerlink" title="025. "></a>025. </h1><h2 id="-20"><a href="#-20" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>Pythonkey-valueHASH</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">9</span>]: brand = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;C &#x27;</span>]<br><br>In [<span class="hljs-number">10</span>]: slogan = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;Just Do It&#x27;</span>, <span class="hljs-string">&#x27;Impossible is nothing&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br><br>In [<span class="hljs-number">11</span>]: <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;C &#x27;</span>, slogan[brand.index(<span class="hljs-string">&#x27;C &#x27;</span>)])<br>C  <br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">12</span>]: dict1 = &#123;<span class="hljs-string">&#x27;&#x27;</span>:<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>:<span class="hljs-string">&#x27;Just Do It&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>:<span class="hljs-string">&#x27;Impossible is nothing&#x27;</span>, <span class="hljs-string">&#x27;C &#x27;</span>:<span class="hljs-string">&#x27;&#x27;</span>&#125;<br><br>In [<span class="hljs-number">13</span>]: <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;C &#x27;</span>, dict1[<span class="hljs-string">&#x27;C &#x27;</span>])<br>C  <br><br>In [<span class="hljs-number">14</span>]: dict2 = &#123;<span class="hljs-number">1</span>:<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-number">2</span>:<span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-number">3</span>:<span class="hljs-string">&#x27;three&#x27;</span>&#125;<br><br>In [<span class="hljs-number">15</span>]: dict2<br>Out[<span class="hljs-number">15</span>]: &#123;<span class="hljs-number">1</span>: <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-number">2</span>: <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-number">3</span>: <span class="hljs-string">&#x27;three&#x27;</span>&#125;<br><br>In [<span class="hljs-number">16</span>]: dict2[<span class="hljs-number">2</span>]<br>Out[<span class="hljs-number">16</span>]: <span class="hljs-string">&#x27;two&#x27;</span><br><br>In [<span class="hljs-number">17</span>]: dict3 = &#123;&#125;<br><br>In [<span class="hljs-number">18</span>]: dict3<br>Out[<span class="hljs-number">18</span>]: &#123;&#125;<br></code></pre></td></tr></table></figure><ul><li><p>dict()  </p><blockquote><p>list(), tuple(), dict(), int(), float()</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">19</span>]: dict3 = <span class="hljs-built_in">dict</span>(((<span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-number">70</span>), (<span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-number">105</span>), (<span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-number">104</span>), (<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">67</span>)))<br><br>In [<span class="hljs-number">20</span>]: dict3<br>Out[<span class="hljs-number">20</span>]: &#123;<span class="hljs-string">&#x27;F&#x27;</span>: <span class="hljs-number">70</span>, <span class="hljs-string">&#x27;i&#x27;</span>: <span class="hljs-number">105</span>, <span class="hljs-string">&#x27;h&#x27;</span>: <span class="hljs-number">104</span>, <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-number">67</span>&#125;<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">25</span>]: dict4 = <span class="hljs-built_in">dict</span>(=<span class="hljs-string">&#x27;&#x27;</span>, =<span class="hljs-string">&#x27;Just Do It&#x27;</span>)<br><br>In [<span class="hljs-number">26</span>]: dict4<br>Out[<span class="hljs-number">26</span>]: &#123;<span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;Just Do It&#x27;</span>&#125;<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">29</span>]: dict4[<span class="hljs-string">&#x27;&#x27;</span>] = <span class="hljs-string">&#x27;Impossible is nothing&#x27;</span><br><br>In [<span class="hljs-number">30</span>]: dict4<br>Out[<span class="hljs-number">30</span>]: &#123;<span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;Just Do It&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;Impossible is nothing&#x27;</span>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><blockquote><p>clear()   fromkeys()  items()   pop()    setdefault() values()   </p><p>        copy()    get()    keys()    popitem()  update()</p></blockquote><h2 id="-18"><a href="#-18" class="headerlink" title=""></a></h2><h3 id="Quiz-18"><a href="#Quiz-18" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p>F: 70, C: 67, h: 104, i: 105, s: 115 C </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dict1 = <span class="hljs-built_in">dict</span>(F=<span class="hljs-number">70</span>, C=<span class="hljs-number">67</span>, h=<span class="hljs-number">104</span>, i=<span class="hljs-number">105</span>, s=<span class="hljs-number">115</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>dict1<br>&#123;<span class="hljs-string">&#x27;F&#x27;</span>: <span class="hljs-number">70</span>, <span class="hljs-string">&#x27;C&#x27;</span>: <span class="hljs-number">67</span>, <span class="hljs-string">&#x27;h&#x27;</span>: <span class="hljs-number">104</span>, <span class="hljs-string">&#x27;i&#x27;</span>: <span class="hljs-number">105</span>, <span class="hljs-string">&#x27;s&#x27;</span>: <span class="hljs-number">115</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>dict1[<span class="hljs-string">&#x27;C&#x27;</span>]<br><span class="hljs-number">67</span><br></code></pre></td></tr></table></figure></li><li><p>[]{}</p><p>    </p></li><li><p>T_T</p><p>(key)(value)</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-built_in">dict</span>(one=<span class="hljs-number">1</span>,two=<span class="hljs-number">2</span>,three=<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = &#123;<span class="hljs-string">&#x27;one&#x27;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;two&#x27;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;three&#x27;</span>:<span class="hljs-number">3</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>c = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>([<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-string">&#x27;three&#x27;</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]))<br><span class="hljs-meta">&gt;&gt;&gt; </span>d = <span class="hljs-built_in">dict</span>([(<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-number">2</span>),(<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-number">1</span>),(<span class="hljs-string">&#x27;three&#x27;</span>,<span class="hljs-number">3</span>)])<br><span class="hljs-meta">&gt;&gt;&gt; </span>e = <span class="hljs-built_in">dict</span>(&#123;<span class="hljs-string">&#x27;three&#x27;</span>:<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;one&#x27;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;two&#x27;</span>:<span class="hljs-number">2</span>&#125;)<br></code></pre></td></tr></table></figure><p>A: </p><p>B: </p><p>C: zip dict </p><p>D: dict </p><p>E: dict </p></li><li><p></p><p><img src="https://img-blog.csdnimg.cn/20190427184131580.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0ODk1OTI3,size_16,color_FFFFFF,t_70" alt=""></p><p><code>data.split(&#39;,&#39;)</code></p></li></ol><h3 id="Practice-15"><a href="#Practice-15" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p><img src="https://img-blog.csdnimg.cn/2019042718425940.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0ODk1OTI3,size_16,color_FFFFFF,t_70" alt=""></p></li></ol><p><strong>Version-1</strong>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><br>address_book = &#123;<span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;020-88974563&#x27;</span>, <span class="hljs-string">&#x27;Felix&#x27;</span>: <span class="hljs-string">&#x27;025-52680000&#x27;</span>&#125;<br>welcome_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">|--- ---|</span><br><span class="hljs-string">|--- 1 ---|</span><br><span class="hljs-string">|--- 2 ---|</span><br><span class="hljs-string">|--- 3 ---|</span><br><span class="hljs-string">|--- 4 ---|</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>bye_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">|--- ---|</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ad_search</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> address_book.keys():<br>        <span class="hljs-built_in">print</span>(address_book[name])<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ad_insert</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> address_book.keys():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; ---&gt;&gt; %s : %s&#x27;</span> %(name, address_book[name]))<br>        edit_check = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;YES/NO&#x27;</span>)<br>        <span class="hljs-keyword">if</span> edit_check == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>            address_book[name] = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        phone = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        address_book[name] = phone<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ad_delete</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> address_book.keys():<br>        del_check = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;: %sYES/NO&#x27;</span> % name)<br>        <span class="hljs-keyword">if</span> del_check == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>            <span class="hljs-keyword">del</span> address_book[name]<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">address</span>():<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(welcome_msg)<br>        code = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>        <span class="hljs-keyword">if</span> code == <span class="hljs-number">2</span>:<br>            ad_insert()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-number">1</span>:<br>            ad_search()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-number">3</span>:<br>            ad_delete()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-number">4</span>:<br>            <span class="hljs-built_in">print</span>(bye_msg)<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    address()<br><br></code></pre></td></tr></table></figure><p><strong>Version-2</strong>:  dict.pop() , dict.setdefault() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><br>address_book = &#123;<span class="hljs-string">&#x27;&#x27;</span>: <span class="hljs-string">&#x27;020-88974563&#x27;</span>, <span class="hljs-string">&#x27;Felix&#x27;</span>: <span class="hljs-string">&#x27;025-52680000&#x27;</span>&#125;<br>welcome_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">|--- ---|</span><br><span class="hljs-string">|--- 1 ---|</span><br><span class="hljs-string">|--- 2 ---|</span><br><span class="hljs-string">|--- 3 ---|</span><br><span class="hljs-string">|--- 4 ---|</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>bye_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">|--- ---|</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ad_search</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> address_book.keys():<br>        <span class="hljs-built_in">print</span>(address_book[name])<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ad_insert</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> address_book.keys():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; ---&gt;&gt; %s : %s&#x27;</span> %(name, address_book[name]))<br>        edit_check = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;YES/NO&#x27;</span>)<br>        <span class="hljs-keyword">if</span> edit_check == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>            address_book[name] = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># phone = input(&#x27;&#x27;)</span><br>        <span class="hljs-comment"># address_book[name] = phone</span><br>        address_book.setdefault(name, <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ad_delete</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> address_book.keys():<br>        del_check = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;: %sYES/NO&#x27;</span> % name)<br>        <span class="hljs-keyword">if</span> del_check == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>            address_book.pop(name)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">address</span>():<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(welcome_msg)<br>        code = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>        <span class="hljs-keyword">if</span> code == <span class="hljs-number">2</span>:<br>            ad_insert()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-number">1</span>:<br>            ad_search()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-number">3</span>:<br>            ad_delete()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-number">4</span>:<br>            <span class="hljs-built_in">print</span>(bye_msg)<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    address()<br></code></pre></td></tr></table></figure><h1 id="026-2"><a href="#026-2" class="headerlink" title="026. 2"></a>026. 2</h1><h2 id="-21"><a href="#-21" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>fromkeys(): </p><blockquote><p><strong>fromkeys</strong>(iterable, value&#x3D;None, &#x2F;) method of builtins.type instance;  Create a new dictionary with keys from iterable and values set to value.</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dict1 = &#123;&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>dict1.fromkeys((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-literal">None</span>, <span class="hljs-number">2</span>: <span class="hljs-literal">None</span>, <span class="hljs-number">3</span>: <span class="hljs-literal">None</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>dict1.fromkeys((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), <span class="hljs-string">&#x27;number&#x27;</span>)<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-number">2</span>: <span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-number">3</span>: <span class="hljs-string">&#x27;number&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>13 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dict1.fromkeys((<span class="hljs-number">1</span>, <span class="hljs-number">3</span>), <span class="hljs-string">&#x27;&#x27;</span>)<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br></code></pre></td></tr></table></figure></li><li><p>keys(), values(), items()</p></li><li><p>get(),  in&#x2F;not in </p><ul><li><p>get() : </p><blockquote><p><strong>get</strong>(self, key, default&#x3D;None, &#x2F;)  Return the value for key if key is in the dictionary, else default.</p></blockquote></li></ul></li><li><p>clear(),  del dict(key&#x3D;){} </p></li><li><p>copy(), </p></li><li><p>&#x2F;pop()</p></li><li><p>&#x2F; - popitem()</p></li><li><p>setdefault() get() setdefault </p></li><li><p>update(), extend()</p></li></ul><h2 id="-19"><a href="#-19" class="headerlink" title=""></a></h2><h3 id="Quiz-19"><a href="#Quiz-19" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>PythonKeyValue</p><p></p></li><li><p>Key</p><p>key and value</p></li><li><p>innot inKey</p><p>Key </p></li><li><p>PythonKeyValue</p><p></p></li><li><p>dict1</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">dict1.fromkeys((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>))</span><br> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">dict1.fromkeys((<span class="hljs-number">1</span>, <span class="hljs-number">3</span>), <span class="hljs-string">&#x27;&#x27;</span>)</span><br></code></pre></td></tr></table></figure><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-number">1</span>:(&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;) <span class="hljs-number">2</span>:(&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;) <span class="hljs-number">3</span>:(&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;) <br>(<span class="hljs-number">1</span>:&#x27;&#x27;, <span class="hljs-number">3</span>:&#x27;&#x27; )<br></code></pre></td></tr></table></figure></li><li><p>dict1 &#x3D; {1: one, 2: two, 3: three}dict2</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">dict2</span> <span class="hljs-operator">=</span> dict1.copy()<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-16"><a href="#Practice-16" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly94eHguaWxvdmVmaXNoYy5jb20vZm9ydW0vMjAxNDAzLzI0LzE5MDIwMjdrZDcyNTZoNnh5Nzc1ZGQucG5n?x-oss-process=image/format,png" alt="img" style="zoom:100%;" /></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br>log_user = &#123;&#125;<br><br>welcome_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">|---N/n---|</span><br><span class="hljs-string">|---E/e---|</span><br><span class="hljs-string">|---Q/q---|</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br>register_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br>logon_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">xxoox</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br>quit_msg = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">logon</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">while</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> log_user.keys():<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    passwd = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    count = <span class="hljs-number">3</span><br>    <span class="hljs-keyword">while</span> log_user[name] != passwd:<br>        count -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> count &gt; <span class="hljs-number">0</span>:<br>            passwd = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;3&#x27;</span>)<br>            <span class="hljs-keyword">break</span><br>    <span class="hljs-built_in">print</span>(logon_msg)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create</span>():<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">while</span> name <span class="hljs-keyword">in</span> log_user.keys():<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    log_user.setdefault(name, <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(register_msg)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">logon_main</span>():<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(welcome_msg, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>        code = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;|---&#x27;</span>)<br><br>        <span class="hljs-keyword">if</span> code == <span class="hljs-string">&#x27;N&#x27;</span> <span class="hljs-keyword">or</span> code == <span class="hljs-string">&#x27;n&#x27;</span>:<br>            create()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-string">&#x27;E&#x27;</span> <span class="hljs-keyword">or</span> code == <span class="hljs-string">&#x27;e&#x27;</span>:<br>            logon()<br>        <span class="hljs-keyword">elif</span> code == <span class="hljs-string">&#x27;Q&#x27;</span> <span class="hljs-keyword">or</span> code == <span class="hljs-string">&#x27;q&#x27;</span>:<br>            <span class="hljs-built_in">print</span>(quit_msg)<br>            <span class="hljs-keyword">break</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    logon_main()<br><br><br></code></pre></td></tr></table></figure><h1 id="027-"><a href="#027-" class="headerlink" title="027. "></a>027. </h1><h2 id="-22"><a href="#-22" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>,  type &#x3D; set, </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">num = &#123;&#125;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(num)</span><br>&lt;class &#x27;dict&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">num2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(num2)</span><br>&lt;class &#x27;set&#x27;&gt;<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">num2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>&#125;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">num2</span><br>&#123;1, 2, 3, 4, 5&#125;<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vim">&gt;&gt;&gt; num2[<span class="hljs-number">2</span>]<br>Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1</span>, in <span class="hljs-symbol">&lt;module&gt;</span><br>TypeError: <span class="hljs-string">&#x27;set&#x27;</span> object <span class="hljs-keyword">is</span> not subscriptable<br></code></pre></td></tr></table></figure></li><li><p></p><ul><li><p></p></li><li><p>set() ,  </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">set1 = <span class="hljs-built_in">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>])</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">set1</span><br>&#123;1, 2, 3, 4, 5&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><p>  [0, 1, 2, 3, 4, 5, 5, 3, 1]</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1 = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(list1))</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2</span><br>[0, 1, 2, 3, 4, 5]<br></code></pre></td></tr></table></figure><p>set </p></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>add()</li><li>remove()</li></ul><h3 id="Frozenset"><a href="#Frozenset" class="headerlink" title="Frozenset"></a>Frozenset</h3><ul><li><p> frozenset()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>num3 = <span class="hljs-built_in">frozenset</span>([<span class="hljs-number">1</span>, <span class="hljs-number">23</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>])<br><span class="hljs-meta">&gt;&gt;&gt; </span>num3<br><span class="hljs-built_in">frozenset</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">23</span>&#125;)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>num3.add(<span class="hljs-number">0</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: <span class="hljs-string">&#x27;frozenset&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;add&#x27;</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="-20"><a href="#-20" class="headerlink" title=""></a></h2><h3 id="Quiz-20"><a href="#Quiz-20" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p></p><p>frozenset()</p></li><li><p></p><p>len() </p></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">num_set = <span class="hljs-built_in">set</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])</span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">num_set[<span class="hljs-number">0</span>]</span><br></code></pre></td></tr></table></figure><p></p></li><li><p>set1 &#x3D; {[1,2]}set1 &#x3D; set([1,2])</p><p></p></li><li><p>IDLEset1 &#x3D;{1,1.0},</p><p>{1}</p></li><li><p></p><p>add(), remove()</p></li></ol><h3 id="Practice-17"><a href="#Practice-17" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p><img src="https://www.pianshen.com/images/918/769b9a085dba5f8b204a3f5abb4b2976.png" alt="image.png"></p></li></ol><h1 id="028-"><a href="#028-" class="headerlink" title="028. "></a>028. </h1><h2 id="-23"><a href="#-23" class="headerlink" title=""></a></h2><ul><li><p>  </p></li><li><p>.exe, .txt, .ppt, .jpg, .mp4, .avi</p></li><li><p></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>r</td><td></td></tr><tr><td>w</td><td></td></tr><tr><td>x</td><td></td></tr><tr><td>a</td><td></td></tr><tr><td>b</td><td></td></tr><tr><td>t</td><td></td></tr><tr><td>+</td><td></td></tr><tr><td>U</td><td></td></tr></tbody></table></li><li><p></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>f.close()</td><td></td></tr><tr><td>f.read([size&#x3D;-1])</td><td>sizesize</td></tr><tr><td>f.readline([size&#x3D;-1])</td><td>sizesize</td></tr><tr><td>f.write(str)</td><td>str</td></tr><tr><td>f.writelines(seq)</td><td>seqseq</td></tr><tr><td>f.seek(offset, from)</td><td>from012offset</td></tr><tr><td>f.tell()</td><td></td></tr><tr><td>f.truncate([size&#x3D;file.tell()])</td><td>size</td></tr><tr><td>f.readlines()</td><td>readlines()(list)</td></tr></tbody></table><ul><li><p>f.read() sizef.read()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;record.txt&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>f.read()<br><span class="hljs-string">&#x27;:?,??\n:???\n:!\n:\n:&quot;!~\n:~\n:!!!\n==========================================================\n:,\n:?\n:&quot;:,~~\n:&quot;,,,?soeasy^...^&quot;\n:T_T\n======================================?,?\n:??\n:12k!?!\n:?\n:\n:,?\n:\n::!!!\n&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>f.read()<br><span class="hljs-string">&#x27;&#x27;</span><br><br></code></pre></td></tr></table></figure></li><li><p>f.tell() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;record.txt&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>f.read(<span class="hljs-number">5</span>)<br><span class="hljs-string">&#x27;:&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>f.tell()<br><span class="hljs-number">13</span><br><br></code></pre></td></tr></table></figure><p> record.txt utf-8 3gbk2</p></li><li><p>f.seek(offset, from) ; f.readline() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>f.seek(<span class="hljs-number">46</span>,<span class="hljs-number">0</span>)<br><span class="hljs-number">46</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>f.readline()<br><span class="hljs-string">&#x27;?\n&#x27;</span><br><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs lua">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;record.txt&#x27;</span>)<br><span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f:<br>    <span class="hljs-built_in">print</span>(each_line, <span class="hljs-keyword">end</span>=<span class="hljs-string">&#x27;&#x27;</span>)<br>f.<span class="hljs-built_in">close</span>()<br></code></pre></td></tr></table></figure></li><li><p>f.write(str), f.writelines(seq, list), </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">f.write(<span class="hljs-string">&#x27;I love fishc&#x27;</span>)</span><br>12<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">f.close()</span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1 = [<span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;live&#x27;</span>, <span class="hljs-string">&#x27;fishc&#x27;</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1</span><br>[&#x27;I&#x27;, &#x27;live&#x27;, &#x27;fishc&#x27;]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">f.writelines(list1)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">f.close()</span><br><br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-21"><a href="#-21" class="headerlink" title=""></a></h2><h3 id="Quiz-21"><a href="#Quiz-21" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">f</span> = open(<span class="hljs-string">&#x27;E:/test.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>)  <span class="hljs-comment">#A</span><br><span class="hljs-attr">f</span> = open(<span class="hljs-string">&#x27;E:\test.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>)  <span class="hljs-comment">#B</span><br><span class="hljs-attr">f</span> = open(<span class="hljs-string">&#x27;E://test.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-comment">#C</span><br><span class="hljs-attr">f</span> = open(<span class="hljs-string">&#x27;E:\\test.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-comment">#D</span><br></code></pre></td></tr></table></figure></li></ol><p><em><strong>B</strong></em> Windows&#x2F;\<a href="https://so.csdn.net/so/search?q=%E5%88%86%E9%9A%94%E7%AC%A6&spm=1001.2101.3001.7020"></a>\Python\n\t</p><ol start="2"><li><p>open()</p><p>rt</p></li><li><p>&gt;&gt;&gt;open(E:\Test.bin,xb)</p><p>E:\Test.bin<br>xwxw<br>ww</p></li><li><p>pythonf.close()</p><p>PythonPython<br>Python</p></li><li><p>(f)</p><p>list(f)</p></li><li><p>(f)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f:<br>  <span class="hljs-built_in">print</span>(each_line)<br></code></pre></td></tr></table></figure></li><li><p>f.read([size&#x3D;-1])sizesize&#x3D;10f.read(10),</p><p>10</p></li><li><p>(f)</p><p><code>f.tell()</code></p></li><li><p>(record.txt),f.seek(45,0)f.seek(46)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; f.seek(46)</span><br>46<br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; f.readline()</span><br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">Traceback (most recent call last):</span><br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">File <span class="hljs-string">&quot;&lt;pyshell#18&gt;&quot;</span>, line 1, <span class="hljs-keyword">in</span> &lt;module&gt;</span><br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">f.readline()</span><br><br></code></pre></td></tr></table></figure><p>f.seek()record.txtGBKf.seek(45)f.seek(46)GBK</p></li></ol><h3 id="Practice-18"><a href="#Practice-18" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>(OpenMe.mp3)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;OpenMe.mp3&#x27;</span>)<br><span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f:<br>    <span class="hljs-built_in">print</span>(each_line, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>f.close()<br></code></pre></td></tr></table></figure></li><li><p>OpenMe.mp3OpenMe.txt</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">f1 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;OpenMe.mp3&#x27;</span>)<br>f2 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;OpenMe.txt&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>) <span class="hljs-comment"># &#x27;x&#x27;w</span><br><br>f2.write(f1.read())<br><br>f1.close()<br>f2.close()<br></code></pre></td></tr></table></figure></li></ol><h1 id="029-"><a href="#029-" class="headerlink" title="029. "></a>029. </h1><h2 id="-24"><a href="#-24" class="headerlink" title=""></a></h2><blockquote><p>(record.txt)<br> 1.boy_*.txt(:)<br> 2.girl_*.txt(:)<br> 3.boy_1.txtboy_2.txtboy_3.txtgilr_1.txtgilr_2.txtgilr_3.txt<br>   6(&#x3D;&#x3D;&#x3D;&#x3D;)</p></blockquote><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># (record.txt)</span><br><span class="hljs-comment">#  1.boy_*.txt(&quot;:&quot;)</span><br><span class="hljs-comment">#  2.girl_*.txt(&quot;:&quot;)</span><br><span class="hljs-comment">#  3.boy_1.txtboy_2.txtboy_3.txtgilr_1.txtgilr_2.txtgilr_3.txt</span><br><span class="hljs-comment">#    6(&quot;====&quot;)</span><br><br><br>f1 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;../28/record.txt&#x27;</span>, <span class="hljs-string">&#x27;rt&#x27;</span>)<br>count = <span class="hljs-number">1</span><br><br>boy_list = []<br>girl_list = []<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_file</span>(<span class="hljs-params">file_name, file_list</span>):<br>    f_file_name = <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;x&#x27;</span>)<br>    f_file_name.writelines(file_list)<br>    f_file_name.close()<br><br><br><span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f1:<br>    temp_list = each_line.split(<span class="hljs-string">&#x27;:&#x27;</span>)<br>    <span class="hljs-keyword">if</span> temp_list[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;&#x27;</span>:<br>        boy_list.append(temp_list[<span class="hljs-number">1</span>])<br>    <span class="hljs-keyword">elif</span> temp_list[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;&#x27;</span>:<br>        girl_list.append(temp_list[<span class="hljs-number">1</span>])<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;====&quot;</span> <span class="hljs-keyword">in</span> each_line:<br>        file_name_boy = <span class="hljs-string">&#x27;boy_&#x27;</span> + <span class="hljs-built_in">str</span>(count) + <span class="hljs-string">&#x27;.txt&#x27;</span><br>        file_name_girl = <span class="hljs-string">&#x27;girl_&#x27;</span> + <span class="hljs-built_in">str</span>(count) + <span class="hljs-string">&#x27;.txt&#x27;</span><br><br>        generate_file(file_name_boy, boy_list)<br>        generate_file(file_name_girl, girl_list)<br><br>        boy_list = []<br>        girl_list = []<br>        count += <span class="hljs-number">1</span><br><br><span class="hljs-comment"># </span><br>file_name_boy = <span class="hljs-string">&#x27;boy_&#x27;</span> + <span class="hljs-built_in">str</span>(count) + <span class="hljs-string">&#x27;.txt&#x27;</span><br>file_name_girl = <span class="hljs-string">&#x27;girl_&#x27;</span> + <span class="hljs-built_in">str</span>(count) + <span class="hljs-string">&#x27;.txt&#x27;</span><br><br>generate_file(file_name_boy, boy_list)<br>generate_file(file_name_girl, girl_list)<br><br><br><span class="hljs-comment"># </span><br>f1.close()<br></code></pre></td></tr></table></figure><h2 id="-22"><a href="#-22" class="headerlink" title=""></a></h2><h3 id="Quiz-22"><a href="#Quiz-22" class="headerlink" title="Quiz"></a>Quiz</h3><h3 id="Practice-19"><a href="#Practice-19" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly94eHguaWxvdmVmaXNoYy5jb20vZm9ydW0vMjAxNDA0LzAyLzIxNDAwMmw4bXd3Y2I1MmY5ZjVxOWYucG5n?x-oss-process=image/format,png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><br>name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-comment"># lines = []</span><br>f = <span class="hljs-built_in">open</span>(name, <span class="hljs-string">&#x27;x&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\&#x27;:w\&#x27; :&#x27;</span>)<br><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-comment"># input</span><br>    content = <span class="hljs-built_in">input</span>()<br>    <span class="hljs-keyword">if</span> content != <span class="hljs-string">&#x27;:w&#x27;</span>:<br>        content += <span class="hljs-string">&#x27;\n&#x27;</span><br>        f.write(content)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">break</span><br>        f.close()<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br>name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>f = <span class="hljs-built_in">open</span>(name, <span class="hljs-string">&#x27;x&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\&#x27;:w\&#x27; :&#x27;</span>)<br><br><span class="hljs-comment"># iter input()</span><br>txt = <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">input</span>, <span class="hljs-string">&#x27;:w&#x27;</span>):<br>    txt += line + <span class="hljs-string">&#x27;\n&#x27;</span><br><br><br>f.write(txt)<br>f.close()<br></code></pre></td></tr></table></figure></li><li><p></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly94eHguaWxvdmVmaXNoYy5jb20vZm9ydW0vMjAxNDA0LzA2LzIyMjYxNWlrM2J5cnB4NmpyampiNGIucG5n?x-oss-process=image/format,png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br>name1 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>name2 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>name1_f = <span class="hljs-built_in">open</span>(name1, <span class="hljs-string">&#x27;rt&#x27;</span>)<br>name2_f = <span class="hljs-built_in">open</span>(name2, <span class="hljs-string">&#x27;rt&#x27;</span>)<br><br>name1_list = name1_f.readlines()<br>name2_list = name2_f.readlines()<br><br>name1_f.close()<br>name2_f.close()<br><br><br>diff_count = []<br>name1_len = <span class="hljs-built_in">len</span>(name1_list)<br>name2_len = <span class="hljs-built_in">len</span>(name2_list)<br><br><br><span class="hljs-keyword">if</span> name1_len &gt;= name2_len:<br>    file_min_len = name2_len<br><span class="hljs-keyword">else</span>:<br>    file_min_len = name1_len<br><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(file_min_len):<br>    <span class="hljs-keyword">if</span> name1_list[i] != name2_list[i]:<br>        diff_count.append(i)<br><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % <span class="hljs-built_in">len</span>(diff_count))<br><br><span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> diff_count:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % each)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">cp_file</span>(<span class="hljs-params">fname1, fname2</span>):<br>    name1_f = <span class="hljs-built_in">open</span>(fname1, <span class="hljs-string">&#x27;rt&#x27;</span>)<br>    name2_f = <span class="hljs-built_in">open</span>(fname2, <span class="hljs-string">&#x27;rt&#x27;</span>)<br><br>    diff_row = []<br>    count = <span class="hljs-number">0</span><br>    row_number = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> name1_f:<br>        <span class="hljs-keyword">if</span> each_line != name2_f.readline():<br>            count += <span class="hljs-number">1</span><br>            diff_row.append(row_number)<br>        row_number += <span class="hljs-number">1</span><br>    name2_f.close()<br>    name2_f.close()<br>    <span class="hljs-keyword">if</span> count == <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % count)<br>        <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> diff_row:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % each)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cp_main</span>():<br>    name1 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    name2 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    cp_file(name1, name2)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    cp_main()<br></code></pre></td></tr></table></figure></li><li><p>NN</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly94eHguaWxvdmVmaXNoYy5jb20vZm9ydW0vMjAxNDA0LzAyLzIxNTEzM3FzMml0dHRnMTFidnQwMTAucG5n?x-oss-process=image/format,png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># NN</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_file</span>(<span class="hljs-params">name, rows</span>):<br>    f_open = <span class="hljs-built_in">open</span>(name, <span class="hljs-string">&#x27;rt&#x27;</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">int</span>(rows)):<br>        <span class="hljs-built_in">print</span>(f_open.readline(), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    f_open.close()<br><br><br>f_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>f_rows = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s  %s &#x27;</span> % (f_name, f_rows))<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    show_file(f_name, f_rows)<br></code></pre></td></tr></table></figure></li><li><p>13:211321:212121:21</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly94eHguaWxvdmVmaXNoYy5jb20vZm9ydW0vMjAxNDA0LzAyLzIxNTMzMXhmMTg2amYzd21qcjVyeHoucG5n?x-oss-process=image/format,png" alt="img"></p></li></ol><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># 13:211321:212121:21</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_file</span>(<span class="hljs-params">name, rows</span>):<br>    f_open = <span class="hljs-built_in">open</span>(name, <span class="hljs-string">&#x27;rt&#x27;</span>)<br>    f_lines = f_open.readlines()<br><br>    start_s, end_s = rows.split(<span class="hljs-string">&#x27;:&#x27;</span>)<br>    <span class="hljs-keyword">if</span> start_s == <span class="hljs-string">&#x27;&#x27;</span>:<br>        row_start = <span class="hljs-number">0</span><br>        row_start_msg = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-keyword">else</span>:<br>        row_start = <span class="hljs-built_in">int</span>(start_s)-<span class="hljs-number">1</span><br>        row_start_msg = <span class="hljs-string">&#x27;&#x27;</span> + start_s + <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-keyword">if</span> end_s == <span class="hljs-string">&#x27;&#x27;</span>:<br>        row_end = <span class="hljs-built_in">len</span>(f_lines)<br>        row_end_msg = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-keyword">else</span>:<br>        row_end = <span class="hljs-built_in">int</span>(end_s)<br>        row_end_msg = <span class="hljs-string">&#x27;&#x27;</span> + end_s + <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s  %s  %s &#x27;</span> % (f_name, row_start_msg, row_end_msg))<br>    <span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(row_start, row_end):<br>        <span class="hljs-built_in">print</span>(f_lines[each_line], end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    f_open.close()<br><br><br>f_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>f_rows = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27; 1321  21  21&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    show_file(f_name, f_rows)<br></code></pre></td></tr></table></figure><ol start="5"><li><p></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly94eHguaWxvdmVmaXNoYy5jb20vZm9ydW0vMjAxNDA0LzAyLzIxNTM1NHZzNms4Nmw4bGZnMGw5cXEucG5n?x-oss-process=image/format,png" alt="img"></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">file_replace</span>(<span class="hljs-params">name, o_str, n_str</span>):<br>    f_read = <span class="hljs-built_in">open</span>(name, <span class="hljs-string">&#x27;rt&#x27;</span>)<br>    f_content = f_read.read()<br>    f_read.close()<br>    count = f_content.count(o_str)<br>    <span class="hljs-keyword">if</span> count == <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s  %d  %s&#x27;</span> %(name, count, o_str))<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s%s&#x27;</span> %(o_str, n_str))<br>        answer = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;[YES/NO]:&#x27;</span>)<br>        <span class="hljs-keyword">if</span> answer == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>            f_content = f_content.replace(o_str, n_str)<br>            f_write = <span class="hljs-built_in">open</span>(name, <span class="hljs-string">&#x27;w&#x27;</span>)<br>            f_write.write(f_content)<br>            f_write.close()<br><br><br>f_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>old_str = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>new_str = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    file_replace(f_name, old_str, new_str)<br></code></pre></td></tr></table></figure></li></ol><h1 id="030-"><a href="#030-" class="headerlink" title="030. "></a>030. </h1><h2 id="-25"><a href="#-25" class="headerlink" title=""></a></h2><ul><li><p>py</p><p>import <em>module</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>secret = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>NameError: name <span class="hljs-string">&#x27;random&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> random<br><span class="hljs-meta">&gt;&gt;&gt; </span>secret = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>secret<br><span class="hljs-number">4</span><br></code></pre></td></tr></table></figure></li><li><p>OS </p><blockquote><p>windowsMac OS Linux Unix</p></blockquote><blockquote><p>OS OS</p></blockquote><ul><li><strong>os&#x2F;</strong></li></ul><table><thead><tr><th><strong></strong></th><th><strong></strong></th></tr></thead><tbody><tr><td>getcwd()</td><td></td></tr><tr><td>chdir(path)</td><td></td></tr><tr><td>listdir(path&#x3D;.)</td><td>...</td></tr><tr><td>mkdir(path)</td><td></td></tr><tr><td>makedirs(path)</td><td>E:\a\bE:\a\c</td></tr><tr><td>remove(path)</td><td></td></tr><tr><td>rmdir(path)</td><td></td></tr><tr><td>removedirs(path)</td><td></td></tr><tr><td>rename(old, new)</td><td>oldnew</td></tr><tr><td>system(command)</td><td>shell</td></tr><tr><td>walk(top)</td><td>top(, [], [])30^_^</td></tr><tr><td><em></em></td><td></td></tr><tr><td>os.curdir</td><td>.</td></tr><tr><td>os.pardir</td><td>..</td></tr><tr><td>os.sep</td><td>Win\Linux&#x2F;</td></tr><tr><td>os.linesep</td><td>Win\r\nLinux\n</td></tr><tr><td>os.name</td><td>posix, nt, mac, os2, ce, java</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> os<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.getcwd()<br><span class="hljs-string">&#x27;/Users/felix&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.chdir(<span class="hljs-string">&#x27;/Users/felix/PycharmProjects/learningpython/30&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir(<span class="hljs-string">&#x27;.&#x27;</span>)<br>[]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.mkdir(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.mkdir(<span class="hljs-string">&#x27;B&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.mkdir(<span class="hljs-string">&#x27;./C/D&#x27;</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>FileNotFoundError: [Errno <span class="hljs-number">2</span>] No such file <span class="hljs-keyword">or</span> directory: <span class="hljs-string">&#x27;./C/D&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir(<span class="hljs-string">&#x27;.&#x27;</span>)<br>[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.makedirs(<span class="hljs-string">&#x27;./C/D&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir()<br>[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.remove<br>os.remove(      os.removedirs(  <br><span class="hljs-meta">&gt;&gt;&gt; </span>os.removedirs(<span class="hljs-string">&#x27;C&#x27;</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>  File <span class="hljs-string">&quot;/usr/local/Cellar/python@3.9/3.9.12_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/os.py&quot;</span>, line <span class="hljs-number">243</span>, <span class="hljs-keyword">in</span> removedirs<br>    rmdir(name)<br>OSError: [Errno <span class="hljs-number">66</span>] Directory <span class="hljs-keyword">not</span> empty: <span class="hljs-string">&#x27;C&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.removedirs(<span class="hljs-string">&#x27;./C/D&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir()<br>[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.rename(<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir()<br>[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.system(<span class="hljs-string">&#x27;ls -l&#x27;</span>)<br>total <span class="hljs-number">0</span><br>drwxr-xr-x  <span class="hljs-number">2</span> felix  staff  <span class="hljs-number">64</span> May <span class="hljs-number">24</span> 08:<span class="hljs-number">57</span> A<br>drwxr-xr-x  <span class="hljs-number">2</span> felix  staff  <span class="hljs-number">64</span> May <span class="hljs-number">24</span> 08:<span class="hljs-number">58</span> D<br><span class="hljs-number">0</span><br>  <br>  <br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir(os.curdir)<br>[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir(os.pardir)<br>[<span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-string">&#x27;04&#x27;</span>, <span class="hljs-string">&#x27;05&#x27;</span>, <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-string">&#x27;20&#x27;</span>, <span class="hljs-string">&#x27;18&#x27;</span>, <span class="hljs-string">&#x27;29&#x27;</span>, <span class="hljs-string">&#x27;16&#x27;</span>, <span class="hljs-string">&#x27;28&#x27;</span>, <span class="hljs-string">&#x27;17&#x27;</span>, <span class="hljs-string">&#x27;10&#x27;</span>, <span class="hljs-string">&#x27;19&#x27;</span>, <span class="hljs-string">&#x27;26&#x27;</span>, <span class="hljs-string">&#x27;test.py&#x27;</span>, <span class="hljs-string">&#x27;README.md&#x27;</span>, <span class="hljs-string">&#x27;09&#x27;</span>, <span class="hljs-string">&#x27;30&#x27;</span>, <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-string">&#x27;06&#x27;</span>, <span class="hljs-string">&#x27;.git&#x27;</span>, <span class="hljs-string">&#x27;24&#x27;</span>, <span class="hljs-string">&#x27;23&#x27;</span>, <span class="hljs-string">&#x27;15&#x27;</span>, <span class="hljs-string">&#x27;14&#x27;</span>, <span class="hljs-string">&#x27;22&#x27;</span>, <span class="hljs-string">&#x27;.idea&#x27;</span>, <span class="hljs-string">&#x27;25&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.listdir(os.pardir+ <span class="hljs-string">&#x27;/29&#x27;</span>)<br>[<span class="hljs-string">&#x27;05.py&#x27;</span>, <span class="hljs-string">&#x27;task.py&#x27;</span>, <span class="hljs-string">&#x27;example_2.py&#x27;</span>, <span class="hljs-string">&#x27;01_1.py&#x27;</span>, <span class="hljs-string">&#x27;04.py&#x27;</span>, <span class="hljs-string">&#x27;boy_1.txt&#x27;</span>, <span class="hljs-string">&#x27;boy_2.txt&#x27;</span>, <span class="hljs-string">&#x27;boy_3.txt&#x27;</span>, <span class="hljs-string">&#x27;03.py&#x27;</span>, <span class="hljs-string">&#x27;girl_1.txt&#x27;</span>, <span class="hljs-string">&#x27;02_1.py&#x27;</span>, <span class="hljs-string">&#x27;girl_2.txt&#x27;</span>, <span class="hljs-string">&#x27;p_02.py&#x27;</span>, <span class="hljs-string">&#x27;input_nonstop.py&#x27;</span>, <span class="hljs-string">&#x27;girl_3.txt&#x27;</span>]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.name<br><span class="hljs-string">&#x27;posix&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>OS.PATH </p><ul><li><strong>os.path</strong></li></ul><table><thead><tr><th><strong></strong></th><th><strong></strong></th></tr></thead><tbody><tr><td>basename(path)</td><td></td></tr><tr><td>dirname(path)</td><td></td></tr><tr><td>join(path1[, path2[, ]])</td><td>path1, path2</td></tr><tr><td>split(path)</td><td>(f_path, f_name)</td></tr><tr><td>splitext(path)</td><td>(f_name, f_extension)</td></tr><tr><td>getsize(file)</td><td></td></tr><tr><td>getatime(file)</td><td>timegmtime()localtime()</td></tr><tr><td>getctime(file)</td><td>timegmtime()localtime()</td></tr><tr><td>getmtime(file)</td><td>timegmtime()localtime()</td></tr><tr><td><em> True  False</em></td><td></td></tr><tr><td>exists(path)</td><td></td></tr><tr><td>isabs(path)</td><td></td></tr><tr><td>isdir(path)</td><td></td></tr><tr><td>isfile(path)</td><td></td></tr><tr><td>islink(path)</td><td></td></tr><tr><td>ismount(path)</td><td></td></tr><tr><td>samefile(path1, paht2)</td><td>path1path2</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> os.path<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.basename(os.curdir + <span class="hljs-string">&#x27;A/sexy.txt&#x27;</span>)<br><span class="hljs-string">&#x27;sexy.txt&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.dirname(os.curdir + <span class="hljs-string">&#x27;A/sexy.txt&#x27;</span>)<br><span class="hljs-string">&#x27;.A&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.join(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-string">&#x27;A/B/C&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.join(<span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-string">&#x27;./A/B/C&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.split(os.curdir + <span class="hljs-string">&#x27;A/sexy.txt&#x27;</span>)<br>(<span class="hljs-string">&#x27;.A&#x27;</span>, <span class="hljs-string">&#x27;sexy.txt&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.getsize(os.pardir+ <span class="hljs-string">&#x27;/29/05.py&#x27;</span>)<br><span class="hljs-number">926</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.getatime(os.pardir+ <span class="hljs-string">&#x27;/29/05.py&#x27;</span>)<br><span class="hljs-number">1653282351.295187</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.getmtime(os.pardir+ <span class="hljs-string">&#x27;/29/05.py&#x27;</span>)<br><span class="hljs-number">1653279681.7378166</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> time<br><span class="hljs-meta">&gt;&gt;&gt; </span>time.gmtime(os.path.getmtime(os.pardir+ <span class="hljs-string">&#x27;/29/05.py&#x27;</span>))<br>time.struct_time(tm_year=<span class="hljs-number">2022</span>, tm_mon=<span class="hljs-number">5</span>, tm_mday=<span class="hljs-number">23</span>, tm_hour=<span class="hljs-number">4</span>, tm_min=<span class="hljs-number">21</span>, tm_sec=<span class="hljs-number">21</span>, tm_wday=<span class="hljs-number">0</span>, tm_yday=<span class="hljs-number">143</span>, tm_isdst=<span class="hljs-number">0</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>time.localtime(os.path.getmtime(os.pardir+ <span class="hljs-string">&#x27;/29/05.py&#x27;</span>))<br>time.struct_time(tm_year=<span class="hljs-number">2022</span>, tm_mon=<span class="hljs-number">5</span>, tm_mday=<span class="hljs-number">23</span>, tm_hour=<span class="hljs-number">12</span>, tm_min=<span class="hljs-number">21</span>, tm_sec=<span class="hljs-number">21</span>, tm_wday=<span class="hljs-number">0</span>, tm_yday=<span class="hljs-number">143</span>, tm_isdst=<span class="hljs-number">0</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.exists(os.curdir + <span class="hljs-string">&#x27;/A/sexy.txt&#x27;</span>)<br><span class="hljs-literal">False</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.exists(os.curdir + <span class="hljs-string">&#x27;/A&#x27;</span>)<br><span class="hljs-literal">True</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.isabs(os.curdir + <span class="hljs-string">&#x27;/A&#x27;</span>)<br><span class="hljs-literal">False</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>os.path.isdir(os.curdir + <span class="hljs-string">&#x27;/A&#x27;</span>)<br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="-23"><a href="#-23" class="headerlink" title=""></a></h2><h3 id="Quiz-23"><a href="#Quiz-23" class="headerlink" title="Quiz"></a>Quiz</h3><h3 id="Practice-20"><a href="#Practice-20" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p><img src="https://img-blog.csdn.net/20180829233232993?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0NTQ2MTM3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_ext</span>(<span class="hljs-params">file_path</span>):<br>    ext_dic = &#123;&#125;<br>    count = <span class="hljs-number">0</span><br>    dir_elements = os.listdir(file_path)<br>    <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> dir_elements:<br>        ext = os.path.splitext(each)[<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">if</span> ext <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> ext_dic.keys():<br>            ext_dic.setdefault(ext, <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">else</span>:<br>            ext_dic[ext] += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> each_ext <span class="hljs-keyword">in</span> ext_dic.keys():<br>        <span class="hljs-keyword">if</span> each_ext ==<span class="hljs-string">&#x27;&#x27;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s  %d &#x27;</span> % (file_path, ext_dic[each_ext]))<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %s  [ %s ]  %d &#x27;</span> % (file_path, each_ext, ext_dic[each_ext]))<br><br><br>count_ext(os.path.curdir)<br></code></pre></td></tr></table></figure></li><li><p></p><p><img src="https://img-blog.csdn.net/20180829233243506?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0NTQ2MTM3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">file_size</span>(<span class="hljs-params">f_path</span>):<br>    os.chdir(f_path)<br>    file_list = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: os.path.isfile(x), os.listdir(f_path)))<br>    <span class="hljs-keyword">for</span> each_file <span class="hljs-keyword">in</span> file_list:<br>        <span class="hljs-built_in">print</span>(each_file + <span class="hljs-string">&#x27;  %d Bytes &#x27;</span> % os.path.getsize(each_file))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    file_size(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input the path:&#x27;</span>))<br></code></pre></td></tr></table></figure></li><li><p></p><p><img src="https://img-blog.csdn.net/20180829233256964?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0NTQ2MTM3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">search_file</span>(<span class="hljs-params">path, file_name</span>):<br>    os.chdir(path)<br>    temp_folder_name = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: os.path.isdir(x), os.listdir(path)))<br>    temp_file_name = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: os.path.isfile(x), os.listdir(path)))<br>    <span class="hljs-keyword">if</span> file_name <span class="hljs-keyword">in</span> temp_file_name:<br>        <span class="hljs-built_in">print</span>(os.path.join(path, file_name))<br>    <span class="hljs-keyword">if</span> temp_folder_name:<br>        <span class="hljs-keyword">for</span> sub_folder_name <span class="hljs-keyword">in</span> temp_folder_name:<br>            search_file(os.path.join(path, sub_folder_name), file_name)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    search_file(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>), <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br></code></pre></td></tr></table></figure><p>os.walk() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">search_file</span>(<span class="hljs-params">path, file_name</span>):<br>    <span class="hljs-comment"># os.walk() for </span><br>    <span class="hljs-keyword">for</span> folder, sub_folders, sub_files <span class="hljs-keyword">in</span> os.walk(path): <br>        <span class="hljs-keyword">if</span> file_name <span class="hljs-keyword">in</span> sub_files:<br>            <span class="hljs-built_in">print</span>(os.path.join(folder, file_name))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    search_file(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>), <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br></code></pre></td></tr></table></figure></li><li><p>mp4rmvbavivedioList.txt</p><p><img src="https://img-blog.csdn.net/20180829233514332?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0NTQ2MTM3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p><img src="https://img-blog.csdn.net/20180829233329338?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0NTQ2MTM3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># mp4rmvbavi</span><br><span class="hljs-comment"># vedioList.txt</span><br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br>file_list = []<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">search_video</span>(<span class="hljs-params">path, format_list=[<span class="hljs-string">&#x27;.mp4&#x27;</span>, <span class="hljs-string">&#x27;.rmvb&#x27;</span>, <span class="hljs-string">&#x27;.avi&#x27;</span>]</span>):<br>    os.chdir(path)<br>    temp_folder = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: os.path.isdir(x), os.listdir(path)))<br>    temp_file = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: (os.path.isfile(x) <span class="hljs-keyword">and</span> os.path.splitext(x)[<span class="hljs-number">1</span>] <span class="hljs-keyword">in</span> format_list), os.listdir(path)))<br>    file_list.extend(os.path.join(path, each_file) <span class="hljs-keyword">for</span> each_file <span class="hljs-keyword">in</span> temp_file)<br>    <span class="hljs-keyword">if</span> temp_folder:<br>        <span class="hljs-keyword">for</span> sub_folder <span class="hljs-keyword">in</span> temp_folder:<br>            search_video(os.path.join(path, sub_folder))<br><br>    f_video_list = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;/Users/felix/PycharmProjects/learningpython/vedioList.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)<br>    <br>    <span class="hljs-comment"># f_video_list.writelines(file_list) </span><br>    <span class="hljs-comment"># f_video_list.writelines(file_list)</span><br>    <span class="hljs-keyword">for</span> each_file_path <span class="hljs-keyword">in</span> file_list:<br>        f_video_list.write(each_file_path)<br>        f_video_list.write(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>    f_video_list.close()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    search_video(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br></code></pre></td></tr></table></figure></li><li><p>.txt</p><p><img src="https://img-blog.csdn.net/20180829233344730?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0NTQ2MTM3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># .txt</span><br><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br><br><span class="hljs-comment"># txt </span><br>sub_full_txt = []<br>file_row_keyword = &#123;&#125;<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">search_keyword</span>(<span class="hljs-params">path, keyword</span>):<br>    <span class="hljs-keyword">for</span> folder, sub_folders, sub_files <span class="hljs-keyword">in</span> os.walk(path):<br>        <span class="hljs-comment"># txt </span><br>        sub_files_txt = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: os.path.splitext(x)[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;.txt&#x27;</span>, sub_files))<br>        <span class="hljs-comment"># txt </span><br>        sub_full_txt.extend(os.path.join(folder, each_file) <span class="hljs-keyword">for</span> each_file <span class="hljs-keyword">in</span> sub_files_txt)<br><br>    <span class="hljs-keyword">for</span> file_name <span class="hljs-keyword">in</span> sub_full_txt:<br>        f_open = <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        f_lines = f_open.readlines()<br>        f_open.close()<br><br>        <span class="hljs-comment"># </span><br>        row_keyword = &#123;&#125;<br><br>        <span class="hljs-keyword">for</span> row_number <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(f_lines)):<br>            f_keyword_index = []<br>            start_flag = <span class="hljs-number">0</span><br>            f_keyword_number = f_lines[row_number].find(keyword, start_flag)<br><br>            <span class="hljs-keyword">while</span> f_keyword_number &gt;= <span class="hljs-number">0</span>:<br>                f_keyword_index.append(f_keyword_number)<br>                start_flag = f_keyword_number + <span class="hljs-number">1</span><br>                f_keyword_number = f_lines[row_number].find(keyword, start_flag)<br>                <span class="hljs-keyword">if</span> f_keyword_number == -<span class="hljs-number">1</span>:<br>                    row_keyword.setdefault(row_number+<span class="hljs-number">1</span>, f_keyword_index)<br>                    <span class="hljs-keyword">if</span> file_name <span class="hljs-keyword">in</span> file_row_keyword.keys():<br>                        file_row_keyword[file_name] = row_keyword<br>                    <span class="hljs-keyword">else</span>:<br>                        file_row_keyword.setdefault(file_name, row_keyword)<br><br>    <span class="hljs-comment"># key=value=keyvalue </span><br>    <span class="hljs-comment"># &#123;</span><br>    <span class="hljs-comment">#   &#x27;C:/Users/felix_yang/PycharmProjects/learningpython\\28\\record.txt&#x27;: &#123;5: [16], 6: [4]&#125;,</span><br>    <span class="hljs-comment">#  &#x27;C:/Users/felix_yang/PycharmProjects/learningpython\\29\\boy_1.txt&#x27;: &#123;3: [0]&#125;,</span><br>    <span class="hljs-comment">#  &#x27;C:/Users/felix_yang/PycharmProjects/learningpython\\29\\boy_2.txt&#x27;: &#123;3: [0]&#125;,</span><br>    <span class="hljs-comment">#  &#x27;C:/Users/felix_yang/PycharmProjects/learningpython\\29\\girl_1.txt&#x27;: &#123;3: [12, 23], 7: [12, 23]&#125;</span><br>    <span class="hljs-comment"># &#125;</span><br><br>    <span class="hljs-keyword">return</span> file_row_keyword<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    filename = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    keyword = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    search_keyword(filename, keyword)<br>    <span class="hljs-keyword">for</span> file_key <span class="hljs-keyword">in</span> file_row_keyword.keys():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;============================================&#x27;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s%s&#x27;</span> % (file_key, keyword))<br>        <span class="hljs-keyword">for</span> rows <span class="hljs-keyword">in</span> file_row_keyword[file_key].keys():<br>            <span class="hljs-comment"># </span><br>            key_str = [<span class="hljs-built_in">str</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> file_row_keyword[file_key][rows]]<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d   %s  &#x27;</span> % (rows, <span class="hljs-string">&#x27;,&#x27;</span>.join(key_str)))<br><br></code></pre></td></tr></table></figure><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs tap"><br>C:/Users/felix_yang/PycharmProjects/learningpython<br><br>============================================<br>C:/Users/felix_yang/PycharmProjects/learningpython\28\record.txt<br><span class="hljs-number"> 1 </span> <span class="hljs-number"> 4 </span> <br><span class="hljs-number"> 2 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 4 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 6 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 8 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 10 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 13 </span> <span class="hljs-number"> 4 </span> <br><span class="hljs-number"> 14 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 15 </span> <span class="hljs-number"> 7 </span> <br><span class="hljs-number"> 16 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 17 </span> <span class="hljs-number"> 16 </span> <br><span class="hljs-number"> 19 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 21 </span> <span class="hljs-number"> 4 </span> <br><span class="hljs-number"> 22 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 24 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 26 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 28 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 30 </span> <span class="hljs-number"> 0 </span> <br>============================================<br>C:/Users/felix_yang/PycharmProjects/learningpython\29\girl_1.txt<br><span class="hljs-number"> 1 </span> <span class="hljs-number"> 0 </span> <br>============================================<br>C:/Users/felix_yang/PycharmProjects/learningpython\29\girl_2.txt<br><span class="hljs-number"> 1 </span> <span class="hljs-number"> 0 </span> <br><span class="hljs-number"> 2 </span> <span class="hljs-number"> 3 </span> <br><span class="hljs-number"> 3 </span> <span class="hljs-number"> 12 </span> <br>============================================<br>C:/Users/felix_yang/PycharmProjects/learningpython\29\girl_3.txt<br><span class="hljs-number"> 1 </span> <span class="hljs-number"> 0 </span> <br><br>Process finished with exit code 0<br><br></code></pre></td></tr></table></figure></li></ol><h1 id="031-"><a href="#031-" class="headerlink" title="031. "></a>031. </h1><h2 id="-26"><a href="#-26" class="headerlink" title=""></a></h2><h3 id="pickle-"><a href="#pickle-" class="headerlink" title="pickle "></a>pickle </h3><blockquote><p>read()readline()int()float()1,2,33.14Pythonpicklepickle</p></blockquote><ul><li><p>python  . <code>import pickle</code></p></li><li><p>pickling - pickle.dump(src_object, pickle_file_object)</p></li><li><p>unpickling - pickle.load(pickle_file_object)</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">import</span> pickle</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">my_list = [<span class="hljs-number">123</span>, <span class="hljs-number">1232</span>, <span class="hljs-string">&#x27;&#x27;</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">pickle_file = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;my_list.pkl&#x27;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">pickle.dump(my_list, pickle_file)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">pickle_file.close()</span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">pickle_file = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;my_list.pkl&#x27;</span>, <span class="hljs-string">&#x27;rb&#x27;</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">my_list2 = pickle.load(pickle_file)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">my_list2</span><br>[123, 1232, &#x27;&#x27;]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">pickle_file.close()</span><br></code></pre></td></tr></table></figure></li><li><p> pkl </p></li></ul><h2 id="-24"><a href="#-24" class="headerlink" title=""></a></h2><h3 id="Quiz-24"><a href="#Quiz-24" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>pickle</p><p>pickle</p></li><li><p>pickle</p><p>pickle.dump(src_object, pickle_file_object); wbopen</p></li><li><p>pickle</p><p>pickle.load(pickle_file_object); rbopen</p></li><li><p>pickle*.txt</p><p></p></li></ol><h3 id="Practice-21"><a href="#Practice-21" class="headerlink" title="Practice"></a>Practice</h3><ol><li>pickle record.txt (1.1 KB, : 3561) 29<br>        boy_*.txt:<br>        girl_*.txt:<br>        boy_1.txt, girl_1.txtboy_2.txt, girl_2.txt, boy_3.txt, gril_3.txt6&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># pickle record.txt (1.1 KB, : 3561) 29</span><br><span class="hljs-comment">#             boy_*.txt:</span><br><span class="hljs-comment">#             girl_*.txt:</span><br><span class="hljs-comment">#             boy_1.txt, girl_1.txtboy_2.txt, girl_2.txt, boy_3.txt, gril_3.txt6</span><br><span class="hljs-comment">#             ==========</span><br><br><br><span class="hljs-keyword">import</span> pickle<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract</span>(<span class="hljs-params">file_name</span>):<br>    count = <span class="hljs-number">0</span><br>    boy_list = []<br>    girl_list = []<br>    record_file = <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;r&#x27;</span>)<br>    <span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> record_file:<br>        temp_list = each_line.split(<span class="hljs-string">&#x27;:&#x27;</span>)<br>        <span class="hljs-keyword">if</span> temp_list[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;&#x27;</span>:<br>            boy_list.append(temp_list[<span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">elif</span> temp_list[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;&#x27;</span>:<br>            girl_list.append(temp_list[<span class="hljs-number">1</span>])<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;========&#x27;</span> <span class="hljs-keyword">in</span> each_line:<br>            count += <span class="hljs-number">1</span><br>            pickle_file_boy = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;boy_%d.txt&#x27;</span> % count, <span class="hljs-string">&#x27;wb&#x27;</span>)<br>            pickle_file_girl = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;girl_%d.txt&#x27;</span> % count, <span class="hljs-string">&#x27;wb&#x27;</span>)<br>            pickle.dump(boy_list, pickle_file_boy)<br>            pickle.dump(girl_list, pickle_file_girl)<br>            pickle_file_boy.close()<br>            pickle_file_girl.close()<br>            boy_list = []<br>            girl_list = []<br>    count += <span class="hljs-number">1</span><br>    pickle_file_boy = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;boy_%d.txt&#x27;</span> % count, <span class="hljs-string">&#x27;wb&#x27;</span>)<br>    pickle_file_girl = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;girl_%d.txt&#x27;</span> % count, <span class="hljs-string">&#x27;wb&#x27;</span>)<br>    pickle.dump(boy_list, pickle_file_boy)<br>    pickle.dump(girl_list, pickle_file_girl)<br>    pickle_file_boy.close()<br>    pickle_file_girl.close()<br><br>    record_file.close()<br><br><br>extract(<span class="hljs-string">&#x27;record.txt&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><h1 id="032-"><a href="#032-" class="headerlink" title="032. "></a>032. </h1><h2 id="-27"><a href="#-27" class="headerlink" title=""></a></h2><h3 id="Python-"><a href="#Python-" class="headerlink" title="Python "></a>Python </h3><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>AssertionError</td><td>assert</td></tr><tr><td>AttributeError</td><td></td></tr><tr><td>EOFError</td><td>EOFCtrl+d</td></tr><tr><td>FloatingPointError</td><td></td></tr><tr><td>GeneratorExit</td><td>generator.close()</td></tr><tr><td>ImportError</td><td></td></tr><tr><td>IndexError</td><td></td></tr><tr><td>KeyError</td><td></td></tr><tr><td>KeyboardInterrupt</td><td>Ctrl+c</td></tr><tr><td>MemoryError</td><td></td></tr><tr><td>NameError</td><td></td></tr><tr><td>NotImplementedError</td><td></td></tr><tr><td>OSError</td><td></td></tr><tr><td>OverflowError</td><td></td></tr><tr><td>ReferenceError</td><td>weak reference</td></tr><tr><td>RuntimeError</td><td></td></tr><tr><td>StopIteration</td><td></td></tr><tr><td>SyntaxError</td><td>Python</td></tr><tr><td>IndentationError</td><td></td></tr><tr><td>TabError</td><td>Tab</td></tr><tr><td>SystemError</td><td>Python</td></tr><tr><td>SystemExit</td><td>Python</td></tr><tr><td>TypeError</td><td></td></tr><tr><td>UnboundLocalError</td><td>NameError</td></tr><tr><td>UnicodeError</td><td>UnicodeValueError</td></tr><tr><td>UnicodeEncodeError</td><td>UnicodeUnicodeError</td></tr><tr><td>UnicodeDecodeError</td><td>UnicodeUnicodeError</td></tr><tr><td>UnicodeTranslateError</td><td>UnicodeUnicodeError</td></tr><tr><td>ValueError</td><td></td></tr><tr><td>ZeroDivisionError</td><td></td></tr></tbody></table><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li>AssertionError</li><li>AttributeError</li><li>IndexError</li><li>KeyError</li><li>NameError</li><li>SyntaxError</li><li>TypeError</li><li>ZeroDivisionError</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>mylist = [<span class="hljs-string">&#x27;&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(mylist) &gt; <span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>mylist.pop()<br><span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>mylist<br>[]<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(mylist) &gt; <span class="hljs-number">0</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AssertionError<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>mylist.fishc<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: <span class="hljs-string">&#x27;list&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;fishc&#x27;</span><br>    <br><span class="hljs-meta">&gt;&gt;&gt; </span>my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_list[<span class="hljs-number">3</span>]<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>IndexError: <span class="hljs-built_in">list</span> index out of <span class="hljs-built_in">range</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>my_dict = &#123;<span class="hljs-string">&#x27;one&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;two&#x27;</span>:<span class="hljs-number">2</span>&#125;<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_dict[<span class="hljs-string">&#x27;one&#x27;</span>]<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>my_dict[<span class="hljs-string">&#x27;four&#x27;</span>]<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>KeyError: <span class="hljs-string">&#x27;four&#x27;</span><br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_dict.get(<span class="hljs-string">&#x27;four&#x27;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>mylist1<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>NameError: name <span class="hljs-string">&#x27;mylist1&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br>    <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;I love FishC&#x27;</span><br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;I love FishC&#x27;</span><br>          ^<br>SyntaxError: Missing parentheses <span class="hljs-keyword">in</span> call to <span class="hljs-string">&#x27;print&#x27;</span>. Did you mean <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I love FishC&#x27;</span>)?<br>    <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span> + <span class="hljs-string">&#x27;1&#x27;</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: unsupported operand <span class="hljs-built_in">type</span>(s) <span class="hljs-keyword">for</span> +: <span class="hljs-string">&#x27;int&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-string">&#x27;str&#x27;</span><br>        <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span>/<span class="hljs-number">0</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>ZeroDivisionError: division by zero<br></code></pre></td></tr></table></figure><h2 id="-25"><a href="#-25" class="headerlink" title=""></a></h2><h3 id="Quiz-25"><a href="#Quiz-25" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p><a href="https://so.csdn.net/so/search?q=%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6&spm=1001.2101.3001.7020"></a></p><p>|</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>,,]<br></code></pre></td></tr></table></figure><p>SyntaxError</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(my_list[<span class="hljs-built_in">len</span>(my_list)])<br></code></pre></td></tr></table></figure><p>IndexError</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>my_list = [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_list.<span class="hljs-built_in">sorted</span>()<br></code></pre></td></tr></table></figure><p> list.sort()sorted() BIF AttributeError: list object has no attribute sorted </p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>my_dict = &#123;<span class="hljs-string">&#x27;host&#x27;</span>: <span class="hljs-string">&#x27;http://bbs.fishc.com&#x27;</span>, <span class="hljs-string">&#x27;port&#x27;</span>: <span class="hljs-string">&#x27;80&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(my_dict[<span class="hljs-string">&#x27;server&#x27;</span>])<br></code></pre></td></tr></table></figure><p>KeyError</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun</span>(<span class="hljs-params">x, y</span>):<br>        <span class="hljs-built_in">print</span>(x, y)<br><br>my_fun(x=<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>SyntaxError  my_fun(x&#x3D;1, y&#x3D;2)</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;C:\\test.txt&#x27;</span>, wb)<br>f.write(<span class="hljs-string">&#x27;I love FishC.com!\n&#x27;</span>)<br>f.close()<br></code></pre></td></tr></table></figure><p>NameError</p><p> open()  f &#x3D; open(C:\test.txt, wb) wb Python  NameError  f </p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun1</span>():<br>        x = <span class="hljs-number">5</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun2</span>():<br>                x *= x<br>                <span class="hljs-keyword">return</span> x<br>        <span class="hljs-keyword">return</span> my_fun2()<br><br>my_fun1()<br></code></pre></td></tr></table></figure><p> Python  x  x  x *&#x3D; x  x <br> Python3 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun1</span>():<br>        x = [<span class="hljs-number">5</span>]<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun2</span>():<br>                x[<span class="hljs-number">0</span>] *= x[<span class="hljs-number">0</span>]<br>                <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">return</span> my_fun2()<br><br>my_fun1()<br></code></pre></td></tr></table></figure><p> Python3  nonlocal</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun1</span>():<br>        x = <span class="hljs-number">5</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun2</span>():<br>                <span class="hljs-keyword">nonlocal</span> x<br>                x *= x<br>                <span class="hljs-keyword">return</span> x<br>        <span class="hljs-keyword">return</span> my_fun2()<br><br>my_fun1()<br></code></pre></td></tr></table></figure></li></ol><h1 id="033--2"><a href="#033--2" class="headerlink" title="033. -2"></a>033. -2</h1><h2 id="-28"><a href="#-28" class="headerlink" title=""></a></h2><ul><li><p>try-except   Try </p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs delphi"><span class="hljs-keyword">try</span>:<br><br><span class="hljs-keyword">except</span> Exceptions[<span class="hljs-keyword">as</span> reason]<br>exception<br></code></pre></td></tr></table></figure><p><strong>Example-1:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment"># OSError</span><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.txt&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(f.read())<br>    f.close()<br><span class="hljs-keyword">except</span> OSError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@&#x27;</span>)<br></code></pre></td></tr></table></figure><p>output:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">@ <br></code></pre></td></tr></table></figure><p><strong>Example-2:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment"># OSError</span><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.txt&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(f.read())<br>    f.close()<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@ \n&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br></code></pre></td></tr></table></figure><p>output:</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gams">@ <br>[Errno <span class="hljs-number">2</span>] <span class="hljs-keyword">No</span> such <span class="hljs-keyword">file</span> <span class="hljs-keyword">or</span> directory: <span class="hljs-string">&#x27;.txt&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>Example-3:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment">#TypeError</span><br>    sum_umber = <span class="hljs-number">1</span> + <span class="hljs-string">&#x27;1&#x27;</span><br>    <br>    <span class="hljs-comment"># OSError</span><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.txt&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(f.read())<br>    f.close()<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@ \n&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br><span class="hljs-keyword">except</span> TypeError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@ \n&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br></code></pre></td></tr></table></figure><p>output:</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">@ <br>unsupported operand <span class="hljs-keyword">type</span>(s) <span class="hljs-keyword">for</span> +: <span class="hljs-symbol">&#x27;int</span>&#x27; <span class="hljs-keyword">and</span> <span class="hljs-symbol">&#x27;str</span>&#x27;<br></code></pre></td></tr></table></figure><p><strong><code>sum_umber = 1 + &#39;1&#39;</code> <code>except TypeError as reason</code>, </strong></p><p><strong>Example-4:</strong> exceptcover;  <em><strong></strong></em> <code>ctrl+c</code>KeyboardInterrupt Error</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;abc&#x27;</span>)<br>    sum_umber = <span class="hljs-number">1</span> + <span class="hljs-string">&#x27;1&#x27;</span><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.txt&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(f.read())<br>    f.close()<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@&#x27;</span>)<br></code></pre></td></tr></table></figure><p> output:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">@<br></code></pre></td></tr></table></figure><p><strong>Example-5:</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    sum_umber = <span class="hljs-number">1</span> + <span class="hljs-string">&#x27;1&#x27;</span><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.txt&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(f.read())<br>    f.close()<br><span class="hljs-keyword">except</span> (OSError, TypeError):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@&#x27;</span>)<br></code></pre></td></tr></table></figure><p>output:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">@<br></code></pre></td></tr></table></figure></li><li><p>try-finally :  </p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs delphi"><span class="hljs-keyword">try</span>:<br><br><span class="hljs-keyword">except</span> Exceptions[<span class="hljs-keyword">as</span> reason]:<br>Exception<br><span class="hljs-keyword">finally</span>:<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)<br>    f.write(<span class="hljs-string">&#x27;&#x27;</span>)<br>    sum_umber = <span class="hljs-number">1</span> + <span class="hljs-string">&#x27;1&#x27;</span><br><br><span class="hljs-keyword">except</span> (OSError, TypeError):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>    f.close()<br></code></pre></td></tr></table></figure></li><li><p>raise </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span>/<span class="hljs-number">0</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>ZeroDivisionError: division by zero<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">raise</span> ZeroDivisionError<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>ZeroDivisionError<br></code></pre></td></tr></table></figure></li></ul><h2 id="-26"><a href="#-26" class="headerlink" title=""></a></h2><h3 id="Quiz-26"><a href="#Quiz-26" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p>try-except-finally</p></li><li><p> try  except </p><p>errortype except</p></li><li><p></p><p><code>except (OSError, TypeError):</code></p></li><li><p>except Python try </p><p><strong></strong>* <code>ctrl+c</code>KeyboardInterrupt Error</p></li><li><p>Python  except </p><p>finally   try  except  finally </p></li><li><p></p><p><img src="https://img-blog.csdnimg.cn/20200728115630241.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/20200728115633801.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>            <span class="hljs-keyword">if</span> i == <span class="hljs-number">2</span>:<br>                <span class="hljs-keyword">raise</span> KeyboardInterrupt<br>            <span class="hljs-built_in">print</span>(i, j)<br><span class="hljs-keyword">except</span> KeyboardInterrupt:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-22"><a href="#Practice-22" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p><a href="https://so.csdn.net/so/search?q=%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86&spm=1001.2101.3001.7020"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br>secret = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------C------------------&#x27;</span>)<br>temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br><span class="hljs-keyword">try</span>:<br>    guess = <span class="hljs-built_in">int</span>(temp)<br><span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@ \n %s&#x27;</span> % <span class="hljs-built_in">str</span>(reason))<br>    guess = secret<br><span class="hljs-keyword">while</span> guess != secret:<br>    temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br>    guess = <span class="hljs-built_in">int</span>(temp)<br>    <span class="hljs-keyword">if</span> guess == secret:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> guess &gt; secret:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;~~~&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;~~~&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;^_^&quot;</span>)<br></code></pre></td></tr></table></figure></li><li><p>input() EOFErrorendoffile Ctrl+d  KeyboardInterrupt Ctrl+c  input() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br>secret = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------C------------------&#x27;</span>)<br><span class="hljs-keyword">try</span>:<br>    temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br>    guess = <span class="hljs-built_in">int</span>(temp)<br><span class="hljs-keyword">except</span> (KeyboardInterrupt, EOFError) <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; \n %s&#x27;</span> % <span class="hljs-built_in">str</span>(reason))<br>    guess = secret<br><span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@ \n %s&#x27;</span> % <span class="hljs-built_in">str</span>(reason))<br>    guess = secret<br><br><span class="hljs-keyword">while</span> guess != secret:<br>    temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>)<br>    guess = <span class="hljs-built_in">int</span>(temp)<br>    <span class="hljs-keyword">if</span> guess == secret:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> guess &gt; secret:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;~~~&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;~~~&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;^_^&quot;</span>)<br></code></pre></td></tr></table></figure></li><li><p> int_input()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  int_input()</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">int_input</span>(<span class="hljs-params">msg=<span class="hljs-string">&#x27;&#x27;</span></span>):<br>    flag = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">try</span>:<br>        number = <span class="hljs-built_in">input</span>(msg)<br>        temp = <span class="hljs-built_in">int</span>(number)<br>    <span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> reason:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;@ \n %s&#x27;</span> % <span class="hljs-built_in">str</span>(reason))<br>        flag = <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">while</span> flag:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(temp, <span class="hljs-built_in">int</span>):<br>            <span class="hljs-keyword">return</span> temp<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            temp = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;error captured, please input again\n&#x27;</span>)<br><br><br><span class="hljs-built_in">print</span>(int_input())<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">int_input</span>(<span class="hljs-params">prompt=<span class="hljs-string">&#x27;&#x27;</span></span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(prompt))<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">except</span> ValueError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><br>int_input(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p> finally My_File.txt</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;My_File.txt&#x27;</span>) <span class="hljs-comment"># &quot;My_File.txt&quot;T_T</span><br>    <span class="hljs-built_in">print</span>(f.read())<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br><span class="hljs-keyword">finally</span>:<br>f.close()<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;My_File.txt&#x27;</span>)  <span class="hljs-comment"># &quot;My_File.txt&quot;T_T</span><br>    <span class="hljs-built_in">print</span>(f.read())<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;f&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">locals</span>():  <span class="hljs-comment"># </span><br>        f.close()<br></code></pre></td></tr></table></figure></li></ol><h1 id="034-elsewith"><a href="#034-elsewith" class="headerlink" title="034. elsewith"></a>034. elsewith</h1><h2 id="-29"><a href="#-29" class="headerlink" title=""></a></h2><h3 id="else"><a href="#else" class="headerlink" title="else"></a>else</h3><ul><li><p></p><ul><li>if-else</li></ul></li><li><p> </p><ul><li><p>for while </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">showMaxFactor</span>(<span class="hljs-params">number</span>):<br>    count = number // <span class="hljs-number">2</span><br>    <span class="hljs-keyword">while</span> count &gt; <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">if</span> number % count == <span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d  %d&#x27;</span> %(number, count))<br>            <span class="hljs-keyword">break</span><br>        count -= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d &#x27;</span> % number)<br><br><br>num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input a number:&#x27;</span>))<br>showMaxFactor(num)<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    a = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;input a number:&#x27;</span>))<br><span class="hljs-keyword">except</span> ValueError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(a)<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="with"><a href="#with" class="headerlink" title="with"></a>with</h3><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)<br>    <span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f:<br>        <span class="hljs-built_in">print</span>(each_line)<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br><span class="hljs-keyword">finally</span>:<br>    f.close()<br></code></pre></td></tr></table></figure><p>with </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f:<br>            <span class="hljs-built_in">print</span>(each_line)<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br></code></pre></td></tr></table></figure></li><li><p>with monitor <code>f.close()</code></p></li></ul><h2 id="-27"><a href="#-27" class="headerlink" title=""></a></h2><h3 id="Quiz-27"><a href="#Quiz-27" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p> Python else </p><p>if, while, for  try-except</p></li><li><p> break  else </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">showMaxFactor</span>(<span class="hljs-params">num</span>):<br>    count = num // <span class="hljs-number">2</span><br>    <span class="hljs-keyword">while</span> count &gt; <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">if</span> num % count == <span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d%d&#x27;</span> % (num, count))<br>            <span class="hljs-keyword">break</span><br>        count -= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % num)<br><br>num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>showMaxFactor(num)<br></code></pre></td></tr></table></figure><p> else while  for  else </p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ABC&#x27;</span>)<br><span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;DEF&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;GHI&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;JKL&#x27;</span>)<br><br></code></pre></td></tr></table></figure><p>ABC</p><p>GHI</p><p>JKL</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;data.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> each_line <span class="hljs-keyword">in</span> f:<br>            <span class="hljs-built_in">print</span>(each_line)<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + <span class="hljs-built_in">str</span>(reason))<br></code></pre></td></tr></table></figure><p>with</p></li><li><p> with </p><p>with g</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> A() <span class="hljs-keyword">as</span> a:<br>    <span class="hljs-keyword">with</span> B() <span class="hljs-keyword">as</span> b:<br>        suite<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> A() <span class="hljs-keyword">as</span> a, B() <span class="hljs-keyword">as</span> b:<br>    suite<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-23"><a href="#Practice-23" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> with  Python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">file_compare</span>(<span class="hljs-params">file1, file2</span>):<br>    f1 = <span class="hljs-built_in">open</span>(file1)<br>    f2 = <span class="hljs-built_in">open</span>(file2)<br>    count = <span class="hljs-number">0</span> <span class="hljs-comment"># </span><br>    differ = [] <span class="hljs-comment"># </span><br><br>    <span class="hljs-keyword">for</span> line1 <span class="hljs-keyword">in</span> f1:<br>        line2 = f2.readline()<br>        count += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> line1 != line2:<br>            differ.append(count)<br><br>    f1.close()<br>    f2.close()<br>    <span class="hljs-keyword">return</span> differ<br><br>file1 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>file2 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>differ = file_compare(file1, file2)<br><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(differ) == <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % <span class="hljs-built_in">len</span>(differ))<br>    <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> differ:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % each)<br></code></pre></td></tr></table></figure><p>with </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">file_compare</span>(<span class="hljs-params">file1, file2</span>):<br>    <span class="hljs-comment"># f1 = open(file1)</span><br>    <span class="hljs-comment"># f2 = open(file2)</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file1) <span class="hljs-keyword">as</span> f1, <span class="hljs-built_in">open</span>(file2) <span class="hljs-keyword">as</span> f2:<br>        count = <span class="hljs-number">0</span>  <span class="hljs-comment"># </span><br>        differ = []  <span class="hljs-comment"># </span><br>    <br>        <span class="hljs-keyword">for</span> line1 <span class="hljs-keyword">in</span> f1:<br>            line2 = f2.readline()<br>            count += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> line1 != line2:<br>                differ.append(count)<br>                <br>        <span class="hljs-keyword">return</span> differ<br><br><br>file1 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>file2 = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>differ = file_compare(file1, file2)<br><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(differ) == <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % <span class="hljs-built_in">len</span>(differ))<br>    <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> differ:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; %d &#x27;</span> % each)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|---  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 1  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 2  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 3  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 4  ---|&#x27;</span>)<br><br>contacts = <span class="hljs-built_in">dict</span>()<br><br><span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>    instr = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;\n&#x27;</span>))<br>    <br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">1</span>:<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> contacts:<br>            <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27; : &#x27;</span> + contacts[name])<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">2</span>:<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> contacts:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; --&gt;&gt; &#x27;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>            <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27; : &#x27;</span> + contacts[name])<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;YES/NO&#x27;</span>) == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>                contacts[name] = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            contacts[name] = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">3</span>:<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> contacts:<br>            <span class="hljs-keyword">del</span>(contacts[name])         <span class="hljs-comment"># dict.pop()</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>            <br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">4</span>:<br>        <span class="hljs-keyword">break</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|---  ---|&#x27;</span>)<br></code></pre></td></tr></table></figure><p> <code>if name in contacts</code> <code>print(name + &#39; : &#39; + contacts[name])</code></p><p> in  KeyError </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|---  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 1  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 2  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 3  ---|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|--- 4  ---|&#x27;</span>)<br><br>contacts = <span class="hljs-built_in">dict</span>()<br><br><span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>    instr = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;\n&#x27;</span>))<br><br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">1</span>:<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27; : &#x27;</span> + contacts[name])<br>        <span class="hljs-keyword">except</span> KeyError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">2</span>:<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; --&gt;&gt; &#x27;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>            <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&#x27; : &#x27;</span> + contacts[name])<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;YES/NO&#x27;</span>) == <span class="hljs-string">&#x27;YES&#x27;</span>:<br>                contacts[name] = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">except</span> KeyError:<br>            contacts[name] = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">3</span>:<br>        name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">del</span> (contacts[name])  <span class="hljs-comment"># dict.pop()</span><br>        <span class="hljs-keyword">except</span> KeyError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> instr == <span class="hljs-number">4</span>:<br>        <span class="hljs-keyword">break</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;|---  ---|&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><h1 id="035-EasyGui"><a href="#035-EasyGui" class="headerlink" title="035. EasyGui"></a>035. EasyGui</h1><h2 id="-30"><a href="#-30" class="headerlink" title=""></a></h2><ul><li><p><a href="http://easygui.sourceforge.net/"></a></p></li><li><p>easygui - 3 <code>import easygui as g</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> easygui<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>easygui.msgbox(<span class="hljs-string">&#x27;hi&#x27;</span>)<br><span class="hljs-string">&#x27;OK&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> easygui <span class="hljs-keyword">import</span> *<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>msgbox(<span class="hljs-string">&#x27;hi&#x27;</span>)<br><span class="hljs-string">&#x27;OK&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><span class="hljs-meta">&gt;&gt;&gt; </span>g.msgbox(<span class="hljs-string">&#x27;hi&#x27;</span>)<br><span class="hljs-string">&#x27;OK&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>easygui</p><ul><li><p>IDLEEasygui</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>    g.msgbox(<span class="hljs-string">&quot;&quot;</span>)<br>    msg = <span class="hljs-string">&quot;C&quot;</span><br>    title=<span class="hljs-string">&quot;&quot;</span><br>    choices=[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;OOXX&quot;</span>,<span class="hljs-string">&quot;&quot;</span>]<br>    choice=g.choicebox(msg,title,choices)<br><br>    <span class="hljs-comment">#note that we convert choice to string,in case</span><br>    <span class="hljs-comment">#the user cancelled the choice,and we got None</span><br>    g.msgbox(<span class="hljs-string">&quot;:&quot;</span>+<span class="hljs-built_in">str</span>(choice),<span class="hljs-string">&quot;&quot;</span>)<br>    msg=<span class="hljs-string">&quot;?&quot;</span><br>    title=<span class="hljs-string">&quot; &quot;</span><br>    <span class="hljs-keyword">if</span> g.ccbox(msg,title):  <span class="hljs-comment">#show a Contiue/Cancel dialog</span><br>        <span class="hljs-keyword">pass</span> <span class="hljs-comment">#user chose Contonue</span><br>    <span class="hljs-keyword">else</span>:<br>        sys.exit(<span class="hljs-number">0</span>)  <span class="hljs-comment">#user chose Cancel</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-"><a href="#-" class="headerlink" title=" - "></a> - </h2><ol start="0"><li><p> EasyGUI</p><p><a href="https://github.com/robertlugg/easygui">https://github.com/robertlugg/easygui</a></p><p> pip </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714172112548-1358634293.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714172112548-1358634293.png" alt="img"></a></p></li><li><p> EasyGUI</p><p>EasyGUI  Python  GUI  GUI  GUI </p><p>EasyGUI  GUI  tkinter lambda </p><p>EasyGUI  Python 2  3</p><p>EasyGUI  Tkinter  IDLE  Tkinter  EasyGUI  IDLE </p></li><li><p></p><p> EasyGui  GUI  EasyGui  Easy</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"> <span class="hljs-number">1</span> <span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br> <span class="hljs-number">2</span> <span class="hljs-keyword">import</span> sys<br> <span class="hljs-number">3</span> <br> <span class="hljs-number">4</span> <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br> <span class="hljs-number">5</span>         g.msgbox(<span class="hljs-string">&quot;^_^&quot;</span>)<br> <span class="hljs-number">6</span> <br> <span class="hljs-number">7</span>         msg =<span class="hljs-string">&quot;C&quot;</span><br> <span class="hljs-number">8</span>         title = <span class="hljs-string">&quot;&quot;</span><br> <span class="hljs-number">9</span>         choices = [<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;OOXX&quot;</span>, <span class="hljs-string">&quot;&quot;</span>]<br><span class="hljs-number">10</span>         <br><span class="hljs-number">11</span>         choice = g.choicebox(msg, title, choices)<br><span class="hljs-number">12</span> <br><span class="hljs-number">13</span>         <span class="hljs-comment"># msgbox</span><br><span class="hljs-number">14</span>         <span class="hljs-comment"># CancelNone</span><br><span class="hljs-number">15</span>         g.msgbox(<span class="hljs-string">&quot;: &quot;</span> + <span class="hljs-built_in">str</span>(choice), <span class="hljs-string">&quot;&quot;</span>)<br><span class="hljs-number">16</span> <br><span class="hljs-number">17</span>         msg = <span class="hljs-string">&quot;&quot;</span><br><span class="hljs-number">18</span>         title = <span class="hljs-string">&quot;&quot;</span><br><span class="hljs-number">19</span> <br><span class="hljs-number">20</span>         <span class="hljs-comment"># Continue/Cancel</span><br><span class="hljs-number">21</span>         <span class="hljs-keyword">if</span> g.ccbox(msg, title):<br><span class="hljs-number">22</span>                 <span class="hljs-keyword">pass</span>            <span class="hljs-comment"># Continue</span><br><span class="hljs-number">23</span>         <span class="hljs-keyword">else</span>:<br><span class="hljs-number">24</span>                 sys.exit(<span class="hljs-number">0</span>)     <span class="hljs-comment"># Cancel</span><br></code></pre></td></tr></table></figure></li><li><p>EasyGUI </p><p> EasyGUI  EasyGUI </p><p><code>python easygui.py</code></p><p> IDE IDLE, PythonWin, Wing, </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> easygui<br><span class="hljs-meta">&gt;&gt;&gt; </span>easygui.egdemo()<br></code></pre></td></tr></table></figure><p> EasyGUI </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714192216412-982535486.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714192216412-982535486.png" alt="img"></a></p></li><li><p> EasyGUI</p><p> EasyGUI </p><p></p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> easygui<br></code></pre></td></tr></table></figure><p> EasyGUI  easygui</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit">easygui.<span class="hljs-built_in">msgbox</span>(...)<br></code></pre></td></tr></table></figure><p> EasyGUI </p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">from</span> easygui <span class="hljs-keyword">import</span> *<br></code></pre></td></tr></table></figure><p> EasyGUI </p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">msgbox</span>(<span class="hljs-params">...</span>)</span><br></code></pre></td></tr></table></figure><p> import </p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br></code></pre></td></tr></table></figure><p> EasyGUI </p><p> EasyGUI </p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit">g.<span class="hljs-built_in">msgbox</span>(...)<br></code></pre></td></tr></table></figure></li><li><p> EasyGUI</p><p> EasyGUIGUI  EasyGUI </p><p> EasyGUI </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><br>g.msgbox(<span class="hljs-string">&quot;Hello, world!&quot;</span>)<br></code></pre></td></tr></table></figure><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714192630885-1374238834.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714192630885-1374238834.png" alt="img"></a></p></li><li><p>EasyGUI </p><p></p><p><br> EasyGUI </p><p></p><p> msgbox()  msgbox() </p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs isbl">&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-title">msgbox</span>(<span class="hljs-string">&#x27;hale^_^&#x27;</span>)</span><br></code></pre></td></tr></table></figure><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">msgbox(<span class="hljs-string">&#x27;hale^_^&#x27;</span>, <span class="hljs-string">&#x27;AG&#x27;</span>)</span><br></code></pre></td></tr></table></figure><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714193213861-730996074.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714193213861-730996074.png" alt="img"></a></p><p> Shall I continue?</p><p> ccbox() cancel </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> ccbox(): <br>        <span class="hljs-keyword">pass</span>         <span class="hljs-comment"># </span><br><span class="hljs-keyword">else</span>: <br>        <span class="hljs-keyword">return</span>      <span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p><strong>returnSyntaxError: return outside function</strong></p><p><strong><code>return</code><code>def</code><code>while</code><code>break</code><code>return</code></strong></p></li><li><p> EasyGUI </p><p> EasyGUI </p><p> choices </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">choices = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">reply = choicebox(<span class="hljs-string">&#x27;&#x27;</span>, choices = choices)</span><br></code></pre></td></tr></table></figure><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714194606615-944741941.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714194606615-944741941.png" alt="img"></a></p></li><li><p></p><p>EasyGUI  buttonbox() </p><p>8.1.msgbox()</p><p>msgbox(msg&#x3D;(Your message goes here), title&#x3D; , ok_button&#x3D;OK, image&#x3D;None, root&#x3D;None)</p><p>msgbox()  OK  OK </p><p> OK </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">msgbox(<span class="hljs-string">&quot;!&quot;</span>, ok_button=<span class="hljs-string">&quot;!&quot;</span>)</span><br></code></pre></td></tr></table></figure><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714194911513-2109612713.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714194911513-2109612713.png" alt="img"></a></p><p> 8.2.ccbox()</p><p>ccbox(msg&#x3D;Shall I continue?, title&#x3D; , choices&#x3D;(C[o]ntinue, C[a]ncel), image&#x3D;None, default_choice&#x3D;C[o]ntinue, cancel_choice&#x3D;C[a]ncel)</p><p>ccbox() C[o]ntinue  C[a]ncel True  False</p><p>C[o]ntinue  [o]  o  C[o]ntinue </p><p>8.3.ynbox()</p><p>ynbox(msg&#x3D;Shall I continue?, title&#x3D; , choices&#x3D;([<F1>]Yes, [<F2>]No), image&#x3D;None, default_choice&#x3D;[<F1>]Yes, cancel_choice&#x3D;[<F2>]No)</p><p> ccbox()  choices [<F1>]  F1  Yes </p><p>8.4.buttonbox()</p><p>buttonbox(msg&#x3D;, title&#x3D; , choices&#x3D;(Button[1], Button[2], Button[3]), image&#x3D;None, images&#x3D;None, default_choice&#x3D;None, cancel_choice&#x3D;None, callback&#x3D;None, run&#x3D;True)</p><p> buttonbox() buttonbox() </p><p>buttonbox() </p><p></p><p></p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714200023069-1294875944.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714200023069-1294875944.png" alt="img"></a></p><p>8.5. indexbox()</p><p><em>indexbox(msg&#x3D;Shall I continue?, title&#x3D; , choices&#x3D;(Yes, No), image&#x3D;None, default_choice&#x3D;Yes, cancel_choice&#x3D;No)</em></p><p> buttonbox()  0  1</p><p>8.6.boolbox()</p><p><em>boolbox(msg&#x3D;Shall I continue?, title&#x3D; , choices&#x3D;([Y]es, [N]o), image&#x3D;None, default_choice&#x3D;Yes, cancel_choice&#x3D;No)</em></p><p> True False</p></li><li><p> buttonbox </p><p> buttonbox  msgbox(), ynbox(), indexbox()  image  .gif PNG ^_^</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">buttonbox</span><span class="hljs-params">(<span class="hljs-string">&#x27;&#x27;</span>, image=<span class="hljs-string">&#x27;turtle.gif&#x27;</span>, choices=(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;!@#$%&#x27;</span>)</span></span>)<br></code></pre></td></tr></table></figure><p>Python3pillowjpg</p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714201305682-1560100367.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714201305682-1560100367.png" alt="img"></a></p></li><li><p></p><p>10.1.choicebox()</p><p><em>choicebox(msg&#x3D;Pick an item, title&#x3D;, choices&#x3D;[], preselect&#x3D;0, callback&#x3D;None, run&#x3D;True)</em></p><p><br>choicebox() </p><p></p><ul><li> g  g  g  g  g  g  g </li><li> g  g f</li><li> g  <a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714201858460-688480039.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714201858460-688480039.png" alt="img"></a></li></ul><p>10.2.multchoicebox()</p><p><em>multchoicebox(msg&#x3D;Pick an item, title&#x3D;, choices&#x3D;[], preselect&#x3D;0, callback&#x3D;None, run&#x3D;True)</em></p><p>multchoicebox()  choicebox() multchoicebox()  0 1 </p><p>multchoicebox() </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714202023050-15996395.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714202023050-15996395.png" alt="img"></a></p><p></p></li></ol><p></p><ol start="11"><li><p></p><p>11.1.enterbox()</p><p><em>enterbox(msg&#x3D;Enter something., title&#x3D; , default&#x3D;, strip&#x3D;True, image&#x3D;None, root&#x3D;None)</em></p><p>enterbox() </p><p> strip&#x3D;False</p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714202400343-1120620975.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714202400343-1120620975.png" alt="img"></a></p><p>11.2.integerbox()</p><p><em>integerbox(msg&#x3D;, title&#x3D; , default&#x3D;None, lowerbound&#x3D;0, upperbound&#x3D;99, image&#x3D;None, root&#x3D;None)</em></p><p>integerbox() lowerbound upperbound </p><p>11.3 multenterbox()</p><p><em>multenterbox(msg&#x3D;Fill in values for the fields., title&#x3D; , fields&#x3D;[], values&#x3D;[], callback&#x3D;None, run&#x3D;True)</em></p><p>multenterbox() </p><ul><li></li><li></li><li> None </li></ul><p><em>35^_^</em></p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714202836630-1172692665.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714202836630-1172692665.png" alt="img"></a></p></li></ol><p>     </p><ol start="12"><li><p></p><p>******</p><p>12.1.passwordbox()</p><p><em>passwordbox(msg&#x3D;Enter your password., title&#x3D; , default&#x3D;, image&#x3D;None, root&#x3D;None)</em></p><p>passwordbox()  enterbox() *</p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714203118959-2140893646.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714203118959-2140893646.png" alt="img"></a></p><p> <em><strong>12.2 multpasswordbox()</strong></em></p><p><em>multpasswordbox(msg&#x3D;Fill in values for the fields., title&#x3D; , fields&#x3D;(), values&#x3D;(), callback&#x3D;None, run&#x3D;True)</em></p><p>multpasswordbox()  multenterbox() *</p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714203407291-1287204336.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714203407291-1287204336.png" alt="img"></a></p></li></ol><p><strong>13. </strong></p><p>EasyGUI </p><p><em><strong>13.1 textbox()</strong></em></p><p><em>textbox(msg&#x3D;, title&#x3D; , text&#x3D;, codebox&#x3D;False, callback&#x3D;None, run&#x3D;True)</em></p><p>textbox()  codebox&#x3D;True </p><p>text </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714204601580-1727704146.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714204601580-1727704146.png" alt="img"></a></p><p> <em><strong>13.2 codebox()</strong></em></p><p><em>codebox(msg&#x3D;, title&#x3D; , text&#x3D;)</em></p><p>codebox()  textbox(codebox&#x3D;True)</p><p>@_@</p><p><strong>14. </strong></p><p>GUI EasyGUI </p><p><em><strong>14.1 diropenbox()</strong></em></p><p><em>diropenbox(msg&#x3D;None, title&#x3D;None, default&#x3D;None)</em></p><p>diropenbox()  Cancel  None</p><p>default </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714212045322-541743005.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714212045322-541743005.png" alt="img"></a></p><p> <em><strong>14.2 fileopenbox()</strong></em></p><p><em>fileopenbox(msg&#x3D;None, title&#x3D;None, default&#x3D;*, filetypes&#x3D;None, multiple&#x3D;False)</em></p><p>fileopenbox()  Cancel  None</p><p> default </p><ul><li>default </li><li> default fileopenbox() </li><li>default  *</li></ul><p></p><ul><li>default&#x3D;c:&#x2F;fishc&#x2F;*.py  C:\fishc  Python </li><li>default&#x3D;c:&#x2F;fishc&#x2F;test*.py  C:\fishc  test  Python </li></ul><p> filetypes </p><ul><li>filetypes &#x3D; [*.txt]</li><li>filetypes &#x3D; [<em>.css, [</em>.htm, *.html, HTML files]]</li></ul><p> multiple  True </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714213405295-1488798206.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714213405295-1488798206.png" alt="img"></a></p><p><em><strong>14.3 filesavebox()</strong></em></p><p><em>filesavebox(msg&#x3D;None, title&#x3D;None, default&#x3D;, filetypes&#x3D;None)</em></p><p>filesavebox()  Cancel  None</p><p>default </p><p>filetypes  fileopenbox() </p><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714214027910-1110083280.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714214027910-1110083280.png" alt="img"></a></p><p> <strong>15. </strong></p><p><em><strong>15.1 EgStore</strong></em></p><p>GUI </p><p>EasyGUI  EgStore </p><p> Settings EgStore </p><p> settings</p><p><strong>init</strong> </p><p> settings </p><p> settings.store() </p><p>2020-07-14 21:53:13  </p><p> Settings </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> easygui <span class="hljs-keyword">import</span> EgStore<br><br><span class="hljs-comment"># SettingsEgStore</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Settings</span>(<span class="hljs-title class_ inherited__">EgStore</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, filename</span>):  <span class="hljs-comment"># </span><br>        <span class="hljs-comment"># </span><br>        self.author = <span class="hljs-string">&quot;&quot;</span><br>        self.book = <span class="hljs-string">&quot;&quot;</span><br><br>        <span class="hljs-comment"># </span><br>        self.filename = filename<br>        self.restore()<br><br><span class="hljs-comment"># Settingssettings</span><br>settingsFilename = <span class="hljs-string">&quot;settings.txt&quot;</span><br>settings = Settings(settingsFilename)<br><br>author = <span class="hljs-string">&quot;&quot;</span><br>book = <span class="hljs-string">&quot;Pyhon&quot;</span><br><br><span class="hljs-comment"># settings</span><br>settings.author = author<br>settings.book = book<br>settings.store()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n\n&quot;</span>)<br></code></pre></td></tr></table></figure><p> <strong>16. </strong></p><p><em><strong>exceptionbox()</strong></em></p><p> EasyGUI  GUI  stdout </p><p>EasyGUI  exceptionbox() </p><p>exceptionbox()  codebox() </p><p>exceptionbox() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I Love FishC.com!&#x27;</span>)<br>        <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;FISHC&#x27;</span>) <span class="hljs-comment"># </span><br><span class="hljs-keyword">except</span>:<br>        exceptionbox()<br></code></pre></td></tr></table></figure><p><a href="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714220025132-312819337.png"><img src="https://img2020.cnblogs.com/blog/2096605/202007/2096605-20200714220025132-312819337.png" alt="img"></a></p><h2 id="-28"><a href="#-28" class="headerlink" title=""></a></h2><h3 id="Quiz-28"><a href="#Quiz-28" class="headerlink" title="Quiz"></a>Quiz</h3><h3 id="Practice-24"><a href="#Practice-24" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>?</p><p><img src="https://img2018.cnblogs.com/blog/1442115/201812/1442115-20181209223851175-1976371461.png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ?</span><br><br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><br>g.msgbox(<span class="hljs-string">&quot;^_^&quot;</span>)<br>secret = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br>msg = <span class="hljs-string">&quot;1~10&quot;</span><br>title = <span class="hljs-string">&quot;&quot;</span><br>guess = g.integerbox(msg, title, lowerbound=<span class="hljs-number">1</span>, upperbound=<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># cancel</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> guess:<br>    sys.exit()<br>    <br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> guess == secret:<br>        g.msgbox(<span class="hljs-string">&quot;&quot;</span>)<br>        g.msgbox(<span class="hljs-string">&quot;&quot;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> guess &gt; secret:<br>            g.msgbox(<span class="hljs-string">&quot;~~~&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            g.msgbox(<span class="hljs-string">&quot;~~~&quot;</span>)<br>        guess = g.integerbox(msg, title, lowerbound=<span class="hljs-number">1</span>, upperbound=<span class="hljs-number">10</span>)<br><br>g.msgbox(<span class="hljs-string">&quot;^_^&quot;</span>)<br><br><br></code></pre></td></tr></table></figure></li><li><p>*</p><p><img src="https://img2018.cnblogs.com/blog/1442115/201812/1442115-20181209223900309-1800557256.png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># *</span><br><br><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><span class="hljs-keyword">import</span> sys<br><br><br>message = <span class="hljs-string">&quot; \n \n*E-mail &quot;</span><br>title = <span class="hljs-string">&quot;&quot;</span><br>fields = [<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>,  <span class="hljs-string">&#x27;QQ&#x27;</span>, <span class="hljs-string">&#x27;*E-mail&#x27;</span>]<br>result = g.multenterbox(msg=message, title=title, fields=fields, values=[<span class="hljs-string">&#x27;&#x27;</span>], callback=<span class="hljs-literal">None</span>, run=<span class="hljs-literal">True</span>)<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> result:<br>        sys.exit()<br>    <span class="hljs-keyword">elif</span> result[<span class="hljs-number">1</span>].isspace() <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> result[<span class="hljs-number">1</span>]:<br>        g.msgbox(<span class="hljs-string">&#x27;, &#x27;</span>)<br>    <span class="hljs-keyword">elif</span> result[<span class="hljs-number">3</span>].isspace() <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> result[<span class="hljs-number">3</span>]:<br>        g.msgbox(<span class="hljs-string">&#x27;, &#x27;</span>)<br>    <span class="hljs-keyword">elif</span> result[<span class="hljs-number">5</span>].isspace() <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> result[<span class="hljs-number">5</span>]:<br>        g.msgbox(<span class="hljs-string">&#x27;E-mail, &#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">break</span><br>    result = g.multenterbox(msg=message, title=title, fields=fields, values=[<span class="hljs-string">&#x27;&#x27;</span>], callback=<span class="hljs-literal">None</span>, run=<span class="hljs-literal">True</span>)<br><br>g.msgbox(<span class="hljs-string">&#x27;@&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p></p><p><img src="https://img2018.cnblogs.com/blog/1442115/201812/1442115-20181209223908751-1868690450.png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><span class="hljs-keyword">import</span> sys<br><br>f_name = g.fileopenbox(msg=<span class="hljs-literal">None</span>, title=<span class="hljs-literal">None</span>, default=<span class="hljs-string">&#x27;*&#x27;</span>, filetypes=<span class="hljs-literal">None</span>, multiple=<span class="hljs-literal">False</span>)<br><span class="hljs-keyword">if</span> f_name:<br>    message = <span class="hljs-string">&quot;&quot;</span> + f_name + <span class="hljs-string">&quot; &quot;</span><br>    title = <span class="hljs-string">&quot;&quot;</span><br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(f_name, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f_content = f.readlines()<br>    g.textbox(msg=message, title=title, text=f_content, codebox=<span class="hljs-literal">False</span>, callback=<span class="hljs-literal">None</span>, run=<span class="hljs-literal">True</span>)<br><br><span class="hljs-keyword">else</span>:<br>    sys.exit()<br></code></pre></td></tr></table></figure></li><li><p>OK</p><p><img src="https://img2018.cnblogs.com/blog/1442115/201812/1442115-20181209223915368-1198875933.png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># OK</span><br><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os.path<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mfile_action</span>(<span class="hljs-params">m_choice</span>):<br>    <span class="hljs-keyword">if</span> m_choice == <span class="hljs-string">&#x27;&#x27;</span>:<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(f_name, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> fo:<br>            temp_content = fo.readlines()<br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(f_name, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> fw:<br>                fw.writelines(temp_content)<br>    <span class="hljs-keyword">elif</span> m_choice == <span class="hljs-string">&#x27;&#x27;</span>:<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(f_name, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> fw:<br>            fw.writelines(f_content)<br>    <span class="hljs-keyword">elif</span> m_choice == <span class="hljs-string">&#x27;&#x27;</span>:<br>        <span class="hljs-comment"># with open(f_name, &#x27;r&#x27;) as fo:</span><br>        <span class="hljs-comment">#     temp_content = fo.readlines()</span><br>        new_fname = g.filesavebox(msg=<span class="hljs-literal">None</span>, title=<span class="hljs-literal">None</span>, default=<span class="hljs-string">&#x27;&#x27;</span>, filetypes=<span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">if</span> new_fname:<br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(f_name, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> fo:<br>                temp_content = fo.readlines()<br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(new_fname, <span class="hljs-string">&#x27;x&#x27;</span>) <span class="hljs-keyword">as</span> fs:<br>                fs.writelines(temp_content)<br>    <span class="hljs-keyword">else</span>:<br>        sys.exit()<br><br><br>f_name = g.fileopenbox(msg=<span class="hljs-literal">None</span>, title=<span class="hljs-literal">None</span>, default=<span class="hljs-string">&#x27;*&#x27;</span>, filetypes=<span class="hljs-literal">None</span>, multiple=<span class="hljs-literal">False</span>)<br>old_mtime = os.path.getmtime(f_name)<br><span class="hljs-keyword">if</span> f_name:<br>    message = <span class="hljs-string">&quot;&quot;</span> + f_name + <span class="hljs-string">&quot; &quot;</span><br>    title = <span class="hljs-string">&quot;&quot;</span><br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(f_name, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f_content = f.readlines()<br>        <span class="hljs-built_in">print</span>(f_content)<br>    <span class="hljs-keyword">if</span> g.textbox(msg=message, title=title, text=f_content, codebox=<span class="hljs-literal">False</span>, callback=<span class="hljs-literal">None</span>, run=<span class="hljs-literal">True</span>):<br>        new_mtime = os.path.getmtime(f_name)<br>        <span class="hljs-keyword">if</span> new_mtime != old_mtime:<br>            warn_msg = <span class="hljs-string">&#x27;&#x27;</span><br>            warn_title = <span class="hljs-string">&#x27;&#x27;</span><br>            warn_choices = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br>            choice = g.buttonbox(msg=warn_msg, title=warn_title, choices=warn_choices, image=<span class="hljs-literal">None</span>, images=<span class="hljs-literal">None</span>,<br>                        default_choice=<span class="hljs-literal">None</span>, cancel_choice=<span class="hljs-literal">None</span>, callback=<span class="hljs-literal">None</span>, run=<span class="hljs-literal">True</span>)<br>            mfile_action(choice)<br><span class="hljs-keyword">else</span>:<br>    sys.exit()<br><br></code></pre></td></tr></table></figure></li><li><p> </p><p>  </p><p><img src="https://img2018.cnblogs.com/blog/1442115/201812/1442115-20181209223924767-1833087716.png" alt="img"></p><p><img src="https://www.programminghunter.com/images/121/3f/3f4dda2326c5bf9b6508d481ad974ee1.png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment">#   </span><br><br><span class="hljs-keyword">import</span> easygui <span class="hljs-keyword">as</span> g<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">code_cal</span>(<span class="hljs-params">dir_path</span>):<br>    format_list = [<span class="hljs-string">&#x27;.py&#x27;</span>, <span class="hljs-string">&#x27;.tf&#x27;</span>, <span class="hljs-string">&#x27;.sh&#x27;</span>]<br>    code_lines = <span class="hljs-number">0</span><br>    ext_dic = &#123;<span class="hljs-string">&#x27;.py&#x27;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], <span class="hljs-string">&#x27;.tf&#x27;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], <span class="hljs-string">&#x27;.sh&#x27;</span>:[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>]&#125;<br><br>    <span class="hljs-comment"># os.walk() for </span><br>    <span class="hljs-keyword">for</span> folder, sub_folders, sub_files <span class="hljs-keyword">in</span> os.walk(dir_path):<br>        <span class="hljs-keyword">for</span> each_file <span class="hljs-keyword">in</span> sub_files:<br>            ext_temp = os.path.splitext(each_file)[<span class="hljs-number">1</span>]<br><br>            <span class="hljs-keyword">if</span> ext_temp <span class="hljs-keyword">in</span> format_list:<br><br>                ext_dic[ext_temp][<span class="hljs-number">0</span>] += <span class="hljs-number">1</span><br><br>                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(os.path.join(folder, each_file), <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f_py:<br>                    len_temp = <span class="hljs-built_in">len</span>(f_py.readlines())<br>                    ext_dic[ext_temp][<span class="hljs-number">1</span>] += len_temp<br>                    code_lines += len_temp<br><br>    <span class="hljs-keyword">return</span> code_lines, ext_dic<br><br><br>f_path = g.diropenbox(msg=<span class="hljs-literal">None</span>, title=<span class="hljs-literal">None</span>, default=<span class="hljs-literal">None</span>)<br><br><span class="hljs-keyword">if</span> f_path:<br>    total_lines, ext_row_line = code_cal(f_path)<br>    message = <span class="hljs-string">&#x27; &#123;0&#125;  &#123;1:.2%&#125; \n  &#123;2&#125;  &#123;3&#125; &#x27;</span>.<span class="hljs-built_in">format</span>(<br>        total_lines,<br>        total_lines/<span class="hljs-number">100000</span>,<br>        <span class="hljs-number">100000</span>,<br>        <span class="hljs-number">100000</span>-total_lines<br>    )<br>    text_title = <span class="hljs-string">&#x27;&#x27;</span><br>    text_content = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> ext_row_line.keys():<br>        text_content += <span class="hljs-string">&#x27;[&#123;0&#125;] &#123;1&#125;  &#123;2&#125;  \n&#x27;</span>.<span class="hljs-built_in">format</span>(<br>            each,<br>            ext_row_line[each][<span class="hljs-number">0</span>],<br>            ext_row_line[each][<span class="hljs-number">1</span>]<br>        )<br>    g.textbox(msg=message, title=text_title, text=text_content)<br><span class="hljs-keyword">else</span>:<br>    sys.exit()<br><br></code></pre></td></tr></table></figure></li></ol><h1 id="036-"><a href="#036-" class="headerlink" title="036. "></a>036. </h1><h2 id="-31"><a href="#-31" class="headerlink" title=""></a></h2><ul><li><p> &#x3D;  + </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Turtle</span>: <span class="hljs-comment"># python </span><br>    <span class="hljs-string">&quot;&quot;&quot;&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># </span><br>    color = <span class="hljs-string">&#x27;green&#x27;</span><br>    weight = <span class="hljs-number">10</span><br>    legs = <span class="hljs-number">4</span><br>    shell = <span class="hljs-literal">True</span><br>    mouth = <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">climb</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bite</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Zzzz&#x27;</span>)<br>        <br><span class="hljs-comment"># </span><br>turtle_01 = Turtle()<br>turtle_01.sleep()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> example_1 <span class="hljs-keyword">import</span> *<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>tt = Turtle()<br><span class="hljs-meta">&gt;&gt;&gt; </span>Turtle()<br>&lt;example_1.Turtle <span class="hljs-built_in">object</span> at <span class="hljs-number">0x102adb370</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>tt.climb()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>tt.bite()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>tt.sleep()<br>Zzzz<br><br></code></pre></td></tr></table></figure></li><li><p>OO(object oriented) </p><ul><li><p></p><p></p><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1 = [<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1.sort()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1</span><br>[1, 2, 3, 5, 7]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1.append(<span class="hljs-number">9</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list1</span><br>[1, 2, 3, 5, 7, 9]<br><br></code></pre></td></tr></table></figure></li><li><p></p><p>;</p><p>MyList list </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyList</span>(<span class="hljs-title class_ inherited__">list</span>):</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-keyword">pass</span></span><br><span class="hljs-meta prompt_">...</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2 = MyList()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2.append(<span class="hljs-number">3</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2.append(<span class="hljs-number">5</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2.append(<span class="hljs-number">7</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2</span><br>[3, 5, 7]<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2.reverse()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">list2</span><br>[7, 5, 3]<br><br></code></pre></td></tr></table></figure></li><li><p></p><p></p><p>fun</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;B&#x27;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A()<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = B()<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.fun()<br>A<br><span class="hljs-meta">&gt;&gt;&gt; </span>b.fun()<br>B<br><br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-29"><a href="#-29" class="headerlink" title=""></a></h2><h3 id="Quiz-29"><a href="#Quiz-29" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p></p><p></p></li><li><p></p><p>TomHello Kitty&#96;&#96;&#96;&#96;&#96;&#96;&#96;</p></li><li><p></p><p></p><p></p></li><li><p></p><p></p></li><li><p></p><p></p><p></p><p></p></li><li><p></p><p>self</p></li></ol><h3 id="Practice-25"><a href="#Practice-25" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>Person</p><p></p><p></p><p>selfself.name</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Person</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># selfself.name</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    name = <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">printname</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(self.name)<br><br><br>p1 = Person()<br>p1.name = <span class="hljs-string">&#x27;FishC&#x27;</span><br>p1.printname()<br></code></pre></td></tr></table></figure></li><li><p></p><p></p><p>-&gt;setRect(self)-&gt;getRect(self)-&gt;getArea(self)</p><p>selfself.width</p><p><img src="https://img2020.cnblogs.com/blog/1986620/202007/1986620-20200730235936219-1196502492.png" alt="img"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.width = <span class="hljs-literal">None</span><br>        self.length = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_rect</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;...&#x27;</span>)<br>        self.length = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>        self.width = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_rect</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;0:.2f&#125; &#123;1:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(self.length, self.width))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_area</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.length * self.width<br><br><br>rect = Rectangle()<br>rect.set_rect()<br>rect.get_rect()<br>rect.get_area()<br></code></pre></td></tr></table></figure></li></ol><h1 id="037-"><a href="#037-" class="headerlink" title="037. "></a>037. </h1><h2 id="-32"><a href="#-32" class="headerlink" title=""></a></h2><h3 id="Self-"><a href="#Self-" class="headerlink" title="Self "></a>Self </h3><ul><li><p>pythonself C&#x2F;C++ </p></li><li><p>self </p></li><li><p>selfselfpython</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ball</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params">self, name</span>):<br><span class="hljs-meta">... </span>            self.name = name<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">kick</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;my name is %s, fuck, who kick me#@#&#x27;</span> % self.name)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Ball()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.setName(<span class="hljs-string">&#x27;A&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = Ball()<br><span class="hljs-meta">&gt;&gt;&gt; </span>b.setName(<span class="hljs-string">&#x27;B&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.kick()<br>my name <span class="hljs-keyword">is</span> A, fuck, who kick me<span class="hljs-comment">#@#</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b.kick()<br>my name <span class="hljs-keyword">is</span> B, fuck, who kick me<span class="hljs-comment">#@#</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p></p><ul><li><p><code>__init__(self, param1, param2...)</code> </p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ball</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br><span class="hljs-meta">... </span>            self.name = name<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">kick</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;my name is %s, fuck, who kick me#@#&#x27;</span> % self.name)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = Ball(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.kick()<br>my name <span class="hljs-keyword">is</span> , fuck, who kick me<span class="hljs-comment">#@#</span><br></code></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p></p><ul><li><p></p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br><span class="hljs-meta">... </span>    name = <span class="hljs-string">&#x27;FishC&#x27;</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p = Person()<br><span class="hljs-meta">&gt;&gt;&gt; </span>p.name<br><span class="hljs-string">&#x27;FishC&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li><p>name mangling - &#x2F;</p></li><li><p>python__ </p></li><li><p>self </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>p = Person()<br><span class="hljs-meta">&gt;&gt;&gt; </span>p.__name<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: <span class="hljs-string">&#x27;Person&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;__name&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p.name<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: <span class="hljs-string">&#x27;Person&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;name&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br><span class="hljs-meta">... </span>    __name = <span class="hljs-string">&#x27;FishC&#x27;</span><br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> self.__name<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p = Person()<br><span class="hljs-meta">&gt;&gt;&gt; </span>p.__name<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: <span class="hljs-string">&#x27;Person&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;__name&#x27;</span><br>  <br>  <br><span class="hljs-meta">&gt;&gt;&gt; </span>p.getName()<br><span class="hljs-string">&#x27;FishC&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>name manglingpython<code>___</code> python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>p._Person__name<br><span class="hljs-string">&#x27;FishC&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-30"><a href="#-30" class="headerlink" title=""></a></h2><h3 id="Quiz-30"><a href="#Quiz-30" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&quot;FishC.com&quot;</span>.count(<span class="hljs-string">&#x27;o&#x27;</span>)<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>].count(<span class="hljs-number">1</span>)<br><span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">18</span>).count(<span class="hljs-number">1</span>)<br><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure></li></ol><p></p><ol start="2"><li><p></p><p> <code>class Newclass(Oldclass)</code></p></li><li><p>self</p><p>selfselfpython</p></li><li><p></p><p>__ </p></li><li><p></p><p><code>__init__(self, param1, param2...)</code> </p></li><li><p> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>        name = <span class="hljs-string">&#x27;FishC&#x27;</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">myFun</span>(<span class="hljs-params">self</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC!&quot;</span>)<br>                <br><span class="hljs-meta">&gt;&gt;&gt; </span>MyClass.name<br><span class="hljs-string">&#x27;FishC&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>MyClass.myFun()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;pyshell#6&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    MyClass.myFun()<br>TypeError: myFun() missing <span class="hljs-number">1</span> required positional argument: <span class="hljs-string">&#x27;self&#x27;</span><br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><p><br>PythonMyClass.name<br>Python <strong> self </strong> self </p></li></ol><h3 id="Practice-26"><a href="#Practice-26" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>2+1</p><ul><li>100</li><li>120%</li><li></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ticket</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, day, adult_count, child_count</span>):<br>        self.day = day<br>        self.adult_count = adult_count<br>        self.child_count = child_count<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">price</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.day == <span class="hljs-string">&quot;WD&quot;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-number">100</span> * self.adult_count + <span class="hljs-number">50</span> * self.child_count))<br>        <span class="hljs-keyword">elif</span> self.day == <span class="hljs-string">&quot;WED&quot;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>((<span class="hljs-number">100</span> * self.adult_count + <span class="hljs-number">50</span> * self.child_count) * <span class="hljs-number">1.2</span>))<br><br><br>ticket1 = Ticket(<span class="hljs-string">&#x27;WD&#x27;</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>ticket1.price()<br></code></pre></td></tr></table></figure></li><li><p>^_^</p><ul><li>x, y0&lt;&#x3D;x&lt;&#x3D;100&lt;&#x3D;y&lt;&#x3D;10</li><li>110</li><li></li><li>2Ta121</li><li></li><li>100</li><li>1</li><li>20</li><li></li><li>00</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ^_^</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># - x, y0&lt;=x&lt;=100&lt;=y&lt;=10</span><br><span class="hljs-comment"># - 110</span><br><span class="hljs-comment"># - </span><br><span class="hljs-comment"># - 2Ta121</span><br><span class="hljs-comment"># - </span><br><span class="hljs-comment"># - 100</span><br><span class="hljs-comment"># - 1</span><br><span class="hljs-comment"># - 20</span><br><span class="hljs-comment"># - </span><br><span class="hljs-comment"># - 00, </span><br><br><span class="hljs-keyword">import</span> random <span class="hljs-keyword">as</span> r<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Turtle</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, energy</span>):<br>        self.init_position = <span class="hljs-literal">None</span><br>        self.XY_list = [<span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>]<br>        self.direction_list = [<span class="hljs-string">&#x27;forward&#x27;</span>, <span class="hljs-string">&#x27;backward&#x27;</span>]<br>        self.message = <span class="hljs-string">&#x27;&#x27;</span><br>        self.move_param = <span class="hljs-literal">None</span><br>        self.move_points = <span class="hljs-literal">None</span><br>        self.energy = energy<br>        self.max_energy = <span class="hljs-number">100</span><br>        self.position = &#123;self.XY_list[<span class="hljs-number">0</span>]: r.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>), self.XY_list[<span class="hljs-number">1</span>]: r.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)&#125;<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Turtle initial position is [&#123;:d&#125;, &#123;:d&#125;], energy: &#123;:d&#125;&#x27;</span>.<br>              <span class="hljs-built_in">format</span>(self.position[<span class="hljs-string">&#x27;X&#x27;</span>], self.position[<span class="hljs-string">&#x27;Y&#x27;</span>], self.energy))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">move</span>(<span class="hljs-params">self, init_position</span>):<br>        self.init_position = init_position<br>        self.move_param = (r.choice(self.XY_list), r.choice(self.direction_list))<br>        self.move_points = r.randint(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">if</span> self.move_param[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;forward&#x27;</span>:<br>            self.position[self.move_param[<span class="hljs-number">0</span>]] = self.init_position[self.move_param[<span class="hljs-number">0</span>]] + self.move_points<br>            <span class="hljs-keyword">if</span> self.position[self.move_param[<span class="hljs-number">0</span>]] &gt; <span class="hljs-number">10</span>:<br>                self.position[self.move_param[<span class="hljs-number">0</span>]] = <span class="hljs-number">20</span> - self.position[self.move_param[<span class="hljs-number">0</span>]]<br>                self.message = <span class="hljs-string">&#x27;&#x27;</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:s&#125; &#123;:d&#125;&#123;:s&#125;now new position is [&#123;:d&#125;, &#123;:d&#125;], energy: &#123;:d&#125;&#x27;</span><br>                  .<span class="hljs-built_in">format</span>(self.move_param[<span class="hljs-number">0</span>], self.move_points, self.message, self.position[<span class="hljs-string">&#x27;X&#x27;</span>], self.position[<span class="hljs-string">&#x27;Y&#x27;</span>], self.energy-<span class="hljs-number">1</span>))<br>        <span class="hljs-keyword">else</span>:<br>            self.position[self.move_param[<span class="hljs-number">0</span>]] = self.init_position[self.move_param[<span class="hljs-number">0</span>]] - self.move_points<br>            <span class="hljs-keyword">if</span> self.position[self.move_param[<span class="hljs-number">0</span>]] &lt; <span class="hljs-number">0</span>:<br>                self.position[self.move_param[<span class="hljs-number">0</span>]] = <span class="hljs-number">0</span> - self.position[self.move_param[<span class="hljs-number">0</span>]]<br>                self.message = <span class="hljs-string">&#x27;&#x27;</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:s&#125; &#123;:d&#125;&#123;:s&#125;now new position is [&#123;:d&#125;, &#123;:d&#125;], energy: &#123;:d&#125;&#x27;</span><br>                  .<span class="hljs-built_in">format</span>(self.move_param[<span class="hljs-number">0</span>], self.move_points, self.message, self.position[<span class="hljs-string">&#x27;X&#x27;</span>], self.position[<span class="hljs-string">&#x27;Y&#x27;</span>], self.energy-<span class="hljs-number">1</span>))<br><br>        <span class="hljs-comment"># 1</span><br>        self.energy -= <span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># print(&#x27;Turtle moved once, now new position is [&#123;:d&#125;, &#123;:d&#125;, energy: &#123;:d&#125;]&#x27;</span><br>        <span class="hljs-comment"># .format(self.position[&#x27;X&#x27;], self.position[&#x27;Y&#x27;], self.energy))</span><br><br>        <span class="hljs-keyword">return</span> self.position<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fish</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.init_position = <span class="hljs-literal">None</span><br>        self.XY_list = [<span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>]<br>        self.direction_list = [<span class="hljs-string">&#x27;forward&#x27;</span>, <span class="hljs-string">&#x27;backward&#x27;</span>]<br>        self.message = <span class="hljs-string">&#x27;&#x27;</span><br>        self.position = &#123;self.XY_list[<span class="hljs-number">0</span>]: r.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>), self.XY_list[<span class="hljs-number">1</span>]: r.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)&#125;<br>        self.move_param = <span class="hljs-literal">None</span><br>        self.move_points = <span class="hljs-number">1</span><br><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Fish initial position is [&#123;:d&#125;, &#123;:d&#125;]&#x27;</span>.<span class="hljs-built_in">format</span>(self.position[<span class="hljs-string">&#x27;X&#x27;</span>], self.position[<span class="hljs-string">&#x27;Y&#x27;</span>]))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">move</span>(<span class="hljs-params">self, init_position</span>):<br>        self.init_position = init_position<br>        self.move_param = (r.choice(self.XY_list), r.choice(self.direction_list))<br>        <span class="hljs-keyword">if</span> self.move_param[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;forward&#x27;</span>:<br>            self.position[self.move_param[<span class="hljs-number">0</span>]] = self.init_position[self.move_param[<span class="hljs-number">0</span>]] + self.move_points<br>            <span class="hljs-keyword">if</span> self.position[self.move_param[<span class="hljs-number">0</span>]] &gt; <span class="hljs-number">10</span>:<br>                self.position[self.move_param[<span class="hljs-number">0</span>]] = <span class="hljs-number">20</span> - self.position[self.move_param[<span class="hljs-number">0</span>]]<br>                self.message = <span class="hljs-string">&#x27;&#x27;</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:s&#125;  &#123;:d&#125;&#123;:s&#125;now new position is [&#123;:d&#125;, &#123;:d&#125;]&#x27;</span><br>                  .<span class="hljs-built_in">format</span>(self.move_param[<span class="hljs-number">0</span>], self.move_points, self.message, self.position[<span class="hljs-string">&#x27;X&#x27;</span>], self.position[<span class="hljs-string">&#x27;Y&#x27;</span>]))<br>        <span class="hljs-keyword">else</span>:<br>            self.position[self.move_param[<span class="hljs-number">0</span>]] = self.init_position[self.move_param[<span class="hljs-number">0</span>]] - self.move_points<br>            <span class="hljs-keyword">if</span> self.position[self.move_param[<span class="hljs-number">0</span>]] &lt; <span class="hljs-number">0</span>:<br>                self.position[self.move_param[<span class="hljs-number">0</span>]] = <span class="hljs-number">0</span> - self.position[self.move_param[<span class="hljs-number">0</span>]]<br>                self.message = <span class="hljs-string">&#x27;&#x27;</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:s&#125;  &#123;:d&#125;&#123;:s&#125;now new position is [&#123;:d&#125;, &#123;:d&#125;]&#x27;</span><br>                  .<span class="hljs-built_in">format</span>(self.move_param[<span class="hljs-number">0</span>], self.move_points, self.message, self.position[<span class="hljs-string">&#x27;X&#x27;</span>], self.position[<span class="hljs-string">&#x27;Y&#x27;</span>]))<br><br>        <span class="hljs-comment"># print(&#x27;Fish moved once, now new position is [&#123;:d&#125;, &#123;:d&#125;]&#x27;.format(self.position[&#x27;X&#x27;], self.position[&#x27;Y&#x27;]))</span><br><br>        <span class="hljs-keyword">return</span> self.position<br><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------------------&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;110&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------------------&#x27;</span>)<br><span class="hljs-comment"># 1</span><br>turtle = Turtle(<span class="hljs-number">100</span>)<br>turtle_position = turtle.position<br><br><span class="hljs-comment"># </span><br>fish = []<br><br><span class="hljs-comment"># key=value=</span><br>fish_position = &#123;&#125;<br><br><span class="hljs-comment"># 10</span><br>createVar = <span class="hljs-built_in">locals</span>()<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    createVar[<span class="hljs-string">&#x27;fish&#x27;</span>+<span class="hljs-built_in">str</span>(i)] = Fish()<br>    fish.append(createVar[<span class="hljs-string">&#x27;fish&#x27;</span> + <span class="hljs-built_in">str</span>(i)])<br>    fish_position.setdefault(fish[i], fish[i].position)<br><br><br><span class="hljs-built_in">print</span>(<span class="hljs-number">3</span> * <span class="hljs-string">&#x27;\n&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------------------&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------------------&#x27;</span>)<br><span class="hljs-comment"># </span><br>fish_count = <span class="hljs-built_in">len</span>(fish_position)<br><br>init_round = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">while</span> fish_count &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> turtle.energy &gt; <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Game on-going, Round: [&#123;:&#125;]&#x27;</span>.<span class="hljs-built_in">format</span>(init_round))<br>    turtle_position = turtle.move(turtle_position)<br>    <span class="hljs-keyword">for</span> each_fish <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>(fish_position.keys()):<br>        fish_position[each_fish] = each_fish.move(fish_position[each_fish])<br>        <span class="hljs-comment"># , ,20</span><br>        <span class="hljs-keyword">if</span> fish_position[each_fish] == turtle_position:<br>            fish_position.pop(each_fish)<br>            fish_count = <span class="hljs-built_in">len</span>(fish_position)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------------------&#x27;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; [&#123;:d&#125;, &#123;:d&#125;] &#123;:&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(turtle_position[<span class="hljs-string">&#x27;X&#x27;</span>], turtle_position[<span class="hljs-string">&#x27;Y&#x27;</span>], fish_count))<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------------------------------&#x27;</span>)<br><br>            turtle.energy += <span class="hljs-number">20</span><br>            <span class="hljs-keyword">if</span> turtle.energy &gt;= turtle.max_energy:<br>                turtle.energy = turtle.max_energy<br>    init_round += <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">if</span> fish_count == <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Game Over, Turtle win!!&#x27;</span>)<br><span class="hljs-keyword">elif</span> turtle.energy == <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Game Over, Fish win!!&#x27;</span>)<br><br></code></pre></td></tr></table></figure></li></ol><h1 id="038-"><a href="#038-" class="headerlink" title="038. "></a>038. </h1><h2 id="-33"><a href="#-33" class="headerlink" title=""></a></h2><ul><li><p><code>class DerivedClassName(BaseClassName):</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span>(<span class="hljs-title class_ inherited__">Parent</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">pass</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p = Parent()<br><span class="hljs-meta">&gt;&gt;&gt; </span>p.hello()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = Child()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.hello()<br><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>c = Child()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.hello()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span>(<span class="hljs-title class_ inherited__">Parent</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = Child()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.hello()<br><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random <span class="hljs-keyword">as</span> r<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fish</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.x = r.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)<br>        self.y = r.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">move</span>(<span class="hljs-params">self</span>):<br>        self.x -= <span class="hljs-number">1</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>, self.x, self.y)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GlodFish</span>(<span class="hljs-title class_ inherited__">Fish</span>):<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Salmon</span>(<span class="hljs-title class_ inherited__">Fish</span>):<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shark</span>(<span class="hljs-title class_ inherited__">Fish</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.hungary = <span class="hljs-literal">True</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.hungary:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>            self.hungary = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>goldfish = GoldFish()<br><span class="hljs-meta">&gt;&gt;&gt; </span>goldfish.move()<br> <span class="hljs-number">9</span> <span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>goldfish.move()<br> <span class="hljs-number">8</span> <span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>goldfish.move()<br> <span class="hljs-number">7</span> <span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>goldfish.move()<br> <span class="hljs-number">6</span> <span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>shark = Shark()<br><span class="hljs-meta">&gt;&gt;&gt; </span>shark.eat()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>shark.eat()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>shark.move()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>  File <span class="hljs-string">&quot;/Users/felix_yang/PycharmProjects/learningpython/38/example_01.py&quot;</span>, line <span class="hljs-number">10</span>, <span class="hljs-keyword">in</span> move<br>    self.x -= <span class="hljs-number">1</span><br>AttributeError: <span class="hljs-string">&#x27;Shark&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;x&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><br></code></pre></td></tr></table></figure><p>shark move shark <code>__init__(self)</code> <code>__init__(self)</code>x </p><p></p><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shark</span>(<span class="hljs-title class_ inherited__">Fish</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>      <span class="hljs-comment"># </span><br>        Fish.__init__(self)<br>        self.hungary = <span class="hljs-literal">True</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.hungary:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>            self.hungary = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p>super()</p><p>super self </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shark</span>(<span class="hljs-title class_ inherited__">Fish</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># super</span><br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.hungary = <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">shark = Shark()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">shark.move()</span><br> 3 9<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><p><code>class DerivedClassName(Base1, Base2, Base3)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base1</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">foo1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; base1&#x27;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base2</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">foo2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; base2&#x27;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span>(Base1, Base2):<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>child = Child()<br><span class="hljs-meta">&gt;&gt;&gt; </span>child.foo1<br>&lt;bound method Base1.foo1 of &lt;example_02.Child <span class="hljs-built_in">object</span> at <span class="hljs-number">0x10a5a98e0</span>&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>child.foo1()<br> base1<br><span class="hljs-meta">&gt;&gt;&gt; </span>child.foo2()<br> base2<br><br></code></pre></td></tr></table></figure></li></ul><h2 id="-31"><a href="#-31" class="headerlink" title=""></a></h2><h3 id="Quiz-31"><a href="#Quiz-31" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p> __ init __</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;I love FishC.com!&quot;</span><br><br></code></pre></td></tr></table></figure><p>nonereturn </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql">Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>  File &quot;&lt;stdin&gt;&quot;, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> <span class="hljs-operator">&lt;</span><span class="hljs-keyword">module</span><span class="hljs-operator">&gt;</span><br>TypeError: __init__() should <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>, <span class="hljs-keyword">not</span> <span class="hljs-string">&#x27;str&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>Python </p><p></p></li><li><p></p><p> pass fly </p></li><li><p>super </p><p>super  class </p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br>        A.__init__(self)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;C&quot;</span>)<br>        A.__init__(self)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;C&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">D</span>(B, C):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;D&quot;</span>)<br>        B.__init__(self)<br>        C.__init__(self)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;D&quot;</span>)<br><br><br></code></pre></td></tr></table></figure><p>DAinit</p></li><li><p></p><p>super() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;C&quot;</span>)<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;C&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">D</span>(B, C):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;D&quot;</span>)<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;D&quot;</span>)<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-27"><a href="#Practice-27" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>PointLine getLen </p><p></p><ul><li> A(X1,Y1) B(X2,Y2) |AB| &#x3D; ((x1-x2)2+(y1-y2)2)</li><li>Python  math  sqrt </li><li>Point</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math <span class="hljs-keyword">as</span> m<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Line</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, point_a, point_b</span>):<br>        self.point_a = point_a<br>        self.point_b = point_b<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getLen</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> m.sqrt((self.point_a.x-self.point_b.x)**<span class="hljs-number">2</span> + (self.point_a.y-self.point_b.y)**<span class="hljs-number">2</span>)<br><br><br>point_a = Point(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br>point_b = Point(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)<br>line = Line(point_a, point_b)<br><span class="hljs-built_in">print</span>(line.getLen())<br></code></pre></td></tr></table></figure></li><li><p> Python </p></li></ol><h1 id="039-"><a href="#039-" class="headerlink" title="039. "></a>039. </h1><h2 id="-34"><a href="#-34" class="headerlink" title=""></a></h2><ul><li><p> </p><p>python</p><p></p><ul><li></li><li></li></ul><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Turtle</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        self.number = x<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fish</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        self.number = x<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pool</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.turtle = Turtle(x)<br>        self.fish = Fish(y)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_num</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d%d&#x27;</span> %(self.turtle.number, self.fish.number))<br><br><br>p1 = Pool(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>p1.print_num()<br></code></pre></td></tr></table></figure></li><li><p></p><p><img src="http://img.5iqiqu.com/images11/1f/1f387407ff014d1267ec2361780beb32.png" alt=""></p><ul><li><p>..()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    count = <span class="hljs-number">0</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.count<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b.count<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.count<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.count += <span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.count<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.count<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b.count<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>C.count<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>C.count += <span class="hljs-number">100</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.count<br><span class="hljs-number">100</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b.count<br><span class="hljs-number">100</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.count<br><span class="hljs-number">10</span><br><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self</span>):   <span class="hljs-comment">#x</span><br><span class="hljs-meta">... </span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;X-man&quot;</span>)<br>...<br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x()              <span class="hljs-comment">#Cx</span><br>X-man<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-number">1</span>            <span class="hljs-comment">#cx1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x                <span class="hljs-comment">#cx</span><br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x()              <span class="hljs-comment">#xxx</span><br>Traceback (most recent call last):<br>File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: <span class="hljs-string">&#x27;int&#x27;</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">callable</span><br>  <br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.x<br>&lt;bound method C.x of &lt;__main__.C <span class="hljs-built_in">object</span> at <span class="hljs-number">0x109d21a00</span>&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.x()<br>X-man<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x<br><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><p>python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">printB</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;BB&quot;</span>)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>B.printB()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: printB() missing <span class="hljs-number">1</span> required positional argument: <span class="hljs-string">&#x27;self&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = B()<br><span class="hljs-meta">&gt;&gt;&gt; </span>b.printB()<br>BB<br></code></pre></td></tr></table></figure></li></ul><h2 id="-32"><a href="#-32" class="headerlink" title=""></a></h2><h3 id="Quiz-32"><a href="#Quiz-32" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p>Python</p></li><li><p></p><p></p></li><li><p></p><p> ()..()</p></li><li><p></p><p></p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>        num = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>                self.x = <span class="hljs-number">4</span><br>                self.y = <span class="hljs-number">5</span><br>                C.count = <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><p><em><strong>num  count -&gt;()x  y -&gt;()</strong></em></p></li><li><p>bb  printBB() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BB</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">printBB</span>():<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;no zuo no die&quot;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>bb = BB()<br><span class="hljs-meta">&gt;&gt;&gt; </span>bb.printBB()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;pyshell#8&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    bb.printBB()<br>TypeError: printBB() takes <span class="hljs-number">0</span> positional arguments but <span class="hljs-number">1</span> was given<br>  <br></code></pre></td></tr></table></figure><p> Python  Python  ( python ) Python  bb  TypeError 0  1 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BB</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">printBB</span>(<span class="hljs-params">self</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;no zuo no die&quot;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>bb = BB()<br><span class="hljs-meta">&gt;&gt;&gt; </span>bb.printBB()<br>no zuo no die<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-28"><a href="#Practice-28" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>; </p><p>+1-1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ;</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># +1-1</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">InstanceCount</span>:<br>    count = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        InstanceCount.count += <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        InstanceCount.count -= <span class="hljs-number">1</span><br><br><br>instance1 = InstanceCount()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % InstanceCount.count)<br>instance2 = InstanceCount()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % InstanceCount.count)<br><span class="hljs-keyword">del</span> instance1<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % InstanceCount.count)<br><span class="hljs-keyword">del</span> instance2<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d&#x27;</span> % InstanceCount.count)<br></code></pre></td></tr></table></figure></li><li><p>StackLIFO</p><p><img src="http://img.5iqiqu.com/images11/52/524e01c5292d03e0ef6807153b1aa395.png" alt=""></p><p></p><ul><li><p>isEmpty():TrueTalse</p></li><li><p>push():</p></li><li><p>pop():</p></li><li><p>top():</p></li><li><p>bottom():</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.data = []<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isEmpty</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.data) == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">self, x</span>):<br>        self.data.append(x)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params">self</span>):<br>        self.data.pop()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">top</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-built_in">print</span>(self.data[-<span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">except</span> IndexError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;no data in stack&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bottom</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-built_in">print</span>(self.data[<span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">except</span> IndexError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;no data in stack&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><h1 id="040-BIF"><a href="#040-BIF" class="headerlink" title="040. BIF"></a>040. BIF</h1><h2 id="-35"><a href="#-35" class="headerlink" title=""></a></h2><ul><li><code>issubclass(cls, class_or_tuple)</code>  </li></ul><blockquote><p>&gt;&gt;&gt; help(issubclass)</p><p>Help on built-in function issubclass in module builtins:</p><p><strong>issubclass</strong>(cls, class_or_tuple, &#x2F;)</p><p> Return whether cls is a derived from another class or is the same class.</p><p> A tuple, as in <code>issubclass(x, (A, B, ...))</code>, may be given as the target to</p><p> check against. This is equivalent to &#96;&#96;issubclass(x, A) or issubclass(x, B)</p><p> or &#96;&#96; etc.</p></blockquote><ul><li><p></p></li><li><p>classinfoclassTrue</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">pass</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">A</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">pass</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">issubclass</span>(B, A)<br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">issubclass</span>(B, B)<br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">issubclass</span>(B, <span class="hljs-built_in">object</span>)   <span class="hljs-comment"># object </span><br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">pass</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">issubclass</span>(B, C)<br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure></li><li><p><code>isinstance(object, class_or_tuple)</code></p><blockquote><p>&gt;&gt;&gt; help(isinstance)</p><p>Help on built-in function isinstance in module builtins:</p><p><strong>isinstance</strong>(obj, class_or_tuple, &#x2F;)</p><p>  Return whether an object is an instance of a class or of a subclass thereof.</p><p>  A tuple, as in <code>isinstance(x, (A, B, ...))</code>, may be given as the target to</p><p>  check against. This is equivalent to &#96;&#96;isinstance(x, A) or isinstance(x, B)</p><p>  or &#96;&#96; etc.</p></blockquote><ul><li><p>False</p></li><li><p>TypeError</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b1 = B()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">isinstance</span>(b1, B)</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">isinstance</span>(b1, A)</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">isinstance</span>(b1, C)</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">isinstance</span>(b1, (A, B, C))</span><br>True<br></code></pre></td></tr></table></figure></li></ul></li><li><p><code>hasattr(object, name)</code></p><ul><li>The arguments are an object and a string. The result is True if the string is the name of one of the objects attributes, False if not. (This is implemented by calling getattr(object, name) and seeing whether it raises an AttributeError or not.)</li><li> TrueFalse</li><li>(object)(name)</li></ul><blockquote><p>&gt;&gt;&gt; help(hasattr)</p><p>Help on built-in function hasattr in module builtins:</p><p><strong>hasattr</strong>(obj, name, &#x2F;)</p><p> Return whether the object has an attribute with the given name.</p><p> This is done by calling getattr(obj, name) and catching AttributeError.</p></blockquote><ul><li><p>Attractive &#x3D; attribute: </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x=<span class="hljs-number">0</span></span>):<br><span class="hljs-meta">... </span>            self.x = x<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c1 = C()<br>   <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">hasattr</span>(c1, <span class="hljs-string">&#x27;x&#x27;</span>)   <span class="hljs-comment"># x</span><br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">hasattr</span>(c1, x) <br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>NameError: name <span class="hljs-string">&#x27;x&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br></code></pre></td></tr></table></figure></li></ul></li><li><p><code>getattr(object, name[, default])</code></p><ul><li>default)defaultArttributeError</li></ul><blockquote><p>&gt;&gt;&gt; help(getattr)</p><p>Help on built-in function getattr in module builtins:</p><p><strong>getattr</strong>()</p><p>  getattr(object, name[, default]) -&gt; value</p><p>  Get a named attribute from an object; getattr(x, y) is equivalent to x.y.</p><p>  When a default argument is given, it is returned when the attribute doesnt</p><p>  exist; without it, an exception is raised in that case.</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">getattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>)<br><br>Traceback (most recent call last):<br><br> File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br><br>AttributeError: <span class="hljs-string">&#x27;C&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;y&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">getattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><br><span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><code>setattr(obj, name, value)</code></p><ul><li></li></ul><blockquote><p>&gt;&gt;&gt; help(setattr)</p><p>Help on built-in function setattr in module builtins:</p><p><strong>setattr</strong>(obj, name, value, &#x2F;)</p><p>  Sets the named attribute on the given object to the specified value.</p><p>  setattr(x, y, v) is equivalent to &#96;&#96;x.y &#x3D; v</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">setattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;Turtle&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">getattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-string">&#x27;Turtle&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><code>delattr(obj, name)</code> </p><ul><li>AttributeError</li></ul><blockquote><p>&gt;&gt;&gt; help(delattr)</p><p>Help on built-in function delattr in module builtins:</p><p><strong>delattr</strong>(obj, name, &#x2F;)</p><p>  Deletes the named attribute from the given object.</p><p>  delattr(x, y) is equivalent to &#96;&#96;del x.y</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">delattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">getattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-string">&#x27;&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">delattr</span>(c1, <span class="hljs-string">&#x27;y&#x27;</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: y<br></code></pre></td></tr></table></figure></li><li><p><code>property(fget=None, fset=None, fdel=None, doc=None)</code></p><ul><li></li><li></li></ul><p>property x property x</p><blockquote><p>&gt;&gt;&gt; help(property)<br>Help on class property in module builtins:</p><p>class property(object)<br> |  property(fget&#x3D;None, fset&#x3D;None, fdel&#x3D;None, doc&#x3D;None)<br> |<br> |  Property attribute.<br> |<br> |    fget<br> |      function to be used for getting an attribute value<br> |    fset<br> |      function to be used for setting an attribute value<br> |    fdel<br> |      function to be used for deling an attribute<br> |    doc<br> |      docstring<br> |<br> |  Typical use is to define a managed attribute x:<br> |<br> |  class C(object):<br> |      def getx(self): return self._x<br> |      def setx(self, value): self._x &#x3D; value<br> |      def delx(self): del self._x<br> |      x &#x3D; property(getx, setx, delx, Im the x property.)<br> |<br> |  Decorators make defining new properties or modifying existing ones easy:<br> |<br> |  class C(object):<br> |      @property<br> |      def x(self):<br> |          I am the x property.<br> |          return self._x<br> |      @x.setter<br> |      def x(self, value):<br> |          self._x &#x3D; value<br> |      @x.deleter<br> |      def x(self):<br> |          del self._x<br> |<br> |  Methods defined here:<br> |<br> |  <strong>delete</strong>(self, instance, &#x2F;)<br> |      Delete an attribute of instance.<br> |<br> |  <strong>get</strong>(self, instance, owner, &#x2F;)<br> |      Return an attribute of instance, which is of type owner.<br> |<br> |  <strong>getattribute</strong>(self, name, &#x2F;)<br> |      Return getattr(self, name).<br> |<br> |  <strong>init</strong>(self, &#x2F;, *args, **kwargs)<br> |      Initialize self.  See help(type(self)) for accurate signature.<br> |<br> |  <strong>set</strong>(self, instance, value, &#x2F;)<br> |      Set an attribute of instance to value.<br> |<br> |  deleter()<br> |      Descriptor to obtain a copy of the property with a different deleter.<br> |<br> |  getter()<br> |      Descriptor to obtain a copy of the property with a different getter.<br> |<br> |  setter()<br> |      Descriptor to obtain a copy of the property with a different setter.<br> |<br> |  -<br> |  Static methods defined here:<br> |<br> |  <strong>new</strong>(*args, **kwargs) from builtins.type<br> |      Create and return a new object.  See help(type) for accurate signature.<br> |<br> |  -<br> |  Data descriptors defined here:<br> |<br> |  <strong>isabstractmethod</strong><br> |<br> |  fdel<br> |<br> |  fget<br> |<br> |  fset</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size=<span class="hljs-number">10</span></span>):<br>        self.size = size<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getSize</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.size<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setSize</span>(<span class="hljs-params">self, value</span>):<br>        self.size = value<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">delSize</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">del</span> self.size<br><br>    x = <span class="hljs-built_in">property</span>(getSize(), setSize(), delSize())<br></code></pre></td></tr></table></figure><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c = C()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c.getSize()</span><br>10<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c.x </span><br>10<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c.x = <span class="hljs-number">18</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c.x</span><br>18<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c.getSize()</span><br>18<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">del</span> c.x</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">c.x</span><br>Traceback (most recent call last):<br>  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;<br>  File &quot;C:\Users\felix_yang\PycharmProjects\learningpython\40\example_property.py&quot;, line 6, in getSize<br>    return self.size<br>AttributeError: &#x27;C&#x27; object has no attribute &#x27;size&#x27;<br></code></pre></td></tr></table></figure></li></ul><h2 id="Python-"><a href="#Python-" class="headerlink" title="Python "></a><a href="https://fishc.com.cn/thread-51109-1-1.html">Python </a></h2><p><strong>1. </strong></p><p></p><p></p><p></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timeslong</span>(<span class="hljs-params">func</span>):<br>    start = time.time()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time starting ! &quot;</span>)<br>    func()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time ending ! &quot;</span>)<br>    end = time.time()<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;It&#x27;s used : %s.&quot;</span> % (end - start)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC.&quot;</span>)<br><br>t = timeslong(myfunc)<br><span class="hljs-built_in">print</span>(t)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vhdl">It<span class="hljs-symbol">&#x27;s</span> <span class="hljs-built_in">time</span> starting ! <br>Hello FishC.<br>It<span class="hljs-symbol">&#x27;s</span> <span class="hljs-built_in">time</span> ending ! <br>It<span class="hljs-symbol">&#x27;s</span> used : <span class="hljs-number">0.02497720718383789</span>.<br></code></pre></td></tr></table></figure><p>timeslong() myfunc()</p><p> timeslong() </p><p> myfunc2  timeslong(myfunc2) </p><p>Python </p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timeslong</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call</span>():<br>        start = time.time()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time starting ! &quot;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time ending ! &quot;</span>)<br>        end = time.time()<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;It&#x27;s used : %s.&quot;</span> % (end - start)<br>    <span class="hljs-keyword">return</span> call<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC.&quot;</span>)<br><br><span class="hljs-built_in">print</span>(myfunc())<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">It<span class="hljs-string">&#x27;s time starting ! </span><br><span class="hljs-string">Hello FishC.</span><br><span class="hljs-string">It&#x27;</span>s time ending ! <br>It<span class="hljs-string">&#x27;s used : 0.022337913513183594.</span><br></code></pre></td></tr></table></figure><p> timeslong() </p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timeslong</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call</span>():<br>        start = time.time()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time starting ! &quot;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time ending ! &quot;</span>)<br>        end = time.time()<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;It&#x27;s used : %s.&quot;</span> % (end - start)<br>    <span class="hljs-keyword">return</span> call<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfuna</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello World.&quot;</span>)<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunb</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello Python.&quot;</span>)<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC.&quot;</span>)<br><br><span class="hljs-built_in">print</span>(myfuna())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;========================================&quot;</span>)<br><span class="hljs-built_in">print</span>(myfunb())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;========================================&quot;</span>)<br><span class="hljs-built_in">print</span>(myfunc())<br></code></pre></td></tr></table></figure><p></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">It&#x27;s time starting ! <br>Hello World.<br>It&#x27;s time ending ! <br><span class="hljs-section">It&#x27;s used : 0.023639202117919922.</span><br><span class="hljs-section">========================================</span><br>It&#x27;s time starting ! <br>Hello Python.<br>It&#x27;s time ending ! <br><span class="hljs-section">It&#x27;s used : 0.01770305633544922.</span><br><span class="hljs-section">========================================</span><br>It&#x27;s time starting ! <br>Hello FishC.<br>It&#x27;s time ending ! <br>It&#x27;s used : 0.014674186706542969.<br></code></pre></td></tr></table></figure><p></p><p></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br> <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">timeslong</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, func</span>):<br>        self.func = func<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self</span>):<br>        start = time.time()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time starting ! &quot;</span>)<br>        self.func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s time ending ! &quot;</span>)<br>        end = time.time()<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;It&#x27;s used : %s.&quot;</span> % (end - start)<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfuna</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello World.&quot;</span>)<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunb</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello Python.&quot;</span>)<br><br><span class="hljs-meta">@timeslong</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC.&quot;</span>)<br><br><span class="hljs-built_in">print</span>(myfuna())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;========================================&quot;</span>)<br><span class="hljs-built_in">print</span>(myfunb())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;========================================&quot;</span>)<br><span class="hljs-built_in">print</span>(myfunc())<br></code></pre></td></tr></table></figure><p></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">It&#x27;s time starting ! <br>Hello World.<br>It&#x27;s time ending ! <br><span class="hljs-section">It&#x27;s used : 0.03470897674560547.</span><br><span class="hljs-section">========================================</span><br>It&#x27;s time starting ! <br>Hello Python.<br>It&#x27;s time ending ! <br><span class="hljs-section">It&#x27;s used : 0.01266622543334961.</span><br><span class="hljs-section">========================================</span><br>It&#x27;s time starting ! <br>Hello FishC.<br>It&#x27;s time ending ! <br>It&#x27;s used : 0.014008522033691406.<br></code></pre></td></tr></table></figure><p>Python  staticmethodclassmethod  property</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span>(<span class="hljs-title class_ inherited__">object</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_hello</span>(<span class="hljs-params">cls</span>):<br><span class="hljs-meta">... </span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC&quot;</span>)<br></code></pre></td></tr></table></figure><p> .() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>Hello.print_hello()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;pyshell#2&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    Hello.print_hello()<br>TypeError: print_hello() missing <span class="hljs-number">1</span> required positional argument: <span class="hljs-string">&#x27;cls&#x27;</span><br></code></pre></td></tr></table></figure><p> @classmethod </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span>(<span class="hljs-title class_ inherited__">object</span>):<br><span class="hljs-meta">... </span>    @<span class="hljs-built_in">classmethod</span><br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_hello</span>(<span class="hljs-params">cls</span>):<br><span class="hljs-meta">... </span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello FishC&quot;</span>)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>Hello.print_hello()<br>Hello FishC<br></code></pre></td></tr></table></figure><p> @classmethod print_hello()  Hello.print_hello() </p><h4 id="staticmethodclassmethod"><a href="#staticmethodclassmethod" class="headerlink" title="staticmethodclassmethod"></a>staticmethodclassmethod</h4><ul><li><p>@staticmethodselfcls</p></li><li><p>@classmethodselfcls</p><p>@staticmethod..<br>@classmethodcls<br></p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    bar = <span class="hljs-number">1</span>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">self</span>):  <br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;foo&#x27;</span>  <br><br><span class="hljs-meta">    @staticmethod  </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">static_foo</span>():  <br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;static_foo&#x27;</span>  <br>        <span class="hljs-built_in">print</span> A.bar  <br><br><span class="hljs-meta">    @classmethod  </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">class_foo</span>(<span class="hljs-params">cls</span>):  <br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;class_foo&#x27;</span>  <br>        <span class="hljs-built_in">print</span> cls.bar  <br>        cls().foo()  <br><span class="hljs-comment">###  </span><br>A.static_foo()  <br>A.class_foo()  <br>   <span class="hljs-number">123456789101112131415161718123456789101112131415161718</span><br></code></pre></td></tr></table></figure><p></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">static<span class="hljs-emphasis">_foo</span><br><span class="hljs-emphasis">1</span><br><span class="hljs-emphasis">class_</span>foo<br>1<br>foo<br></code></pre></td></tr></table></figure><h2 id="property-"><a href="#property-" class="headerlink" title="property "></a><strong>property </strong></h2><p><strong>property(fget&#x3D;None, fset&#x3D;None, fdel&#x3D;None, doc&#x3D;None)</strong></p><p>Python </p><p>property() BIF</p><p><em></em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self._x = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getx</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self._x<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setx</span>(<span class="hljs-params">self, value</span>):<br>        self._x = value<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">delx</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">del</span> self._x<br>    x = <span class="hljs-built_in">property</span>(getx, setx, delx, <span class="hljs-string">&quot;I&#x27;m the &#x27;x&#x27; property.&quot;</span>)<br><br></code></pre></td></tr></table></figure><p>property()  getx setx delx</p><p>property()  setx  _x  getx  setx  getx  set_x  get_x</p><p> property()  _x  x  property()  x </p><p><strong></strong></p><p><a href="http://bbs.fishc.com/thread-51109-1-2.html">Python </a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self._x = <span class="hljs-literal">None</span><br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;I&#x27;m the &#x27;x&#x27; property.&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> self._x<br><br><span class="hljs-meta">    @x.setter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self, value</span>):<br>        self._x = value<br><br><span class="hljs-meta">    @x.deleter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">del</span> self._x<br><br></code></pre></td></tr></table></figure><p> _x </p><h2 id="-33"><a href="#-33" class="headerlink" title=""></a></h2><h3 id="Quiz-33"><a href="#Quiz-33" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p>issubclass(cls, class)</p></li><li><p> a   A </p><p>isinstance(a, A)</p></li><li><p></p><p><code>hasattr(object, name)</code> </p><p> <code>getattr(object, name[, default])</code> defaul message</p></li><li><p>Python  BIF  property() </p><p>property() </p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size=<span class="hljs-number">10</span></span>):<br>self.size = size<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getXSize</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">return</span> self.size<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setXSize</span>(<span class="hljs-params">self, value</span>):<br>self.size = value<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delXSize</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">del</span> self.size<br><br><span class="hljs-comment"># </span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-number">12</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x<br><span class="hljs-number">12</span><br></code></pre></td></tr></table></figure><p></p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">x = <span class="hljs-keyword">property</span><span class="hljs-title"></span>(getXSize, setXSize, delXSize)<br></code></pre></td></tr></table></figure></li><li><p><a href="http://bbs.fishc.com/thread-51109-1-1.html">Python </a><br>A</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">CodeA:</span><br><span class="hljs-symbol">    <span class="hljs-symbol">def</span></span> <span class="hljs-symbol">foo</span>():<br>        <span class="hljs-symbol">print</span>(&quot; <span class="hljs-symbol">foo</span>()&quot;)<br><br>        #  <span class="hljs-symbol">foo</span>() <br>        <span class="hljs-symbol">foo</span> = <span class="hljs-symbol">staticmethod</span>(<span class="hljs-symbol">foo</span>)<br><br></code></pre></td></tr></table></figure><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">CodeA:</span><br><span class="hljs-symbol"></span>@<span class="hljs-symbol">staticmethod</span><br>    <span class="hljs-symbol">def</span> <span class="hljs-symbol">foo</span>():<br>        <span class="hljs-symbol">print</span>(&quot; <span class="hljs-symbol">foo</span>()&quot;)<br>        <br>        <br>        #  <span class="hljs-symbol">foo</span>() <br>        # <span class="hljs-symbol">foo</span> = <span class="hljs-symbol">staticmethod</span>(<span class="hljs-symbol">foo</span>)<br></code></pre></td></tr></table></figure><p>B</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">CodeB:</span><br><span class="hljs-symbol">    <span class="hljs-symbol">def</span></span> <span class="hljs-symbol">foo</span>(<span class="hljs-symbol">cls</span>):<br>        <span class="hljs-symbol">print</span>(&quot; <span class="hljs-symbol">foo</span>()&quot;)<br><br>        #  <span class="hljs-symbol">foo</span>() <br>        <span class="hljs-symbol">foo</span> = <span class="hljs-symbol">classmethod</span>(<span class="hljs-symbol">foo</span>)<br></code></pre></td></tr></table></figure><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">CodeB:</span><br><span class="hljs-symbol"></span>@<span class="hljs-symbol">classmethod</span><br>    <span class="hljs-symbol">def</span> <span class="hljs-symbol">foo</span>(<span class="hljs-symbol">cls</span>):<br>        <span class="hljs-symbol">print</span>(&quot; <span class="hljs-symbol">foo</span>()&quot;)<br><br>        #  <span class="hljs-symbol">foo</span>() <br>        # <span class="hljs-symbol">foo</span> = <span class="hljs-symbol">classmethod</span>(<span class="hljs-symbol">foo</span>)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs less"><br><span class="hljs-variable">@something</span><br>def <span class="hljs-built_in">f</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I love FishC.com!&quot;</span>)<br>    <br>f = <span class="hljs-built_in">something</span>(f)<br><br></code></pre></td></tr></table></figure><p></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs scss"><br><br>def <span class="hljs-built_in">something1</span>(func):<br>    def <span class="hljs-built_in">call</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---start----&#x27;</span>)<br>        start = time.<span class="hljs-built_in">perf_counter</span>()<br>        <span class="hljs-built_in">func</span>()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-------end------&#x27;</span>)<br>        end = time.<span class="hljs-built_in">perf_counter</span>()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;used: %s &#x27;</span> % (end - start))<br>    return call<br>@something1<br>def <span class="hljs-built_in">f</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I love FishC.com!&quot;</span>)<br>    <br><span class="hljs-built_in">f</span>()<br> <br><br></code></pre></td></tr></table></figure></li><li><p><a href="http://bbs.fishc.com/thread-51106-1-1.html">property </a> 4 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size=<span class="hljs-number">10</span></span>):<br>        self.size = size<br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;I&#x27;m the &#x27;x&#x27; property.&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> self.size<br><br><span class="hljs-meta">    @x.setter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self, value</span>):<br>        self.size = value<br><br><span class="hljs-meta">    @x.deleter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">del</span> self.size<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-29"><a href="#Practice-29" class="headerlink" title="Practice"></a>Practice</h3><h1 id="041-"><a href="#041-" class="headerlink" title="041. "></a>041. </h1><h2 id="-36"><a href="#-36" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p><code>__init__</code></p></li><li><p>pythonpython</p></li><li><p></p></li><li><p><code>__init__(self[, ...])</code> noneinit </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>self.x = x<br>self.y = y<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getPeri</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">return</span> (self.x + self.y) * <span class="hljs-number">2</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getArea</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">return</span> self.x * self.y<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>rect = Rectangle(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>rect.getPeri()<br><span class="hljs-number">14</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>rect.getArea()<br><span class="hljs-number">12</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;A fo init&quot;</span><br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;pyshell#31&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    a = A()<br>TypeError: __init__() should <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, <span class="hljs-keyword">not</span> <span class="hljs-string">&#x27;str&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><code>__new__(cls[, ...])</code> <code>__init__(self[, ...])</code> </p><ul><li><p></p></li><li><p>init </p></li><li><p>new  </p></li><li><p>new new </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">CapStr</span>(<span class="hljs-title class_ inherited__">str</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, string</span>):<br>string = string.upper()<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>.__new__(cls, string)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = CapStr(<span class="hljs-string">&#x27;I love FishC.com!&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br><span class="hljs-string">&#x27;I LOVE FISHC.COM!&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><code>__del__(self)</code></p><ul><li><p></p></li><li><p> <code>del x</code>  <code>x.__del__()</code> del </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;__init__&#x27;</span>)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;__del__&#x27;</span>)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c1 = C()<br>__init__<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c2 = c1  <span class="hljs-comment"># c2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c3 = c2  <span class="hljs-comment"># c3</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> c3<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> c2<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> c1   <span class="hljs-comment"># `__del__(self)`</span><br>__del__<br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-34"><a href="#-34" class="headerlink" title=""></a></h2><h3 id="Quiz-34"><a href="#Quiz-34" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p> __ init __ </p><p> <strong>init</strong> </p></li><li><p></p></li></ol>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>                <span class="hljs-keyword">return</span> x + y<br></code></pre></td></tr></table></figure><p>   init none</p><ol start="4"><li><p> __ new __ </p><p><strong>new</strong>  cls </p></li><li><p>__ del __ </p><p> __ init __  __ new __  Python  __ del __ <br> del x  x.__ del <strong>()</strong> del __ </p></li></ol><h3 id="Practice-30"><a href="#Practice-30" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> FileObject </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment">#  FileObject </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FileObject</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, filename=<span class="hljs-string">&#x27;p_01.txt&#x27;</span></span>):<br>        <span class="hljs-comment">#</span><br>        self.new_file = <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">&#x27;r+&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        self.new_file.close()<br>        <span class="hljs-keyword">del</span> self.new_file<br></code></pre></td></tr></table></figure></li><li><p> &#x3D; *1.8+32</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(C2F(<span class="hljs-number">32</span>))<br><span class="hljs-number">89.6</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C2F</span>(<span class="hljs-title class_ inherited__">float</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, c_number</span>):<br>        c_number = c_number * <span class="hljs-number">1.8</span> + <span class="hljs-number">32</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">float</span>.__new__(cls, c_number)<br><br><br><span class="hljs-built_in">print</span>(C2F(<span class="hljs-number">32</span>))<br></code></pre></td></tr></table></figure></li><li><p> int  ASCII  ord()  ASCII </p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Nint(<span class="hljs-number">123</span>))<br><span class="hljs-number">123</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Nint(<span class="hljs-number">1.5</span>))<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Nint(<span class="hljs-string">&#x27;A&#x27;</span>))<br><span class="hljs-number">65</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Nint(<span class="hljs-string">&#x27;FishC&#x27;</span>))<br><span class="hljs-number">461</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Nint</span>(<span class="hljs-title class_ inherited__">int</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, arg</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(arg, <span class="hljs-built_in">str</span>):<br>            sum_number = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> arg:<br>                sum_number += <span class="hljs-built_in">ord</span>(each)<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__new__(cls, sum_number)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__new__(cls, arg)<br><br><br><span class="hljs-built_in">print</span>(Nint(<span class="hljs-number">123</span>))<br><span class="hljs-built_in">print</span>(Nint(<span class="hljs-number">1.5</span>))<br><span class="hljs-built_in">print</span>(Nint(<span class="hljs-string">&#x27;A&#x27;</span>))<br><span class="hljs-built_in">print</span>(Nint(<span class="hljs-string">&#x27;FishC&#x27;</span>))<br></code></pre></td></tr></table></figure></li></ol><h1 id="042-"><a href="#042-" class="headerlink" title="042. "></a>042. </h1><h2 id="-37"><a href="#-37" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>python2.2  <em></em>  <em></em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">int</span>(),<span class="hljs-built_in">float</span>(), <span class="hljs-built_in">bool</span>(), <span class="hljs-built_in">str</span>(), <span class="hljs-built_in">list</span>(),<span class="hljs-built_in">tuple</span>(), <span class="hljs-built_in">type</span>(), <span class="hljs-built_in">dict</span>(), <span class="hljs-built_in">set</span>(), <span class="hljs-built_in">frozenset</span>()<br></code></pre></td></tr></table></figure></li><li><p><strong></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">len</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;builtin_function_or_method&#x27;</span>&gt;<br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">open</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;builtin_function_or_method&#x27;</span>&gt;<br><br><span class="hljs-comment"># ****</span><br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">int</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">list</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br></code></pre></td></tr></table></figure></li><li><p>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(<span class="hljs-built_in">int</span>)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(<span class="hljs-built_in">list</span>)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">pass</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(C)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># int </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;123&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;456&#x27;</span>)<br><br><span class="hljs-comment"># </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br><span class="hljs-number">579</span><br></code></pre></td></tr></table></figure></li><li><p>python</p><table><thead><tr><th>add(self, other)</th><th>+</th></tr></thead><tbody><tr><td>sub(self, other)</td><td>-</td></tr><tr><td>mul(self, other)</td><td>*</td></tr><tr><td>truediv(self, other)</td><td>&#x2F;</td></tr><tr><td>floordiv(self, other)</td><td>&#x2F;&#x2F;</td></tr><tr><td>mod(self, other)</td><td>%</td></tr><tr><td>divmod(self, other)</td><td> divmod() divmod(a, b)a&#x2F;&#x2F;b, a%b)</td></tr><tr><td>pow(self, other[, modulo])</td><td> power()  ** </td></tr><tr><td>lshift(self, other)</td><td>&lt;&lt;</td></tr><tr><td>rshift(self, other)</td><td>&gt;&gt;</td></tr><tr><td>and(self, other)</td><td>&amp;</td></tr><tr><td>xor(self, other)</td><td>^</td></tr><tr><td>or(self, other)</td><td></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">New_int</span>(<span class="hljs-title class_ inherited__">int</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__sub__(self, other)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__sub__</span>(<span class="hljs-params">self, other</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__add__(self, other)<br> <br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = New_int(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = New_int(<span class="hljs-number">5</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br>-<span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a - b<br><span class="hljs-number">8</span><br><br></code></pre></td></tr></table></figure></li></ul><h2 id="-35"><a href="#-35" class="headerlink" title=""></a></h2><h3 id="Quiz-35"><a href="#Quiz-35" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p> Python2.2  int()float()str()list()tuple()  BIF </p><p></p></li><li><p></p><p> a  b a + bPython  a  <strong>add</strong>  add(self, other)</p></li><li><p>_</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">self</span>):<br>                self.foo = <span class="hljs-string">&quot;I love FishC.com!&quot;</span><br>                <span class="hljs-keyword">return</span> self.foo<br><br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>foo = Foo()<br><span class="hljs-meta">&gt;&gt;&gt; </span>foo.foo()<br><span class="hljs-string">&#x27;I love FishC.com!&#x27;</span><br><br></code></pre></td></tr></table></figure><p>BUGBUG</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>                self.foo = <span class="hljs-string">&quot;I love FishC.com!&quot;</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">self</span>):<br>                <span class="hljs-keyword">return</span> self.foo<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>foo = Foo()<br><span class="hljs-meta">&gt;&gt;&gt; </span>foo.foo()<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;pyshell#21&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    foo.foo()<br>TypeError: <span class="hljs-string">&#x27;str&#x27;</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">callable</span><br><br></code></pre></td></tr></table></figure></li><li><p></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>+</td><td>add(self, other)</td></tr><tr><td>-</td><td>sub(self, other)</td></tr><tr><td>*</td><td><strong><strong>mul</strong></strong>(self, value)</td></tr><tr><td>&#x2F;</td><td>truediv(self, other)</td></tr><tr><td>&#x2F;&#x2F;</td><td>floordiv(self, other)</td></tr><tr><td>%</td><td>mod(self, other)</td></tr><tr><td>divmod(a, b)</td><td>divmod(self, other)</td></tr><tr><td>**</td><td>pow(self, other[, modulo])</td></tr><tr><td>&lt;&lt;</td><td>lshift(self, other)</td></tr><tr><td>&gt;&gt;</td><td>rshift(self, other)</td></tr><tr><td>&amp;</td><td>and(self, other)</td></tr><tr><td>^</td><td>xor(self, other)</td></tr><tr><td>|</td><td>or(self, other)</td></tr></tbody></table></li><li><p> Python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">calc</span>(<span class="hljs-params">a, b, c</span>):<br>        <span class="hljs-keyword">return</span> (a + b) * c<br><br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>a = calc(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = calc([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], <span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c = calc(<span class="hljs-string">&#x27;love&#x27;</span>, <span class="hljs-string">&#x27;FishC&#x27;</span>, <span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(a)<br><span class="hljs-number">9</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(b)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c)<br>loveFishCloveFishCloveFishC<br><br></code></pre></td></tr></table></figure><p> Python duck typing<br><a href="https://blog.csdn.net/qq_41556318/article/details/84640823"></a></p></li></ol><h3 id="Practice-31"><a href="#Practice-31" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> Python  Nstr A  B A  B </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  Python </span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#  Nstr A  B A  B </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Nstr</span>(<span class="hljs-title class_ inherited__">str</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__sub__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.replace(other, <span class="hljs-string">&#x27;&#x27;</span>)<br><br><br>s1 = Nstr(<span class="hljs-string">&#x27;felixyangfelixyang&#x27;</span>)<br>s2 = Nstr(<span class="hljs-string">&#x27;felix&#x27;</span>)<br><span class="hljs-built_in">print</span>(s1 - s2)<br></code></pre></td></tr></table></figure></li><li><p> Nstr</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = Nstr(<span class="hljs-string">&#x27;I love FishC.com!&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a &lt;&lt; <span class="hljs-number">3</span><br><span class="hljs-string">&#x27;ove FishC.com!I l&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a &gt;&gt; <span class="hljs-number">3</span><br><span class="hljs-string">&#x27;om!I love FishC.c&#x27;</span><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Nstr</span>(<span class="hljs-title class_ inherited__">str</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lshift__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self[other:] + self[:other]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__rshift__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self[-other:] + self[: -other]<br><br><br>a = Nstr(<span class="hljs-string">&#x27;I love FishC.com!&#x27;</span>)<br><span class="hljs-built_in">print</span>(a &lt;&lt; <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(a &gt;&gt; <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure></li><li><p> Nstr ASCII </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Nstr(<span class="hljs-string">&#x27;FishC&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = Nstr(<span class="hljs-string">&#x27;love&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br><span class="hljs-number">899</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a - b<br><span class="hljs-number">23</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a * b<br><span class="hljs-number">201918</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a / b<br><span class="hljs-number">1.052511415525114</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a // b<br><span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Nstr</span>(<span class="hljs-title class_ inherited__">int</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, arg</span>):<br>        sum_number = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> arg:<br>            sum_number += <span class="hljs-built_in">ord</span>(each)<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__new__(cls, sum_number)<br><br>a = Nstr(<span class="hljs-string">&#x27;FishC&#x27;</span>)<br>b = Nstr(<span class="hljs-string">&#x27;love&#x27;</span>)<br><span class="hljs-built_in">print</span>(a + b)<br><span class="hljs-built_in">print</span>(a - b)<br><span class="hljs-built_in">print</span>(a * b)<br><span class="hljs-built_in">print</span>(a / b, a // b)<br></code></pre></td></tr></table></figure></li></ol><h1 id="043-2"><a href="#043-2" class="headerlink" title="043. 2"></a>043. 2</h1><h2 id="-38"><a href="#-38" class="headerlink" title=""></a></h2><ul><li><p>python </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">int</span>(<span class="hljs-title class_ inherited__">int</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__sub__(self, other)<br><br>    <br><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;5&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br><span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;3&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br><span class="hljs-number">2</span><br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure></li><li><p><a href="https://blog.csdn.net/nanhuaibeian/article/details/86687806"></a>r</p><ul><li><p>a+b abaa__add__()Pythonb__radd__()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Nint</span>(<span class="hljs-title class_ inherited__">int</span>):<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__radd__</span>(<span class="hljs-params">self, other</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__sub__(self, other)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Nint(<span class="hljs-number">5</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = Nint(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br><span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span> + b<br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li>a &#x3D; a + b a +&#x3D; b</li></ul></li><li><p></p><ul><li>-a</li><li>~a</li></ul></li></ul><h2 id="-36"><a href="#-36" class="headerlink" title=""></a></h2><h3 id="Quiz-36"><a href="#Quiz-36" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>a + b a  <strong>add</strong>  b  <strong>radd</strong> </p><p></p></li><li><p>Python </p><p> a + b, a__add__()Pythonb__radd__()</p></li><li><p></p><p>basecls.method()</p><p>super() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span>(<span class="hljs-title class_ inherited__">Base</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">meth</span> (self):<br>        <span class="hljs-built_in">super</span>(Derived, self).meth()<br></code></pre></td></tr></table></figure></li><li><p> A B</p><p></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">BaseAlias = BaseClass  <span class="hljs-comment"># </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span>(<span class="hljs-title class_ inherited__">BaseAlias</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">meth</span>(<span class="hljs-params">self</span>):<br>        BaseAlias.meth(self)  <span class="hljs-comment"># </span><br>        ...<br></code></pre></td></tr></table></figure></li><li><p>_</p><p>self. <code>.</code></p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs fortran"><span class="hljs-keyword">class</span> C:<br>    <span class="hljs-keyword">number</span> = <span class="hljs-number">0</span><br><br>    def show(self):<br>        <span class="hljs-keyword">return</span> C.<span class="hljs-keyword">number</span><br><br><br>c = C()<br><span class="hljs-built_in">print</span>(c.show())<br><span class="hljs-built_in">print</span>(C.<span class="hljs-keyword">number</span>)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    count = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        A.count += <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getcount</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> A.count<br><br><br>a = A()<br>a1 = A()<br>b = A()<br><br><span class="hljs-built_in">print</span>(a.getcount())<br></code></pre></td></tr></table></figure></li><li><p>_</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css">class C:<br>    @staticmethod<br>    def <span class="hljs-built_in">show</span>(name=<span class="hljs-string">&#x27;felix&#x27;</span>):<br>        <span class="hljs-built_in">print</span>(name)<br><br><br>C.<span class="hljs-built_in">show</span>(<span class="hljs-string">&#x27;yang&#x27;</span>)<br>C.<span class="hljs-built_in">show</span>()<br>c = <span class="hljs-built_in">C</span>()<br>c.<span class="hljs-built_in">show</span>()<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">    @staticmethod   </span><span class="hljs-comment">#static()</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">static</span> (arg1 , arg2 , arg3 ) :<br>        <span class="hljs-built_in">print</span> (arg1 , arg2 , arg3 , arg1 + arg2 + arg3)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nostatic</span> (self) :<br>        <span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;I&#x27;m the fucking normal method&quot;</span>)<br><br><br>c1 = C()<br>c2 = C()<br><br><br><span class="hljs-comment"># </span><br><span class="hljs-built_in">print</span>(c1.static <span class="hljs-keyword">is</span> C.static)<br><span class="hljs-built_in">print</span>(c1.nostatic <span class="hljs-keyword">is</span> C.nostatic)<br><span class="hljs-built_in">print</span>(c1.static)<br><span class="hljs-built_in">print</span>(c2.static)<br><span class="hljs-built_in">print</span>(C.static)<br><br><br><span class="hljs-comment"># </span><br><span class="hljs-built_in">print</span>(c1.nostatic)<br><span class="hljs-built_in">print</span>(c2.nostatic)<br><span class="hljs-built_in">print</span>(C.nostatic)<br><br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-32"><a href="#Practice-32" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><p><img src="https://img-blog.csdnimg.cn/201903032129217.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTcwNzgz,size_16,color_FFFFFF,t_70" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span> (self, *args):  <span class="hljs-comment"># *arg</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> args:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%d&quot;</span> % <span class="hljs-built_in">len</span>(args), end=<span class="hljs-string">&#x27; &#x27;</span>)<br>            <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> args:<br>                <span class="hljs-built_in">print</span>(each, end=<span class="hljs-string">&#x27; &#x27;</span>)<br><br><br>c = C()<br>c = C(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure></li><li><p>Word Word </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Word</span>(<span class="hljs-title class_ inherited__">str</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &lt; <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__gt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &gt; <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) == <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__ne__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) != <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &lt;= <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__ge__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &gt;= <span class="hljs-built_in">len</span>(other)<br><br><br>w1 = Word(<span class="hljs-string">&#x27;123&#x27;</span>)<br>w2 = Word(<span class="hljs-string">&#x27;3456&#x27;</span>)<br><span class="hljs-built_in">print</span>(w1 &gt; w2)<br><span class="hljs-built_in">print</span>(w1 &lt; w2)<br><span class="hljs-built_in">print</span>(w1 != w2)<br><span class="hljs-built_in">print</span>(w1 == w2)<br><span class="hljs-built_in">print</span>(w1 &gt;= w2)<br><span class="hljs-built_in">print</span>(w1 &lt;= w2)<br></code></pre></td></tr></table></figure><p><strong></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Word</span>(<span class="hljs-title class_ inherited__">str</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, word</span>):<br>        <span class="hljs-comment"># __new__str </span><br>        <span class="hljs-comment"># </span><br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27; &#x27;</span> <span class="hljs-keyword">in</span> word:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Value contains the spaces, truncating to first space.&#x27;</span>)<br>            word = word[: word.index(<span class="hljs-string">&#x27; &#x27;</span>)]<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>.__new__(cls, word)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &lt; <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__gt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &gt; <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) == <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__ne__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) != <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &lt;= <span class="hljs-built_in">len</span>(other)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__ge__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self) &gt;= <span class="hljs-built_in">len</span>(other)<br><br><br>w1 = Word(<span class="hljs-string">&#x27;I love you&#x27;</span>)<br>w2 = Word(<span class="hljs-string">&#x27;felix&#x27;</span>)<br><span class="hljs-built_in">print</span>(w1 &gt; w2)<br><span class="hljs-built_in">print</span>(w1 &lt; w2)<br><span class="hljs-built_in">print</span>(w1 != w2)<br><span class="hljs-built_in">print</span>(w1 == w2)<br><span class="hljs-built_in">print</span>(w1 &gt;= w2)<br><span class="hljs-built_in">print</span>(w1 &lt;= w2)<br></code></pre></td></tr></table></figure></li></ol><h1 id="044-"><a href="#044-" class="headerlink" title="044. "></a>044. </h1><h2 id="-39"><a href="#-39" class="headerlink" title=""></a></h2><ul><li><p></p><ul><li><p>timelocaltime</p><ul><li><a href="https://blog.csdn.net/qq_41556318/article/details/84670804">time</a></li></ul></li><li><p>time.localtimestructure_time</p><p>gmtime()localtime()  strptime() struct_time</p><p>IndexAttributeValues<br>0tm_year2015<br>1tm_mon1 ~ 12<br>2tm_mday1 ~ 31<br>3tm_hour0 ~ 23<br>4tm_min0 ~ 59<br>5tm_sec0 ~ 611<br>6tm_wday0 ~ 60 <br>7tm_yday1 ~ 366<br>8tm_isdst0 1 -1-1 <br>1 0 ~ 61^_^60 61 </p></li><li><p><code>__str__</code><code>__repr__</code></p><ul><li>__repr____str__print</li><li>reprstr,  printstrrepr</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;felix is my name&quot;</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c1 = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c1<br>&lt;__main__.C <span class="hljs-built_in">object</span> at <span class="hljs-number">0x100de3fa0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1)<br>felix <span class="hljs-keyword">is</span> my name<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;this is for __repr__&quot;</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c2 = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c2<br>this <span class="hljs-keyword">is</span> <span class="hljs-keyword">for</span> __repr__<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c2)<br>this <span class="hljs-keyword">is</span> <span class="hljs-keyword">for</span> __repr__<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li></li><li>startstop </li><li>t1print(t1) t1</li><li>stop</li><li>t1+t2</li><li></li></ul></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># - </span><br><span class="hljs-comment"># - startstop </span><br><span class="hljs-comment"># - t1print(t1) t1</span><br><span class="hljs-comment"># - stop</span><br><span class="hljs-comment"># - t1+t2</span><br><span class="hljs-comment"># - </span><br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> time <span class="hljs-keyword">as</span> t<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTimer</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, status=<span class="hljs-number">0</span></span>):<br>        self.start_time = <span class="hljs-literal">None</span><br>        self.stop_time = <span class="hljs-literal">None</span><br>        self.status = status<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">self</span>):<br>        self.start_time = t.localtime()<br>        self.status = <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.status == <span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            self.stop_time = t.localtime()<br>            self.status = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):<br>        self.interval_sec = self.stop_time.tm_sec - self.start_time.tm_sec<br>        self.interval_min = self.stop_time.tm_min - self.start_time.tm_min<br>        self.interval_hour = self.stop_time.tm_hour - self.start_time.tm_hour<br>        self.interval = (self.interval_hour * <span class="hljs-number">60</span> + self.interval_min) * <span class="hljs-number">60</span> + self.interval_sec<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(self.interval)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        self.interval_sec = self.stop_time.tm_sec - self.start_time.tm_sec<br>        self.interval_min = self.stop_time.tm_min - self.start_time.tm_min<br>        self.interval_hour = self.stop_time.tm_hour - self.start_time.tm_hour<br>        self.interval = (self.interval_hour * <span class="hljs-number">60</span> + self.interval_min) * <span class="hljs-number">60</span> + self.interval_sec<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(self.interval)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">float</span>(self.__repr__()) + <span class="hljs-built_in">float</span>(other.__repr__())<br></code></pre></td></tr></table></figure></li><li><p></p><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time <span class="hljs-keyword">as</span> t<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mytimer</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment">#3</span><br>        self.unit = [<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>]<br>        self.prompt = <span class="hljs-string">&#x27;&#x27;</span><br>        self.lasted = []<br>        <span class="hljs-comment">#self.start = 0</span><br>        self.begin = <span class="hljs-number">0</span><br>        <span class="hljs-comment">#self.stop = 0</span><br>        self.end = <span class="hljs-number">0</span><br>        <span class="hljs-comment">#</span><br>    <br>    <span class="hljs-comment">#</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.prompt<br><br>    <span class="hljs-comment">#__str__  __repr__</span><br>    __repr__ = __str__<br><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self,other</span>):<br>        prompt = <span class="hljs-string">&quot;&quot;</span><br>        result = []<br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):<br>            result.append(self.lasted[index]+other.lasted[index])<br>            <span class="hljs-keyword">if</span> result[index]:<span class="hljs-comment">#result</span><br>                prompt += (<span class="hljs-built_in">str</span>(result[index])+self.unit[index])<br>        <span class="hljs-keyword">return</span> prompt<br>   <br>    <span class="hljs-comment">#</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">self</span>):<span class="hljs-comment">#self</span><br>        self.begin = t.localtime()<br>        self.prompt = <span class="hljs-string">&#x27;stop()&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;...&#x27;</span>)<br><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.begin:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;start()&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            self.end = t.localtime()<br>            <span class="hljs-comment">#.</span><br>            self._clac()<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <br>    <span class="hljs-comment">#(_)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_clac</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment">#</span><br>        self.lasted = []<br>        <span class="hljs-comment">#</span><br>        self.prompt = <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-comment">#localtime</span><br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):<br>            <span class="hljs-comment">#lasted[]</span><br>            self.lasted.append(self.end[index]-self.begin[index])<br>            <span class="hljs-comment">#</span><br>            <span class="hljs-keyword">if</span> self.lasted[index]: <span class="hljs-comment">#lasted0if</span><br>                self.prompt += <span class="hljs-built_in">str</span>(self.lasted[index])+self.unit[index] <span class="hljs-comment">#+</span><br><br>        <span class="hljs-comment">#</span><br>                self.begin = <span class="hljs-number">0</span><br>                self.end = <span class="hljs-number">0</span><br>                <br>        <br>  <br><span class="hljs-meta">&gt;&gt;&gt; </span>t1 = Mytimer()<br><span class="hljs-meta">&gt;&gt;&gt; </span>t1.start()<br>...<br><span class="hljs-meta">&gt;&gt;&gt; </span>t1.stop()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>t1<br><span class="hljs-number">9</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>t2 = Mytimer()<br><span class="hljs-meta">&gt;&gt;&gt; </span>t2.start()<br>...<br><span class="hljs-meta">&gt;&gt;&gt; </span>t2.stop()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>t2<br><span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>t1+t2<br><span class="hljs-string">&#x27;14&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span> <br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-37"><a href="#-37" class="headerlink" title=""></a></h2><h3 id="Quiz-37"><a href="#Quiz-37" class="headerlink" title="Quiz"></a>Quiz</h3><h3 id="Practice-33"><a href="#Practice-33" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>202222216:30:30202512315:30:30</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs PYTHON"><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-comment"># -*- coding:utf-8 -*-</span><br><span class="hljs-keyword">import</span> time <span class="hljs-keyword">as</span> t<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTimer</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.unit = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br>        self.borrow = [<span class="hljs-number">1</span>, <span class="hljs-number">12</span>, <span class="hljs-number">31</span>, <span class="hljs-number">24</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>]<br>        self.prompt = <span class="hljs-string">&quot;&quot;</span><br>        self.lasted = []<br>        self.begin = <span class="hljs-number">0</span><br>        self.end = <span class="hljs-number">0</span><br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">self</span>):<br>        self.begin = t.localtime()<br>        self.prompt = <span class="hljs-string">&quot;stop()&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.begin:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;start()&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            self.end = t.localtime()<br>            self._calc()<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_calc</span>(<span class="hljs-params">self</span>):<br>        self.lasted = []<br>        self.prompt = <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):<br>            temp = self.end[index] - self.begin[index]<br>            <span class="hljs-comment"># </span><br>            <span class="hljs-keyword">if</span> temp &lt; <span class="hljs-number">0</span>:<br>                <span class="hljs-comment"># </span><br>                i = <span class="hljs-number">1</span><br>                <span class="hljs-keyword">while</span> self.lasted[index-i] &lt; <span class="hljs-number">1</span>:<br>                    self.lasted[index-i] += self.borrow[index-i] - <span class="hljs-number">1</span><br>                    self.lasted[index-i-<span class="hljs-number">1</span>] -= <span class="hljs-number">1</span><br>                    i += <span class="hljs-number">1</span><br>                self.lasted.append(self.borrow[index] + temp)<br>                self.lasted[index-<span class="hljs-number">1</span>] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                self.lasted.append(temp)<br><br>        <span class="hljs-comment"># </span><br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):<br>            <span class="hljs-keyword">if</span> self.lasted[index]:<br>                self.prompt += <span class="hljs-built_in">str</span>(self.lasted[index]) + self.unit[index]<br><br>        <span class="hljs-comment"># </span><br>        self.begin = <span class="hljs-number">0</span><br>        self.end = <span class="hljs-number">0</span><br>        <span class="hljs-built_in">print</span>(self.prompt)<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.prompt<br>    __repr__ = __str__<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        prompt = <span class="hljs-string">&quot;&quot;</span><br>        result = []<br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):<br>            result.append(self.lasted[index] + other.lasted[index])<br>            <span class="hljs-keyword">if</span> result[index]:<br>                prompt += (<span class="hljs-built_in">str</span>(result[index]) + self.unit[index])<br>        <span class="hljs-keyword">return</span> prompt<br><br><br>t1 = MyTimer()<br>t2 = MyTimer()<br>t1.start()<br>t.sleep(<span class="hljs-number">65</span>)<br>t1.stop()<br>t2.start()<br>t.sleep(<span class="hljs-number">15</span>)<br>t2.stop()<br><span class="hljs-built_in">print</span>(t1 + t2)<br></code></pre></td></tr></table></figure></li><li><p>313029?31</p><p>.</p><p>timeperf_counter()process_time()perf_counter();process_time()CPU</p><p>perf_counterprocess_time()set_timer()perf_counter()process_time()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs PYTHON"><span class="hljs-comment"># timeperf_counter()process_time()perf_counter()</span><br><span class="hljs-comment"># process_time()CPU</span><br><br><span class="hljs-comment"># perf_counter()process_time()</span><br><span class="hljs-comment"># set_time()perf_counter()process_time() </span><br><br><br><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-comment"># -*- coding:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> time <span class="hljs-keyword">as</span> t<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTimer</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.prompt = <span class="hljs-string">&quot;&quot;</span><br>        self.lasted = <span class="hljs-number">0.0</span><br>        self.begin = <span class="hljs-number">0</span><br>        self.end = <span class="hljs-number">0</span><br>        self.default_timer = t.perf_counter<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.prompt<br><br>    __repr__ = __str__<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        result = self.lasted + other.lasted<br>        prompt = <span class="hljs-string">&quot;%0.2f&quot;</span> % result<br>        <span class="hljs-keyword">return</span> prompt<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">self</span>):<br>        self.begin = self.default_timer()<br>        self.prompt = <span class="hljs-string">&quot;stop()&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.begin:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;start()&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            self.end = self.default_timer()<br>            self._calc()<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_calc</span>(<span class="hljs-params">self</span>):<br>        self.lasted = self.end - self.begin<br>        self.prompt = <span class="hljs-string">&quot;%0.2f&quot;</span> % self.lasted<br>        <span class="hljs-built_in">print</span>(self.prompt)<br>        self.begin = <span class="hljs-number">0</span><br>        self.end = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_timer</span>(<span class="hljs-params">self, timer</span>):<br>        <span class="hljs-keyword">if</span> timer == <span class="hljs-string">&#x27;process_time&#x27;</span>:<br>            self.default_timer = t.process_time<br>        <span class="hljs-keyword">elif</span> timer == <span class="hljs-string">&#x27;perf_counter&#x27;</span>:<br>            self.default_timer = t.perf_counter<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br><br><br>t1 = MyTimer()<br>t1.set_timer(<span class="hljs-string">&#x27;perf_counter&#x27;</span>)<br>t1.start()<br>t.sleep(<span class="hljs-number">5.2</span>)<br>t1.stop()<br>t2 = MyTimer()<br>t2.set_timer(<span class="hljs-string">&#x27;perf_counter&#x27;</span>)<br>t2.start()<br>t.sleep(<span class="hljs-number">5.2</span>)<br>t2.stop()<br><span class="hljs-built_in">print</span>(t1 + t2)<br><br></code></pre></td></tr></table></figure></li><li><p></p><p>1000000</p><p> timeing()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs PYTHON"><span class="hljs-comment"># </span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># 1000000</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#  timeing()</span><br><br><span class="hljs-comment"># !/usr/bin/python</span><br><span class="hljs-comment"># -*- coding:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> time <span class="hljs-keyword">as</span> t<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTimer</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, func, number=<span class="hljs-number">1000000</span></span>):<br>        self.prompt = <span class="hljs-string">&quot;&quot;</span><br>        self.lasted = <span class="hljs-number">0.0</span><br>        self.begin = <span class="hljs-number">0</span><br>        self.end = <span class="hljs-number">0</span><br>        self.default_timer = t.perf_counter<br>        self.number = number<br>        self.func = func<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.prompt<br><br>    __repr__ = __str__<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        result = self.lasted + other.lasted<br>        prompt = <span class="hljs-string">&quot;%0.2f&quot;</span> % result<br>        <span class="hljs-keyword">return</span> prompt<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">timing</span>(<span class="hljs-params">self</span>):<br>        self.begin = self.default_timer()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.number):<br>            self.func()<br>        self.end = self.default_timer()<br>        self.lasted = self.end - self.begin<br>        self.prompt = <span class="hljs-string">&quot; %0.2f &quot;</span> % self.lasted<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_timer</span>(<span class="hljs-params">self, timer</span>):<br>        <span class="hljs-keyword">if</span> timer == <span class="hljs-string">&#x27;process_time&#x27;</span>:<br>            self.default_timer = t.process_time<br>        <span class="hljs-keyword">elif</span> timer == <span class="hljs-string">&#x27;perf_counter&#x27;</span>:<br>            self.default_timer = t.perf_counter<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>():<br>    text = <span class="hljs-string">&quot;I love FishC.com!&quot;</span><br>    char = <span class="hljs-string">&#x27;o&#x27;</span><br>    <span class="hljs-keyword">if</span> char <span class="hljs-keyword">in</span> text:<br>        <span class="hljs-keyword">pass</span><br><br><br>t1 = MyTimer(test)<br>t1.timing()<br><span class="hljs-built_in">print</span>(t1)<br>t2 = MyTimer(test, <span class="hljs-number">10000000</span>)<br>t2.timing()<br><span class="hljs-built_in">print</span>(t2)<br>t3 = MyTimer(test, <span class="hljs-number">100000000</span>)<br>t3.timing()<br><span class="hljs-built_in">print</span>(t3)<br></code></pre></td></tr></table></figure></li><li><p></p><p>time.time(),pythontimeit</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#timeit.timeit</span><br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> timeit  <br><br><span class="hljs-comment">#1000000x=1</span><br>timeit(<span class="hljs-string">&#x27;x=1&#x27;</span>)<br><br><span class="hljs-comment">#x=11(number1000000)</span><br>timeit(<span class="hljs-string">&#x27;x=1&#x27;</span>, number=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment">#,1</span><br>timeit(<span class="hljs-string">&#x27;[i for i in range(10000)]&#x27;</span>, number=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment">#,10000</span><br>timeit(<span class="hljs-string">&#x27;[i for i in range(100) if i%2==0]&#x27;</span>, number=<span class="hljs-number">10000</span>)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs swift">from timeit <span class="hljs-keyword">import</span> timeit<br><br>def <span class="hljs-keyword">func</span>():<br>    s <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1000</span>):<br>        s <span class="hljs-operator">+=</span> i<br>    <span class="hljs-built_in">print</span>(s)<br><br># timeit(<span class="hljs-keyword">_</span><span class="hljs-keyword">_</span>number<span class="hljs-operator">=</span>)<br>t <span class="hljs-operator">=</span> timeit(&#x27;<span class="hljs-keyword">func</span>()&#x27;, &#x27;from __main__ <span class="hljs-keyword">import</span> <span class="hljs-keyword">func</span>&#x27;, number<span class="hljs-operator">=</span><span class="hljs-number">1000</span>)<br><span class="hljs-built_in">print</span>(t)<br></code></pre></td></tr></table></figure><p>1000</p></li></ol><h1 id="045-"><a href="#045-" class="headerlink" title="045. "></a>045. </h1><h2 id="-40"><a href="#-40" class="headerlink" title=""></a></h2><ul><li><p></p><ul><li><p>2</p><ul><li><p><code>.</code><code>.</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            self.name = <span class="hljs-string">&#x27;x-man&#x27;</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.name<br><span class="hljs-string">&#x27;x-man&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>BIFgeattr() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">getattr</span>(c, <span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-string">&#x27;x-man&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">getattr</span>(c, <span class="hljs-string">&#x27;size&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>property </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size</span>):<br><span class="hljs-meta">... </span>            self.size = size<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getSize</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> self.size<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setSize</span>(<span class="hljs-params">self,value</span>):<br><span class="hljs-meta">... </span>            self.size = value<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">delSize</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-keyword">del</span> self.size<br><span class="hljs-meta">... </span>    x = <span class="hljs-built_in">property</span>(getSize, setSize, delSize)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C(<span class="hljs-number">10</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.size<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-number">1</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.size<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> c.x<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.size<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>AttributeError: <span class="hljs-string">&#x27;C&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;size&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">5</span>, <span class="hljs-keyword">in</span> getSize<br>AttributeError: <span class="hljs-string">&#x27;C&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;size&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.size<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x<br><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p> - </p><p></p><table><thead><tr><th><code>__getattr__(self, name)</code></th><th></th></tr></thead><tbody><tr><td><code>__getattribute__(self, name)</code></td><td></td></tr><tr><td><code>__setattr__(self, name)</code></td><td></td></tr><tr><td><code>__delattr__(self, name)</code></td><td></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 4</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattribute__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;getattribute&#x27;</span>)<br>        <span class="hljs-comment"># super</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().__getattribute__(name)<br><br>    <span class="hljs-comment"># ; </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;getattr&#x27;</span>)<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;setattr&#x27;</span>)<br>        <span class="hljs-comment"># super</span><br>        <span class="hljs-built_in">super</span>().__setattr__(name, value)<br><br>    <span class="hljs-comment"># </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;delattr&#x27;</span>)<br>        <span class="hljs-comment"># super</span><br>        <span class="hljs-built_in">super</span>().__delattr__(name)<br><br><br>c = C()<br>c.size<br>c.size = <span class="hljs-number">1</span><br>c.size<br><span class="hljs-keyword">del</span> c.size<br></code></pre></td></tr></table></figure><p>output</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">getattribute          <span class="hljs-comment"># c.size getattribute</span><br><span class="hljs-built_in">getattr</span>               <span class="hljs-comment"># c.size getattr</span><br><span class="hljs-built_in">setattr</span>               <span class="hljs-comment"># c.size = 1 setattr</span><br>getattribute          <span class="hljs-comment"># c.size getattributec.size getattr</span><br><span class="hljs-built_in">delattr</span>               <span class="hljs-comment"># del c.size delattr</span><br></code></pre></td></tr></table></figure></li><li><p></p><ul><li><p></p></li><li><p>square</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># - </span><br><span class="hljs-comment"># - square</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.width = <span class="hljs-number">5</span><br>        self.height = <span class="hljs-number">8</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>        <span class="hljs-keyword">if</span> name == <span class="hljs-string">&#x27;square&#x27;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;it is a square!!&#x27;</span>)<br>            self.width = value<br>            self.height = value<br>        <span class="hljs-comment"># </span><br>        <span class="hljs-built_in">super</span>().__setattr__(name, value)<br>        <br>        <span class="hljs-comment"># </span><br>        <span class="hljs-comment"># self.__dict__[name] = value</span><br><br><br>rec = Rectangle()<br><span class="hljs-built_in">print</span>(rec.width, rec.height)<br><br>rec.square = <span class="hljs-number">10</span><br><span class="hljs-built_in">print</span>(rec.square, rec.width, rec.height)<br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-38"><a href="#-38" class="headerlink" title=""></a></h2><h3 id="Quiz-38"><a href="#Quiz-38" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>        self.name = value + <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><p>1<code>self.name = value + 1</code> <code>__setattr__</code></p><p>2</p><ul><li><p>super()object </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>     <span class="hljs-built_in">super</span>().__setattr__(name, value+<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>        <span class="hljs-comment"># self.name = value + 1</span><br>    self.__dict__[name] = value + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><p><code>__getattribute__()</code></p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattribute__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">3</span>)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">4</span>)<br> <br>                <br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-number">1</span><br><span class="hljs-comment"># </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c.x)<br><span class="hljs-comment"># </span><br><br></code></pre></td></tr></table></figure><p></p><p>3</p><p></p><p>2</p><p>None</p><p> x  c  c.x  <strong>getattribute</strong>()  2  None  print() </p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>)<br>                <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().__getattr__(name)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattribute__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">2</span>)<br>                <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().__getattribute__(name)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">3</span>)<br>                <span class="hljs-built_in">super</span>().__setattr__(name, value)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-number">4</span>)<br>                <span class="hljs-built_in">super</span>().__delattr__(name)<br> <br>                <br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x<br><br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&gt;&gt;&gt; c = C()<br>&gt;&gt;&gt; c.x<br><span class="hljs-number">2</span><br><span class="hljs-number">1</span><br>Traceback (most recent <span class="hljs-keyword">call</span> last):<br>  File &quot;&lt;pyshell#31&gt;&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    c.x<br>  File &quot;&lt;pyshell#29&gt;&quot;, <span class="hljs-type">line</span> <span class="hljs-number">4</span>, <span class="hljs-keyword">in</span> __getattr__<br>    <span class="hljs-keyword">return</span> super().__getattr__(<span class="hljs-type">name</span>)<br>AttributeError: <span class="hljs-string">&#x27;super&#x27;</span> <span class="hljs-keyword">object</span> has <span class="hljs-keyword">no</span> <span class="hljs-keyword">attribute</span> <span class="hljs-string">&#x27;__getattr__&#x27;</span><br><br></code></pre></td></tr></table></figure><p> c.x  <strong>getattribute</strong>()  2 super().<strong>getattribute</strong>() x <strong>getattr</strong>()  1 super().<strong>getattr</strong>() Python  AttributeErrorsuper  <strong>getattr</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">dir</span>(<span class="hljs-built_in">super</span>)<br>[<span class="hljs-string">&#x27;__class__&#x27;</span>, <span class="hljs-string">&#x27;__delattr__&#x27;</span>, <span class="hljs-string">&#x27;__dir__&#x27;</span>, <span class="hljs-string">&#x27;__doc__&#x27;</span>, <span class="hljs-string">&#x27;__eq__&#x27;</span>, <span class="hljs-string">&#x27;__format__&#x27;</span>, <span class="hljs-string">&#x27;__ge__&#x27;</span>, <span class="hljs-string">&#x27;__get__&#x27;</span>, <span class="hljs-string">&#x27;__getattribute__&#x27;</span>, <span class="hljs-string">&#x27;__gt__&#x27;</span>, <span class="hljs-string">&#x27;__hash__&#x27;</span>, <span class="hljs-string">&#x27;__init__&#x27;</span>, <span class="hljs-string">&#x27;__le__&#x27;</span>, <span class="hljs-string">&#x27;__lt__&#x27;</span>, <span class="hljs-string">&#x27;__ne__&#x27;</span>, <span class="hljs-string">&#x27;__new__&#x27;</span>, <span class="hljs-string">&#x27;__reduce__&#x27;</span>, <span class="hljs-string">&#x27;__reduce_ex__&#x27;</span>, <span class="hljs-string">&#x27;__repr__&#x27;</span>, <span class="hljs-string">&#x27;__self__&#x27;</span>, <span class="hljs-string">&#x27;__self_class__&#x27;</span>, <span class="hljs-string">&#x27;__setattr__&#x27;</span>, <span class="hljs-string">&#x27;__sizeof__&#x27;</span>, <span class="hljs-string">&#x27;__str__&#x27;</span>, <span class="hljs-string">&#x27;__subclasshook__&#x27;</span>, <span class="hljs-string">&#x27;__thisclass__&#x27;</span>]<br><br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>                self.counter = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>                self.counter += <span class="hljs-number">1</span><br>                <span class="hljs-built_in">super</span>().__setattr__(name, value)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>                self.counter -= <span class="hljs-number">1</span><br>                <span class="hljs-built_in">super</span>().__delattr__(name)<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>                self.counter = <span class="hljs-number">0</span> <span class="hljs-comment">#  __setattr__ </span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>                self.counter += <span class="hljs-number">1</span><br> __setattr__  self.counter  self.counter  += <span class="hljs-number">1</span><br>                <span class="hljs-built_in">super</span>().__setattr__(name, value)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>                self.counter -= <span class="hljs-number">1</span><br>                <span class="hljs-built_in">super</span>().__delattr__(name)<br><br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-34"><a href="#Practice-34" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p> Demo </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>demo = Demo()<br><span class="hljs-meta">&gt;&gt;&gt; </span>demo.x<br><span class="hljs-string">&#x27;FishC&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>demo.x = <span class="hljs-string">&quot;X-man&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>demo.x<br><span class="hljs-string">&#x27;X-man&#x27;</span><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, name</span>):<br>        self.name = <span class="hljs-string">&#x27;FishC&#x27;</span><br>        <span class="hljs-keyword">return</span> self.name<br><br><br>demo = Demo()<br>demo.x<br>demo.x = <span class="hljs-string">&quot;X-man&quot;</span><br>demo.x<br></code></pre></td></tr></table></figure></li><li><p> 4  Counter </p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>c = Counter()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.counter<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.y = <span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.z = <span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c.counter<br><span class="hljs-number">3</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> c.x<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.counter<br><span class="hljs-number">2</span><br><br></code></pre></td></tr></table></figure><p><strong>bug</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span>:<br>    counter = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>        Counter.counter += <span class="hljs-number">1</span><br>        <span class="hljs-built_in">super</span>().__setattr__(name, value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>        Counter.counter -= <span class="hljs-number">1</span><br>        <span class="hljs-built_in">super</span>().__delattr__(name)<br><br>c = Counter()<br>c.x = <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(c.counter)<br>c.y = <span class="hljs-number">1</span><br>c.z = <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(c.counter)<br><span class="hljs-keyword">del</span> c.x<br><span class="hljs-built_in">print</span>(c.counter)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>                <span class="hljs-built_in">super</span>().__setattr__(<span class="hljs-string">&#x27;counter&#x27;</span>, <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>                <span class="hljs-built_in">super</span>().__setattr__(<span class="hljs-string">&#x27;counter&#x27;</span>, self.counter + <span class="hljs-number">1</span>)<br>                <span class="hljs-built_in">super</span>().__setattr__(name, value)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, name</span>):<br>                <span class="hljs-built_in">super</span>().__setattr__(<span class="hljs-string">&#x27;counter&#x27;</span>, self.counter - <span class="hljs-number">1</span>)<br>                <span class="hljs-built_in">super</span>().__delattr__(name)<br><br></code></pre></td></tr></table></figure></li></ol><h1 id="046-Property"><a href="#046-Property" class="headerlink" title="046. Property"></a>046. Property</h1><h2 id="-41"><a href="#-41" class="headerlink" title=""></a></h2><ul><li><p></p><ul><li><code>__get(self, instance, owner)__</code>       </li><li><code>__set(self, instance, value)__</code>   </li><li><code>__delete(self, instance)__</code>   </li></ul></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDescriptor</span>:<br>  <span class="hljs-comment">#The first parameter, instance, refers to the object from which the descriptor is being called. In our first example, this would mean the client object.</span><br><br><span class="hljs-comment">#The owner parameter is a reference to the class of that object, which following our example (from the previous class diagram in The machinery behind descriptors section) would be ClientClass.</span><br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;getting...&#x27;</span>, self, instance, owner)<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;setting...&#x27;</span>, self, instance, value)<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delete__</span>(<span class="hljs-params">self, instance</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;deleting...&#x27;</span>, self, instance)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br><span class="hljs-meta">... </span>    x = MyDescriptor()<br><span class="hljs-meta">... </span><br><br><br><span class="hljs-comment">#  MyDescriptor</span><br><br><span class="hljs-comment"># Test x  MyDescriptor() Test x</span><br><span class="hljs-comment"># MyDescriptor  x  property </span><br><br><span class="hljs-comment">#  Test  x  MyDescriptor </span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>test = Test()<br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x<br>getting... &lt;__main__.MyDescriptor <span class="hljs-built_in">object</span> at <span class="hljs-number">0x104b398e0</span>&gt; &lt;__main__.Test <span class="hljs-built_in">object</span> at <span class="hljs-number">0x1044d79a0</span>&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.Test&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test<br>&lt;__main__.Test <span class="hljs-built_in">object</span> at <span class="hljs-number">0x1044d79a0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>Test<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.Test&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x = <span class="hljs-string">&#x27;x-man&#x27;</span><br>setting... &lt;__main__.MyDescriptor <span class="hljs-built_in">object</span> at <span class="hljs-number">0x104b398e0</span>&gt; &lt;__main__.Test <span class="hljs-built_in">object</span> at <span class="hljs-number">0x1044d79a0</span>&gt; x-man<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> test.x<br>deleting... &lt;__main__.MyDescriptor <span class="hljs-built_in">object</span> at <span class="hljs-number">0x104b398e0</span>&gt; &lt;__main__.Test <span class="hljs-built_in">object</span> at <span class="hljs-number">0x1044d79a0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br></code></pre></td></tr></table></figure></li><li><blockquote><p> test.x  get self instance   Test  test test instance  owner  Test  Test owner <br>test.x &#x3D; x-man setdel test.x__delete__</p></blockquote></li><li><p>property </p><ul><li><p> propertyMyPropertyproperty</p></li><li><p>MyProperty property</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProperty</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, fget = <span class="hljs-literal">None</span>, fset = <span class="hljs-literal">None</span>, fdel = <span class="hljs-literal">None</span></span>):<br>self.fget = fget<br>self.fset = fset<br>self.fdel = fdel<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br><span class="hljs-keyword">return</span> self.fget(instance)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>self.fset(instance, value)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__delete__</span>(<span class="hljs-params">self, instance</span>):<br>self.fdel(instance)<br> <br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>self._x = <span class="hljs-literal">None</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getx</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">return</span> self._x<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setx</span>(<span class="hljs-params">self, value</span>):<br>self._x = value<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delx</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">del</span> self._x<br>x = MyProperty(getx, setx, delx)<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>c = C()<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.x = <span class="hljs-string">&quot;x-man&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c._x<br><span class="hljs-string">&#x27;x-man&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> c.x<br><span class="hljs-meta">&gt;&gt;&gt; </span>c._x<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;pyshell#62&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    c._x<br>AttributeError: <span class="hljs-string">&#x27;C&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;_x&#x27;</span><br><br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li><p></p></li><li><p>  * 1.8 + 32 &#x3D; </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Celsius</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value = <span class="hljs-number">26.0</span></span>):<br>                self.value = <span class="hljs-built_in">float</span>(value)<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>                <span class="hljs-keyword">return</span> self.value<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>                self.value = <span class="hljs-built_in">float</span>(value)<br>                <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fahrenheit</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>                <span class="hljs-keyword">return</span> instance.cel * <span class="hljs-number">1.8</span> +<span class="hljs-number">32</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>                instance.cel = (<span class="hljs-built_in">float</span>(value) - <span class="hljs-number">32</span>) / <span class="hljs-number">1.8</span><br> <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Temperature</span>:<br>        cel = Celsius()<br>        fah = Fahrenheit()<br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-39"><a href="#-39" class="headerlink" title=""></a></h2><h3 id="Quiz-39"><a href="#Quiz-39" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p> 3 (a). get (b). set  (c). </p><blockquote><p><br> get()set()  delete() </p></blockquote></li><li><p> getset  delete </p><ul><li><code>__get(self, instance, owner)__</code>       </li><li><code>__set(self, instance, value)__</code>   </li><li><code>__delete(self, instance)__</code>   </li></ul></li><li><p> test.a  test.xgetting?</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDes</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;getting...&quot;</span>)<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        a = MyDes()<br>        x = a<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>test = Test()<br><br></code></pre></td></tr></table></figure><p>test.a</p><p>test.x</p><p>test.a MyDes __get__<br>x&#x3D;a xaMyDes__get__</p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDes</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value = <span class="hljs-literal">None</span></span>):<br>        self.val = value<br> <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>        <span class="hljs-keyword">return</span> self.val - <span class="hljs-number">20</span><br> <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>        self.val = value + <span class="hljs-number">10</span><br>        <span class="hljs-built_in">print</span>(self.val)<br> <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    x = MyDes()<br> <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:  <span class="hljs-comment"># </span><br>    c = C()<br>    c.x = <span class="hljs-number">10</span><br>    <span class="hljs-built_in">print</span>(c.x)<br><br><br></code></pre></td></tr></table></figure><p>20</p><p>0</p><blockquote><p>c.x&#x3D;10__set__ c.x10+10&#x3D;20<br>print(c.x)20 __get__c.x20-20&#x3D;0<br>get0</p></blockquote></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDes</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value = <span class="hljs-literal">None</span></span>):<br>                self.val = value<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>                <span class="hljs-keyword">return</span> self.val ** <span class="hljs-number">2</span><br> <br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>                self.x = MyDes(<span class="hljs-number">3</span>)<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>test = Test()<br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x<br><br><br></code></pre></td></tr></table></figure><p> x<em><strong></strong></em> Python <strong>get</strong>  <strong>set</strong> </p></li></ol><h3 id="Practice-35"><a href="#Practice-35" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> MyDes</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        x = MyDes(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;x&#x27;</span>)<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>test = Test()<br><span class="hljs-meta">&gt;&gt;&gt; </span>y = test.x<br> x<br><span class="hljs-meta">&gt;&gt;&gt; </span>y<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x = <span class="hljs-number">8</span><br> x<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> test.x <br> x<br>~~<br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x<br> x<br><span class="hljs-number">8</span><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDes</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, initval=<span class="hljs-number">0</span>, attr=<span class="hljs-literal">None</span></span>):<br>        self.Value = initval<br>        self.attr = attr<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; &#x27;</span> + self.attr)<br>        <span class="hljs-keyword">return</span> self.Value<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; &#x27;</span> + self.attr)<br>        self.Value = value<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delete__</span>(<span class="hljs-params">self, instance</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span> + self.attr)<br>        <span class="hljs-keyword">del</span> self<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>    x = MyDes(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;x&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p> Recordrecord.txt</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        x = Record(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;x&#x27;</span>)<br>        y = Record(<span class="hljs-number">8.8</span>, <span class="hljs-string">&#x27;y&#x27;</span>)<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>test = Test()<br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x<br><span class="hljs-number">10</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.y<br><span class="hljs-number">8.8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x = <span class="hljs-number">123</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x = <span class="hljs-number">1.23</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.y = <span class="hljs-string">&quot;I love FishC.com!&quot;</span><br>&gt;&gt;&gt;<br><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200731180156540.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NhdHJ0ZWVz,size_16,color_FFFFFF,t_70" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  Recordrecord.txt</span><br><span class="hljs-keyword">import</span> time <span class="hljs-keyword">as</span> t<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Record</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, initval, name</span>):<br>        self.log_file = <span class="hljs-string">&#x27;/Users/felix_yang/PycharmProjects/learningpython/46/record.txt&#x27;</span><br>        self.Value = initval<br>        self.name = name<br>        self.action = <span class="hljs-literal">None</span><br>        self.atime = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>        self.action = <span class="hljs-string">&#x27;&#x27;</span><br>        self.atime = t.strftime(<span class="hljs-string">&quot;%a %b %d %H:%M:%S %Y %z&quot;</span>, t.gmtime())<br>        self.event = <span class="hljs-string">&#x27;&#123;&#125;  &#123;&#125;  &#123;&#125;, &#123;&#125;=&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(self.name,<br>                                                        self.atime,<br>                                                        self.action,<br>                                                        self.name,<br>                                                        self.Value<br>                                                        )<br>        self._logging(self.event)<br>        <span class="hljs-keyword">return</span> self.Value<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>        self.Value = value<br>        self.action = <span class="hljs-string">&#x27;&#x27;</span><br>        self.atime = t.strftime(<span class="hljs-string">&quot;%a %b %d %H:%M:%S %Y %z&quot;</span>, t.gmtime())<br>        self.event = <span class="hljs-string">&#x27;&#123;&#125;  &#123;&#125;  &#123;&#125;, &#123;&#125;=&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(self.name,<br>                                                        self.atime,<br>                                                        self.action,<br>                                                        self.name,<br>                                                        self.Value<br>                                                        )<br>        self._logging(self.event)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_logging</span>(<span class="hljs-params">self, event</span>):<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.log_file, <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>            f.write(event)<br>            f.write(<span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><br><br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Record</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, initval=<span class="hljs-literal">None</span>, name=<span class="hljs-literal">None</span></span>):<br>        self.name=name<br>        self.Value=initval<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self,instance,owner</span>):<br>        f=<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;record.txt&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>)<br>        f.write(<span class="hljs-string">&quot;%s %s%s = %s\n&quot;</span> % (self.name, time.ctime(), self.name,<span class="hljs-built_in">str</span>(self.Value)))<br>        f.close()<br>        <span class="hljs-keyword">return</span> self.Value<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self,instance,Value</span>):<br>        f=<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;record.txt&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>)<br>        f.write(<span class="hljs-string">&quot;%s %s%s = %s\n&quot;</span> % (self.name, time.ctime(), self.name,<span class="hljs-built_in">str</span>(self.Value)))<br>        f.close()<br>        self.Value=Value<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delete__</span>(<span class="hljs-params">self,instance</span>):<br>        <span class="hljs-keyword">del</span> self<br><br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        x = Record(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;x&#x27;</span>)<br>        y = Record(<span class="hljs-number">8.8</span>, <span class="hljs-string">&#x27;y&#x27;</span>)<br><br><br></code></pre></td></tr></table></figure></li><li><p> MyDespickle</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        x = MyDes(<span class="hljs-string">&#x27;x&#x27;</span>)<br>        y = MyDes(<span class="hljs-string">&#x27;y&#x27;</span>)<br>        <br><span class="hljs-meta">&gt;&gt;&gt; </span>test = Test()<br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x = <span class="hljs-number">123</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.y = <span class="hljs-string">&quot;I love FishC.com!&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.x<br><span class="hljs-number">123</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>test.y<br><span class="hljs-string">&#x27;I love FishC.com!&#x27;</span><br><br></code></pre></td></tr></table></figure><p></p><p><img src="https://img-blog.csdnimg.cn/20200731181640821.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> test.x<br>&gt;&gt;&gt;<br><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200731181650271.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  MyDespickle</span><br><span class="hljs-comment"># </span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pickle<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDes</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br>        self.attr_file = <span class="hljs-literal">None</span><br>        self.name = name<br>        self.Value = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self, instance, owner</span>):<br>        <span class="hljs-keyword">return</span> self.Value<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self, instance, value</span>):<br>        self.attr_file = <span class="hljs-string">&#x27;/Users/felix_yang/PycharmProjects/learningpython/46/ %s.pkl&#x27;</span> % self.name<br>        self.Value = value<br>        self._storeattr(self.Value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delete__</span>(<span class="hljs-params">self, instance</span>):<br>        self.attr_file = <span class="hljs-string">&#x27;/Users/felix_yang/PycharmProjects/learningpython/46/ %s.pkl&#x27;</span> % self.name<br>        os.remove(self.attr_file)<br>        <span class="hljs-keyword">del</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_storeattr</span>(<span class="hljs-params">self, attr</span>):<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.attr_file, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> pickle_file:<br>            pickle.dump(attr, pickle_file)<br><br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pickle<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDes</span>:<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,name=<span class="hljs-literal">None</span></span>):<br>        self.name=name<br>        self.filePath=self.name+<span class="hljs-string">&#x27;.txt&#x27;</span><br>        self.saved=[]<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__get__</span>(<span class="hljs-params">self,instance,owner</span>):<br>        <span class="hljs-keyword">if</span> self.name <span class="hljs-keyword">in</span> self.saved:<br>            <span class="hljs-keyword">return</span> self.Value<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__set__</span>(<span class="hljs-params">self,instance,Value</span>):<br>        self.Value=Value<br>        f=<span class="hljs-built_in">open</span>(self.filePath,<span class="hljs-string">&#x27;wb&#x27;</span>)<br>        pickle.dump( <span class="hljs-built_in">str</span>(<span class="hljs-string">&quot;%s%s&quot;</span> %(self.name,self.Value)),f)<br>        f.close()<br>        self.saved.append(self.name)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delete__</span>(<span class="hljs-params">self,instance</span>):<br>        os.remove(self.filePath)<br>        <span class="hljs-keyword">del</span> self<br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>        x = MyDes(<span class="hljs-string">&#x27;x&#x27;</span>)<br>        y = MyDes(<span class="hljs-string">&#x27;y&#x27;</span>)<br><br><br>test=Test()<br>test.x<br>test.x=<span class="hljs-number">10</span><br><br><br></code></pre></td></tr></table></figure></li></ol><h1 id="047-"><a href="#047-" class="headerlink" title="047. "></a>047. </h1><h2 id="-42"><a href="#-42" class="headerlink" title=""></a></h2><ul><li><p>ProtocolsPythonPython</p></li><li><p></p><ul><li><code>__len__()__getitem__()</code>                   strtuple</li><li><code>__len__()__getitem__()__setitem__()__delitem__()</code>     list</li></ul></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">__len__(self)                 <span class="hljs-built_in">len</span>() <br>__getitem__(self, key)                  self[key]<br>__setitem__(self, key, value)           self[key] = value<br>__delitem__(self, key)                  <span class="hljs-keyword">del</span> self[key]<br>__iter__(self)                         <br>__reversed__(self)                      <span class="hljs-built_in">reversed</span>() <br>__contains__(self, item)               <span class="hljs-keyword">in</span>  <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span><br></code></pre></td></tr></table></figure></li><li><p></p><ul><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">22</span>]: <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyList</span>:<br>    ...:     <span class="hljs-comment"># python</span><br>    ...:     <span class="hljs-comment"># 1*args</span><br>    ...:     <span class="hljs-comment"># 2**args</span><br>    ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, *args</span>):<br>    ...:         self.values = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> args]<br>    ...:         self.count = &#123;&#125;.fromkeys(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.values)), <span class="hljs-number">0</span>)<br>      <span class="hljs-comment">#</span><br>        <span class="hljs-comment">#</span><br>    ...: <br>    ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):<br>    ...:         <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.count)<br>    ...: <br>    ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params">self, item</span>):<br>    ...:         self.count[item] += <span class="hljs-number">1</span><br>    ...:         <span class="hljs-keyword">return</span> self.values[item]<br>    ...: <br><br>In [<span class="hljs-number">23</span>]: <br><br>In [<span class="hljs-number">23</span>]: list1 = MyList(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><br>In [<span class="hljs-number">24</span>]: list1[<span class="hljs-number">0</span>]<br>Out[<span class="hljs-number">24</span>]: <span class="hljs-number">1</span><br><br>In [<span class="hljs-number">25</span>]: list1[<span class="hljs-number">1</span>]<br>Out[<span class="hljs-number">25</span>]: <span class="hljs-number">3</span><br><br>In [<span class="hljs-number">26</span>]: list1.count<br>Out[<span class="hljs-number">26</span>]: &#123;<span class="hljs-number">0</span>: <span class="hljs-number">1</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">0</span>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-40"><a href="#-40" class="headerlink" title=""></a></h2><h3 id="Quiz-40"><a href="#Quiz-40" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p> Python </p><p>List, Turple, String</p></li><li><p>Python  String</p><p> String __ setitem __()  __ delitem __() </p></li><li><p> reversed() </p><p><code>__reversed__(self)  </code></p></li><li><p></p><p> Python  len()  __ len __() </p></li><li><p></p><p><code>  __ getitem __()  __ setitem __()  __ delitem __(),</code></p></li><li><p> Python </p><p> Python <a href="http://bbs.fishc.com/thread-51471-1-1.html%EF%BC%89">http://bbs.fishc.com/thread-51471-1-1.html</a>  Python</p></li></ol><h3 id="Practice-36"><a href="#Practice-36" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>append()pop()extand()</p><p></p><ul><li><p>()</p></li><li><p>counter(index)index</p></li><li><p>append()pop()remove()insert()clear()reverse()()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CountList</span>(<span class="hljs-title class_ inherited__">list</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, *args</span>):<br>        <span class="hljs-built_in">super</span>().__init__(args)<br>        self.count = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> args:<br>            self.count.append(<span class="hljs-number">0</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.count)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params">self, key</span>):<br>        self.count[key] += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().__getitem__(key)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setitem__</span>(<span class="hljs-params">self, key, value</span>):<br>        self.count[key] += <span class="hljs-number">1</span><br>        <span class="hljs-built_in">super</span>().__setitem__(key, value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delitem__</span>(<span class="hljs-params">self, key</span>):<br>        <span class="hljs-keyword">del</span> self.count[key]<br>        <span class="hljs-built_in">super</span>().__delitem__(key)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">counter</span>(<span class="hljs-params">self, key</span>):<br>        <span class="hljs-keyword">return</span> self.count[key]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">append</span>(<span class="hljs-params">self, value</span>):<br>        self.count.append(<span class="hljs-number">0</span>)<br>        <span class="hljs-built_in">super</span>().append(value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params">self, key=-<span class="hljs-number">1</span></span>):<br>        <span class="hljs-keyword">del</span> self.count[key]<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().pop(key)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">self, value</span>):<br>        key = <span class="hljs-built_in">super</span>().index(value)<br>        <span class="hljs-keyword">del</span> self.count[key]<br>        <span class="hljs-built_in">super</span>().remove(value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">insert</span>(<span class="hljs-params">self, key, value</span>):<br>        self.count.insert(key, <span class="hljs-number">0</span>)<br>        <span class="hljs-built_in">super</span>().insert(key, value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">clear</span>(<span class="hljs-params">self</span>):<br>        self.count.clear()<br>        <span class="hljs-built_in">super</span>().clear()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverse</span>(<span class="hljs-params">self</span>):<br>        self.count.reverse()<br>        <span class="hljs-built_in">super</span>().reverse()<br><br><br></code></pre></td></tr></table></figure></li></ul></li></ol><h1 id="048-"><a href="#048-" class="headerlink" title="048. "></a>048. </h1><h2 id="-43"><a href="#-43" class="headerlink" title=""></a></h2><ul><li><p> </p><ul><li><p></p></li><li><p>; </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">33</span>]: links = &#123;<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-string">&#x27;felix_yang&#x27;</span>,\<br>    ...:         <span class="hljs-string">&#x27;age&#x27;</span>:<span class="hljs-number">12</span><br>    ...:         &#125;<br><br>In [<span class="hljs-number">35</span>]: <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> links:<br>    ...:     <span class="hljs-built_in">print</span>((<span class="hljs-string">&#x27;&#123;&#125;-&gt;&#123;&#125;&#x27;</span>).<span class="hljs-built_in">format</span>(each, links[each]))<br>    ...: <br>name-&gt;felix_yang<br>age-&gt;<span class="hljs-number">12</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>Python 2BIF </p><ul><li><p>iter()</p><ul><li>iter() </li></ul></li><li><p>next()</p><ul><li>; python<em><strong>StopIteration</strong></em></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">36</span>]: string = <span class="hljs-string">&#x27;FishC&#x27;</span><br><br>In [<span class="hljs-number">37</span>]: it = <span class="hljs-built_in">iter</span>(string)<br><br>In [<span class="hljs-number">38</span>]: <span class="hljs-built_in">next</span>(it)<br>Out[<span class="hljs-number">38</span>]: <span class="hljs-string">&#x27;F&#x27;</span><br><br>In [<span class="hljs-number">40</span>]: <span class="hljs-built_in">next</span>(it)<br>Out[<span class="hljs-number">40</span>]: <span class="hljs-string">&#x27;i&#x27;</span><br><br>In [<span class="hljs-number">41</span>]: <span class="hljs-built_in">next</span>(it)<br>Out[<span class="hljs-number">41</span>]: <span class="hljs-string">&#x27;s&#x27;</span><br><br>In [<span class="hljs-number">42</span>]: <span class="hljs-built_in">next</span>(it)<br>Out[<span class="hljs-number">42</span>]: <span class="hljs-string">&#x27;h&#x27;</span><br><br>In [<span class="hljs-number">43</span>]: <span class="hljs-built_in">next</span>(it)<br>Out[<span class="hljs-number">43</span>]: <span class="hljs-string">&#x27;C&#x27;</span><br><br>In [<span class="hljs-number">44</span>]: <span class="hljs-built_in">next</span>(it)<br>---------------------------------------------------------------------------<br>StopIteration                             Traceback (most recent call last)<br>Input In [<span class="hljs-number">44</span>], <span class="hljs-keyword">in</span> &lt;cell line: <span class="hljs-number">1</span>&gt;()<br>----&gt; <span class="hljs-number">1</span> <span class="hljs-built_in">next</span>(it)<br><br>StopIteration:<br></code></pre></td></tr></table></figure></li><li><p>for </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">45</span>]: string = <span class="hljs-string">&#x27;FishC&#x27;</span><br><br>In [<span class="hljs-number">46</span>]: it = <span class="hljs-built_in">iter</span>(string)<br><br><br>In [<span class="hljs-number">49</span>]: <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    ...:     <span class="hljs-keyword">try</span>:<br>    ...:         each = <span class="hljs-built_in">next</span>(it)<br>    ...:     <span class="hljs-keyword">except</span> StopIteration:<br>    ...:         <span class="hljs-keyword">break</span><br>    ...:     <span class="hljs-built_in">print</span>(each)<br>    ...: <br>F<br>i<br>s<br>h<br>C<br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li><p><code>__iter()__</code>  </p></li><li><p><code>__next()__</code>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">54</span>]: <span class="hljs-keyword">class</span> <span class="hljs-title class_">fibonacci</span>:<br>    ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n=<span class="hljs-number">10</span></span>):<br>    ...:         self.a = <span class="hljs-number">0</span><br>    ...:         self.b = <span class="hljs-number">1</span><br>    ...:         self.n = n<br>    ...: <br>    ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>    ...:         <span class="hljs-keyword">return</span> self<br>    ...: <br>    ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>    ...:         <span class="hljs-keyword">if</span> self.b &lt; self.n:<br>    ...:             self.a, self.b = self.b, self.a + self.b<br>    ...:         <span class="hljs-keyword">else</span>:<br>    ...:             <span class="hljs-keyword">raise</span> StopIteration<br>    ...:         <span class="hljs-keyword">return</span> self.a<br>    ...: <br><br>In [<span class="hljs-number">55</span>]: <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> fib:<br>    ...:     <span class="hljs-built_in">print</span>(each)<br>    ...: <br><br>In [<span class="hljs-number">56</span>]: fib  = fibonacci(<span class="hljs-number">20</span>)<br><br>In [<span class="hljs-number">57</span>]: <span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> fib:<br>    ...:     <span class="hljs-built_in">print</span>(each)<br>    ...: <br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br><span class="hljs-number">5</span><br><span class="hljs-number">8</span><br><span class="hljs-number">13</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="-41"><a href="#-41" class="headerlink" title=""></a></h2><h3 id="Quiz-41"><a href="#Quiz-41" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p></p></li><li><p></p><p>__next__()<a href="https://so.csdn.net/so/search?q=%E9%81%8D%E5%8E%86&spm=1001.2101.3001.7020"></a></p></li><li><p></p><p></p></li><li><p></p><p><code> __ iter__()  __ next__()</code> </p></li><li><p>for </p><p> __ next__()  StopIteration </p></li><li><p> Python </p><p>settuplelist set </p><p> </p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">set1 = <span class="hljs-built_in">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>])</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">set1</span><br>&#123;1, 2, 3, 4, 5&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-37"><a href="#Practice-37" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> while  for </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>    <span class="hljs-built_in">print</span>(each)<br><br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">it = <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">try</span>:<br>        each = <span class="hljs-built_in">next</span>(it)<br>    <span class="hljs-keyword">except</span> StopIteration:<br>      <span class="hljs-keyword">break</span><br><span class="hljs-built_in">print</span>(each)<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>leapYears = LeapYear()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> leapYears:<br>        <span class="hljs-keyword">if</span> i &gt;=<span class="hljs-number">2000</span>:<br>                <span class="hljs-built_in">print</span>(i)<br>        <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">break</span><br><br><span class="hljs-number">2012</span><br><span class="hljs-number">2008</span><br><span class="hljs-number">2004</span><br><span class="hljs-number">2000</span><br><br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime <span class="hljs-keyword">as</span> dt<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LeapYear</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.now = dt.date.today().year<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isLeapYear</span>(<span class="hljs-params">self, year</span>):<br>        <span class="hljs-keyword">if</span> (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) <span class="hljs-keyword">or</span> (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>):<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> self.isLeapYear(self.now):<br>            self.now -= <span class="hljs-number">1</span><br><br>        temp = self.now<br>        self.now -= <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> temp<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">114</span>]: <span class="hljs-keyword">import</span> datetime <span class="hljs-keyword">as</span> dt<br>     ...: <br>     ...: <br>     ...: <span class="hljs-keyword">class</span> <span class="hljs-title class_">LeapYear</span>:<br>     ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>     ...:         self.now = dt.date.today().year<br>     ...: <br>     ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">isLeapYear</span>(<span class="hljs-params">self, year</span>):<br>     ...:         <span class="hljs-keyword">if</span> (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) <span class="hljs-keyword">or</span> (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>):<br>     ...:             <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>     ...:         <span class="hljs-keyword">else</span>:<br>     ...:             <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>     ...: <br>     ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>     ...:         <span class="hljs-keyword">return</span> self<br>     ...: <br>     ...:     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>     ...:         <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> self.isLeapYear(self.now):<br>     ...:             self.now -= <span class="hljs-number">1</span><br>     ...: <br>     ...:         temp = self.now<br>     ...:         self.now -= <span class="hljs-number">1</span><br>     ...: <br>     ...:         <span class="hljs-keyword">return</span> temp<br>     ...: <br><br>In [<span class="hljs-number">115</span>]: leapYears = LeapYear()<br>     ...: <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> leapYears:<br>     ...:     <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-number">2000</span>:<br>     ...:         <span class="hljs-built_in">print</span>(i)<br>     ...:     <span class="hljs-keyword">else</span>:<br>     ...:         <span class="hljs-keyword">break</span><br>     ...: <br><span class="hljs-number">2020</span><br><span class="hljs-number">2016</span><br><span class="hljs-number">2012</span><br><span class="hljs-number">2008</span><br><span class="hljs-number">2004</span><br><span class="hljs-number">2000</span><br></code></pre></td></tr></table></figure></li><li><p> MyRev  reversed()  reversed(seq)  seq </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&gt;&gt;&gt; myRev = MyRev(<span class="hljs-string">&quot;FishC&quot;</span>)<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> myRev:<br>    <span class="hljs-built_in">print</span>(i, <span class="hljs-attribute">end</span>=<span class="hljs-string">&#x27;&#x27;</span>)<br><br>ChsiF<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRev</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, item</span>):<br>        self.item = item<br>        self.index = -<span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">try</span>:<br>            temp = self.item[self.index]<br>            self.index -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">except</span> IndexError:<br>            <span class="hljs-keyword">raise</span> StopIteration<br>        <span class="hljs-keyword">return</span> temp<br><br>In [<span class="hljs-number">130</span>]: myRev = MyRev(<span class="hljs-string">&quot;FishC&quot;</span>)<br><br>In [<span class="hljs-number">131</span>]: <br><br>In [<span class="hljs-number">131</span>]: <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> myRev:<br>     ...:     <span class="hljs-built_in">print</span>(i, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>     ...: <br>ChsiF<br></code></pre></td></tr></table></figure></li></ol><h1 id="049-"><a href="#049-" class="headerlink" title="049. "></a>049. </h1><h2 id="-44"><a href="#-44" class="headerlink" title=""></a></h2><ul><li><p></p></li><li><p>; </p></li><li><p> yield </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">1</span>]: <span class="hljs-keyword">def</span> <span class="hljs-title function_">myGen</span>():<br>   ...:     <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>   ...:     <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span><br>   ...:     <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span><br>   ...: <br><br>In [<span class="hljs-number">3</span>]: myG = myGen()<br><br>In [<span class="hljs-number">4</span>]: <span class="hljs-built_in">next</span>(myG)<br><br>Out[<span class="hljs-number">4</span>]: <span class="hljs-number">1</span><br><br>In [<span class="hljs-number">5</span>]: <span class="hljs-built_in">next</span>(myG)<br>Out[<span class="hljs-number">5</span>]: <span class="hljs-number">2</span><br><br>In [<span class="hljs-number">6</span>]: <span class="hljs-built_in">next</span>(myG)<br>---------------------------------------------------------------------------<br>StopIteration                             Traceback (most recent call last)<br>Input In [<span class="hljs-number">6</span>], <span class="hljs-keyword">in</span> &lt;cell line: <span class="hljs-number">1</span>&gt;()<br>----&gt; <span class="hljs-number">1</span> <span class="hljs-built_in">next</span>(myG)<br><br>StopIteration:<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">8</span>]: <span class="hljs-keyword">def</span> <span class="hljs-title function_">myGen</span>():<br>   ...:     <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>   ...:     <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span><br>   ...:     <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span><br><br>In [<span class="hljs-number">10</span>]: myG = myGen()<br><br>In [<span class="hljs-number">11</span>]: <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> myG:<br>    ...:     <span class="hljs-built_in">print</span>(i)<br>    ...: <br><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><ul><li>fibonacci </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fiboGen</span>(<span class="hljs-params">m</span>):<br>    a, b = <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> b &lt; m:<br>        <span class="hljs-keyword">yield</span> b<br>        a, b = b, a + b<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;done&#x27;</span><br><br><br>f = fiboGen(<span class="hljs-number">10</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> f:<br>    <span class="hljs-built_in">print</span>(i)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">12</span>]: <span class="hljs-keyword">def</span> <span class="hljs-title function_">fiboGen</span>(<span class="hljs-params">m</span>):<br>    ...:     a, b = <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>    ...:     <span class="hljs-keyword">while</span> b &lt; m:<br>    ...:         <span class="hljs-keyword">yield</span> b<br>    ...:         a, b = b, a + b<br>    ...:     <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;done&#x27;</span><br>    ...: <br><br>In [<span class="hljs-number">13</span>]: f = fiboGen(<span class="hljs-number">10</span>)<br><br>In [<span class="hljs-number">14</span>]: <span class="hljs-built_in">next</span>(f)<br>Out[<span class="hljs-number">14</span>]: <span class="hljs-number">1</span><br><br>In [<span class="hljs-number">15</span>]: <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> f:<br>    ...:     <span class="hljs-built_in">print</span>(i)<br>    ...: <br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br><span class="hljs-number">5</span><br><span class="hljs-number">8</span><br><br></code></pre></td></tr></table></figure></li><li><p></p><ul><li>:  </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">16</span>]: a = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (i % <span class="hljs-number">2</span>) <span class="hljs-keyword">and</span> i % <span class="hljs-number">3</span>]<br><br>In [<span class="hljs-number">17</span>]: a<br>Out[<span class="hljs-number">17</span>]: <br>[<span class="hljs-number">2</span>,<br> <span class="hljs-number">4</span>,<br> <span class="hljs-number">8</span>,<br> <span class="hljs-number">10</span>,<br> <span class="hljs-number">14</span>,<br> <span class="hljs-number">16</span>,<br> <span class="hljs-number">20</span>,<br> <span class="hljs-number">22</span>,<br> <span class="hljs-number">26</span>,<br> <span class="hljs-number">28</span>,<br> <span class="hljs-number">32</span>,<br> <span class="hljs-number">34</span>,<br> <span class="hljs-number">38</span>,<br> <span class="hljs-number">40</span>,<br> <span class="hljs-number">44</span>,<br> <span class="hljs-number">46</span>,<br> <span class="hljs-number">50</span>,<br> <span class="hljs-number">52</span>,<br> <span class="hljs-number">56</span>,<br> <span class="hljs-number">58</span>,<br> <span class="hljs-number">62</span>,<br> <span class="hljs-number">64</span>,<br> <span class="hljs-number">68</span>,<br> <span class="hljs-number">70</span>,<br> <span class="hljs-number">74</span>,<br> <span class="hljs-number">76</span>,<br> <span class="hljs-number">80</span>,<br> <span class="hljs-number">82</span>,<br> <span class="hljs-number">86</span>,<br> <span class="hljs-number">88</span>,<br> <span class="hljs-number">92</span>,<br> <span class="hljs-number">94</span>,<br> <span class="hljs-number">98</span>]<br><br>In [<span class="hljs-number">18</span>]: b = &#123;i:i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)&#125;<br><br>In [<span class="hljs-number">19</span>]: b<br>Out[<span class="hljs-number">19</span>]: <br>&#123;<span class="hljs-number">0</span>: <span class="hljs-literal">True</span>,<br> <span class="hljs-number">1</span>: <span class="hljs-literal">False</span>,<br> <span class="hljs-number">2</span>: <span class="hljs-literal">True</span>,<br> <span class="hljs-number">3</span>: <span class="hljs-literal">False</span>,<br> <span class="hljs-number">4</span>: <span class="hljs-literal">True</span>,<br> <span class="hljs-number">5</span>: <span class="hljs-literal">False</span>,<br> <span class="hljs-number">6</span>: <span class="hljs-literal">True</span>,<br> <span class="hljs-number">7</span>: <span class="hljs-literal">False</span>,<br> <span class="hljs-number">8</span>: <span class="hljs-literal">True</span>,<br> <span class="hljs-number">9</span>: <span class="hljs-literal">False</span>&#125;<br><br>In [<span class="hljs-number">20</span>]: c = &#123;i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]&#125;<br><br>In [<span class="hljs-number">21</span>]: c<br>Out[<span class="hljs-number">21</span>]: &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;<br></code></pre></td></tr></table></figure><ul><li></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">22</span>]: e = (i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>))<br><br>In [<span class="hljs-number">23</span>]: e<br>Out[<span class="hljs-number">23</span>]: &lt;generator <span class="hljs-built_in">object</span> &lt;genexpr&gt; at <span class="hljs-number">0x106a87120</span>&gt;<br></code></pre></td></tr></table></figure><p> <generator object></p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs fortran"><span class="hljs-keyword">In</span> [<span class="hljs-number">24</span>]: <span class="hljs-built_in">sum</span>((i for i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">if</span> i % <span class="hljs-number">2</span>))<br><span class="hljs-keyword">Out</span>[<span class="hljs-number">24</span>]: <span class="hljs-number">2500</span><br><br><span class="hljs-keyword">In</span> [<span class="hljs-number">25</span>]: <span class="hljs-built_in">sum</span>(i for i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">if</span> i % <span class="hljs-number">2</span>)<br><span class="hljs-keyword">Out</span>[<span class="hljs-number">25</span>]: <span class="hljs-number">2500</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="-42"><a href="#-42" class="headerlink" title=""></a></h2><h3 id="Quiz-42"><a href="#Quiz-42" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p></p><p> Python  return </p></li><li><p></p><p><a href="https://so.csdn.net/so/search?q=%E6%8C%82%E8%B5%B7&spm=1001.2101.3001.7020"></a><br>Python </p></li><li><p></p><p> yield  __ iter__()  __ next__() </p></li><li><p> yield </p><p>Return </p></li><li><p></p><p></p></li><li><p>get_prime()  2  while True </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_primes</span>(<span class="hljs-params">number</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">if</span> is_prime(number):<br>            <span class="hljs-keyword">yield</span> number<br>        number += <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><p><em><strong> while True </strong></em> next() </p></li></ol><h3 id="Practice-38"><a href="#Practice-38" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p> reversed()  reversed(seq)  seq </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&gt;&gt;&gt; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> myRev(<span class="hljs-string">&quot;FishC&quot;</span>):<br>    <span class="hljs-built_in">print</span>(i, <span class="hljs-attribute">end</span>=<span class="hljs-string">&#x27;&#x27;</span>)<br><br>ChsiF<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myRev</span>(<span class="hljs-params">seq</span>):<br>    seq_len = <span class="hljs-built_in">len</span>(seq)<br>    index = -<span class="hljs-number">1</span><br>    <br>    <span class="hljs-comment"># seq[0] == seq[-seq_len]</span><br>    <span class="hljs-keyword">while</span> index &gt;= -seq_len:<br>        temp = seq[index]<br>        <span class="hljs-keyword">yield</span> temp<br>        index -= <span class="hljs-number">1</span><br><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> myRev(<span class="hljs-string">&quot;FishC&quot;</span>):<br>    <span class="hljs-built_in">print</span>(i, end=<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p>10 2 + 3 + 5 + 7 &#x3D; 17 2000000 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_prime</span>(<span class="hljs-params">number</span>):<br>    <span class="hljs-keyword">if</span> number &gt; <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">if</span> number == <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">if</span> number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">for</span> current <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, <span class="hljs-built_in">int</span>(math.sqrt(number) + <span class="hljs-number">1</span>), <span class="hljs-number">2</span>):<br>            <span class="hljs-keyword">if</span> number % current == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_primes</span>(<span class="hljs-params">number</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">if</span> is_prime(number):<br>            <span class="hljs-keyword">yield</span> number<br>        number += <span class="hljs-number">1</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">solve</span>():<br>    total = <span class="hljs-number">2</span><br>    <span class="hljs-keyword">for</span> next_prime <span class="hljs-keyword">in</span> get_primes(<span class="hljs-number">3</span>):<br>        <span class="hljs-keyword">if</span> next_prime &lt; <span class="hljs-number">2000000</span>:<br>            total += next_prime<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(total)<br>            <span class="hljs-keyword">return</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    solve()<br><br></code></pre></td></tr></table></figure></li></ol><h1 id="050-"><a href="#050-" class="headerlink" title="050. "></a>050. </h1><h2 id="-45"><a href="#-45" class="headerlink" title=""></a></h2><ul><li>.py <ul><li> </li><li> </li><li> </li></ul></li><li></li><li> <ul><li>import moduleName</li><li>From moduleName import functionName</li><li>import moduleName as newName</li></ul></li></ul><h2 id="-43"><a href="#-43" class="headerlink" title=""></a></h2><h3 id="Quiz-43"><a href="#Quiz-43" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p>Python </p><p>.py</p></li><li><p> test.py  hello.py  hi() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hi</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hi everyone, I love FishC.com!&quot;</span>)<br><span class="hljs-number">12</span><br></code></pre></td></tr></table></figure><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> hello <span class="hljs-keyword">as</span> h<br><span class="hljs-title">h</span>.hi()<br></code></pre></td></tr></table></figure></li><li><p></p><p>import <br>from  import <br>import  as </p></li><li><p> fromimport * </p><p> fromimport * _ import   import xx._oo </p></li><li><p> a.py  b.py </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># a.py</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sayHi</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; A ~&quot;</span>)<br><br><span class="hljs-comment"># b.py</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sayHi</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; B ~&quot;</span>)<br></code></pre></td></tr></table></figure><p> test.py </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># test.py</span><br><span class="hljs-keyword">from</span> a <span class="hljs-keyword">import</span> sayHi<br><span class="hljs-keyword">from</span> b <span class="hljs-keyword">import</span> sayHi<br><br>sayHi()<br><br></code></pre></td></tr></table></figure><p> B ~ b  a  sayHi()  fromimport</p></li><li><p> a.py  b.py </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># a.py</span><br><span class="hljs-keyword">from</span> b <span class="hljs-keyword">import</span> y<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;x&#x27;</span>)<br><br><span class="hljs-comment"># b.py</span><br><span class="hljs-keyword">from</span> a <span class="hljs-keyword">import</span> x<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">y</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;y&#x27;</span>)<br><br>&gt;&gt;&gt;<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;/Users/FishC/Desktop/a.py&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-keyword">from</span> b <span class="hljs-keyword">import</span> x<br>  File <span class="hljs-string">&quot;/Users/FishC/Desktop/b.py&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-keyword">import</span> a<br>  File <span class="hljs-string">&quot;/Users/FishC/Desktop/a.py&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-keyword">from</span> b <span class="hljs-keyword">import</span> x<br>ImportError: cannot <span class="hljs-keyword">import</span> name <span class="hljs-string">&#x27;x&#x27;</span><br><br></code></pre></td></tr></table></figure><p> a.py  b.py  ImportError a.pyfrom b import y CPU b.pyfrom a import xa.py xImportError: cannot import name x</p><p> import </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># a.py</span><br><span class="hljs-keyword">import</span> b<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>():<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;x&#x27;</span>)<br><br><span class="hljs-comment"># b.py</span><br><span class="hljs-keyword">import</span> a<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">y</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;y&#x27;</span>)<br><br>a.x()<br><br></code></pre></td></tr></table></figure></li></ol><h3 id="Practice-39"><a href="#Practice-39" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>Python  Python  TrueFalseNone  Python  const  Python </p><p></p><p>test.py </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># const </span><br><span class="hljs-comment"># const  Python </span><br><span class="hljs-keyword">import</span> const<br><br>const.NAME = <span class="hljs-string">&quot;FishC&quot;</span><br><span class="hljs-built_in">print</span>(const.NAME)<br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment"># </span><br>    const.NAME = <span class="hljs-string">&quot;FishC.com&quot;</span><br><span class="hljs-keyword">except</span> TypeError <span class="hljs-keyword">as</span> Err:<br>    <span class="hljs-built_in">print</span>(Err)<br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment"># </span><br>    const.name = <span class="hljs-string">&quot;FishC&quot;</span><br><span class="hljs-keyword">except</span> TypeError <span class="hljs-keyword">as</span> Err:<br>    <span class="hljs-built_in">print</span>(Err)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">&gt;&gt;&gt;<br>FishC<br><br><br></code></pre></td></tr></table></figure><p> const </p><p> Const <br> Const <br><br><br> const const.NAME &#x3D; FishC Python  A </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">sys.modules  Python </span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-keyword">import</span> sys<br>sys.modules[__name__] = A()<br></code></pre></td></tr></table></figure><p></p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Const</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, name, value</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(self, name):<br>            <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name.isupper():<br>            <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-built_in">super</span>().__setattr__(name, value)<br><br><br><span class="hljs-keyword">import</span> sys<br>sys.modules[__name__] = Const()<br></code></pre></td></tr></table></figure></li></ol><h1 id="051--name-39-main-39-"><a href="#051--name-39-main-39-" class="headerlink" title="051.  __name__ = &#39;__main__&#39;"></a>051.  <code>__name__ = &#39;__main__&#39;</code></h1><h2 id="-46"><a href="#-46" class="headerlink" title=""></a></h2><ul><li><p></p><ul><li><p></p></li><li><p></p></li></ul></li><li><p><code>if __name__ == &#39;__main__&#39;</code></p><ul><li><p></p><p>test.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">c2f</span>(<span class="hljs-params">cel</span>):<br>    fah = cel * <span class="hljs-number">1.8</span> + <span class="hljs-number">32</span><br>    <span class="hljs-keyword">return</span> fah<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">f2c</span>(<span class="hljs-params">fah</span>):<br>    cel = (fah - <span class="hljs-number">32</span>) / <span class="hljs-number">1.8</span><br>    <span class="hljs-keyword">return</span> cel<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0 = %.2f&quot;</span> % c2f(<span class="hljs-number">0</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0 = %.2f&quot;</span> % f2c(<span class="hljs-number">0</span>))<br><br><br>test()<br></code></pre></td></tr></table></figure><p></p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-number">0</span> <span class="hljs-operator">=</span> <span class="hljs-number">32.00</span><br><span class="hljs-number">0</span> <span class="hljs-operator">=</span> -<span class="hljs-number">17.78</span><br></code></pre></td></tr></table></figure><p>test</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> test <span class="hljs-keyword">as</span> tc<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;32  = %.2f &#x27;</span> % tc.c2f(<span class="hljs-number">32</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;32  = %.2f &#x27;</span> % tc.f2c(<span class="hljs-number">32</span>))<br></code></pre></td></tr></table></figure><p></p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># </span><br><span class="hljs-number">0</span> = <span class="hljs-number">32.00</span><br><span class="hljs-number">0</span> = -<span class="hljs-number">17.78</span><br><span class="hljs-number">32</span>  = <span class="hljs-number">89.60</span> <br><span class="hljs-number">32</span>  = <span class="hljs-number">0.00</span> <br></code></pre></td></tr></table></figure></li><li><p></p><ul><li>test()</li></ul></li><li><p></p><p><code>__name__</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    test()<br></code></pre></td></tr></table></figure><p> <strong>name</strong> <strong>name</strong> <strong>name</strong>  <strong>main</strong></p><ul><li><code>__name__</code></li><li><code>__name__</code><code>&#39;__main__&#39;</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">In [<span class="hljs-number">7</span>]: __name__<br>Out[<span class="hljs-number">7</span>]: <span class="hljs-string">&#x27;__main__&#x27;</span><br><br>In [<span class="hljs-number">8</span>]: tc.__name__<br>Out[<span class="hljs-number">8</span>]: <span class="hljs-string">&#x27;test&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p></p><ul><li><p>&#x2F;opt&#x2F;homebrew&#x2F;lib&#x2F;python3.9&#x2F;site-packages OS</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs prolog"><span class="hljs-symbol">In</span> [<span class="hljs-number">8</span>]: import sys<br><br><span class="hljs-symbol">In</span> [<span class="hljs-number">9</span>]: sys.path<br><span class="hljs-symbol">Out</span>[<span class="hljs-number">9</span>]: <br>[<span class="hljs-string">&#x27;/opt/homebrew/bin&#x27;</span>,<br> <span class="hljs-string">&#x27;/opt/homebrew/Cellar/python@3.9/3.9.13_1/Frameworks/Python.framework/Versions/3.9/lib/python39.zip&#x27;</span>,<br> <span class="hljs-string">&#x27;/opt/homebrew/Cellar/python@3.9/3.9.13_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9&#x27;</span>,<br> <span class="hljs-string">&#x27;/opt/homebrew/Cellar/python@3.9/3.9.13_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/lib-dynload&#x27;</span>,<br> <span class="hljs-string">&#x27;&#x27;</span>,<br> <span class="hljs-string">&#x27;/opt/homebrew/lib/python3.9/site-packages&#x27;</span>,<br> <span class="hljs-string">&#x27;/opt/homebrew/opt/python-tk@3.9/libexec&#x27;</span>]<br></code></pre></td></tr></table></figure></li><li><p><code>sys.path.append(&#39;module_path&#39;)</code></p></li></ul></li><li><p>package</p><ol><li><p></p></li><li><p><code>__init__.py</code></p></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># test M cal.py .M.test</span><br><span class="hljs-keyword">import</span> M.test <span class="hljs-keyword">as</span> tc<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;32  = %.2f &#x27;</span> % tc.c2f(<span class="hljs-number">32</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;32  = %.2f &#x27;</span> % tc.f2c(<span class="hljs-number">32</span>))<br></code></pre></td></tr></table></figure></li></ol></li></ul><h2 id="-44"><a href="#-44" class="headerlink" title=""></a></h2><h3 id="Quiz-44"><a href="#Quiz-44" class="headerlink" title="Quiz"></a>Quiz</h3><ol><li><p><code>__name__</code></p><p> <strong>name</strong> <strong>name</strong> <strong>name</strong>  <strong>main</strong></p><ul><li><code>__name__</code></li><li><code>__name__</code><code>&#39;__main__&#39;</code></li></ul></li><li><p><code>__name__</code><code>&#39;__main__&#39;</code></p><p><code>__name__ </code><code>&#39;__main__&#39;</code></p></li><li><p>python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br>sys.path<br></code></pre></td></tr></table></figure></li><li><p></p><p>(package), site-packages </p></li><li><p>import urllib.requesturllib</p><p>Python </p><p>urllib  Python  URL </p></li><li><p>Python </p><p> <strong>init</strong>.py </p><p> <strong>init</strong>.py  Python  Python </p></li></ol><h3 id="Practice-40"><a href="#Practice-40" class="headerlink" title="Practice"></a>Practice</h3><ol><li><p>a.py  b.py</p><p><img src="https://img-blog.csdnimg.cn/201903111045135.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTcwNzgz,size_16,color_FFFFFF,t_70" alt=""></p></li><li><p>python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python">C % tree ./  <br>./<br> LICENSE.txt<br> README<br> docs<br> <span class="hljs-built_in">help</span>.html<br> images<br> moduleA.py<br> moduleB.py<br> moduleC.py<br> package<br>  moduleA.py<br>  moduleB.py<br>  moduleC.py<br>  static<br>      images<br>      sounds<br> quickstart.html<br> readme.txt<br> requirements.txt<br> setup.py<br> sounds<br> static<br> test<br> test_advanced.py<br> test_basic.py<br><br><span class="hljs-number">10</span> directories, <span class="hljs-number">14</span> files<br><br></code></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><br><br>Python<br><br>|<span class="hljs-string">----README/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----readme.txt</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----LICENSE.txt</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----requirents.txt</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----setup.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">----docs/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----help.html</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----quickstart.html</span><br><span class="hljs-string"></span>|<span class="hljs-string">----test/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----__init__.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----test_basic.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----test_advanced.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">----package/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----__init__.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----moduleA.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----moduleB.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----moduleC.py</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">----static/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">----images/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">----sounds/</span><br><span class="hljs-string"></span>|<span class="hljs-string">----setup.py</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure></li></ol><h1 id="052-"><a href="#052-" class="headerlink" title="052. "></a>052. </h1><h2 id="-47"><a href="#-47" class="headerlink" title=""></a></h2><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>PythonPythonBatteries includedPythonPythonPython</p><ul><li><p>PythonPythonPythonPythonPython100</p></li><li><p>PythonPython90%</p></li><li><p>PythonIDLE-&gt;Help-&gt;Python Docs(F1):</p></li></ul><p><img src="https://img-blog.csdnimg.cn/20200129132951392.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3cxNTk3Nzg1ODQwOA==,size_16,color_FFFFFF,t_70" alt=""></p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><pre><code class="hljs"> 1Whats new in Python3.8? 3.8Python2.0 2Tutorial python 3Liberary Reference Pythonpython 4Inatalling Python Modules python 5Distuributing Python Modules PythonPython pypi ,----https://pypi.python.org/pypi, Pythonpypi 6language reference Python 7Python setup and usage Python 8Python HOWTOs  9Extending and Embedding  C C++ PythonAPI 10FAQs </code></pre><h3 id="PEP"><a href="#PEP" class="headerlink" title="PEP"></a>PEP</h3><ul><li><p>PEPPython Enhancement Proposals PythonPythonPython</p></li><li><p>PEPPEP 3000  Python 3.0 PEP 333  Python  Web  WSGI (Web Server Gateway Interface 1.0PEP  PEP 1PEP 8  Python </p></li><li><p> PEP  PEP 0 <a href="https://www.python.org/dev/peps/">https://www.python.org/dev/peps/</a></p></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><ul><li><p>timeittimeit</p><p><img src="https://img-blog.csdnimg.cn/20200129141329859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3cxNTk3Nzg1ODQwOA==,size_16,color_FFFFFF,t_70" alt=""></p></li><li><p>IDLE  import  __doc__</p><p><img src="https://img-blog.csdnimg.cn/20200129142044179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3cxNTk3Nzg1ODQwOA==,size_16,color_FFFFFF,t_70" alt=""></p></li><li><p> print() </p><p><img src="https://img-blog.csdnimg.cn/20200129142247353.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3cxNTk3Nzg1ODQwOA==,size_16,color_FFFFFF,t_70" alt=""></p></li><li><p> dir() </p><p><img src="https://img-blog.csdnimg.cn/20200129142447586.png" alt=""></p></li><li><p> __all__ __all__</p><p><img src="https://img-blog.csdnimg.cn/20200129142620529.png" alt=""></p></li><li><p>4 timeit Timertimeitrepeatdefault_timer 3 <strong>all</strong> </p><p></p><ul><li><p> <strong>all</strong>  <strong>all</strong> </p></li><li><p> <strong>all</strong>  from  import *  <strong>all</strong> <br><img src="https://img-blog.csdnimg.cn/20200129143307985.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3cxNTk3Nzg1ODQwOA==,size_16,color_FFFFFF,t_70" alt=""></p><p>__all__  <strong>all</strong> Timer all from  import * <em><strong> all </strong></em></p></li></ul></li><li><p> <strong>file</strong> </p></li></ul><p>  <img src="https://img-blog.csdnimg.cn/20200129143751352.png" alt=""></p><ul><li><p></p><ul><li><p></p></li><li><p></p></li><li><p> help() doc</p><p><img src="https://img-blog.csdnimg.cn/20200129144002981.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3cxNTk3Nzg1ODQwOA==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul></li></ul><h2 id="-45"><a href="#-45" class="headerlink" title=""></a></h2><h3 id="Quiz-45"><a href="#Quiz-45" class="headerlink" title="Quiz"></a>Quiz</h3><p> 16  14 </p><p>      ^_^</p><ol><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>():</span><br>    pass<br> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(func()))</span><br><br></code></pre></td></tr></table></figure><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-type">A</span>. &lt;<span class="hljs-keyword">type</span> function&gt;<br><span class="hljs-type">B</span>. &lt;<span class="hljs-keyword">type</span> tuple&gt;<br><span class="hljs-type">C</span>. &lt;<span class="hljs-keyword">type</span> <span class="hljs-type">NoneType</span>&gt;<br><span class="hljs-type">D</span>. &lt;<span class="hljs-keyword">type</span> <span class="hljs-keyword">type</span>&gt;<br></code></pre></td></tr></table></figure><p>C</p></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-number">1J</span>))</span><br><br></code></pre></td></tr></table></figure><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-type">A</span>. &lt;<span class="hljs-keyword">type</span> unicode&gt;<br><span class="hljs-type">B</span>. &lt;<span class="hljs-keyword">type</span> int&gt;<br><span class="hljs-type">C</span>. &lt;<span class="hljs-keyword">type</span> str&gt;<br><span class="hljs-type">D</span>. &lt;<span class="hljs-keyword">type</span> complex&gt;<br></code></pre></td></tr></table></figure><p>D</p></li><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-keyword">lambda</span>:<span class="hljs-literal">None</span>))</span><br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. &lt;type NoneType&gt;  B. &lt;type function&gt;  C. &lt;type int&gt;  D. &lt;type tuple&gt;</code></pre></li></ol><p>B</p><ol start="4"><li><p></p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;FishC&quot;</span>, (<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>), [], <span class="hljs-literal">None</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(a))</span><br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 13  B. 7  C. 6  D. 5</code></pre></li></ol><p>B</p><ol start="5"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        x = x + <span class="hljs-number">1</span><br>        self.v1 = x<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        x = x + <span class="hljs-number">1</span><br>        self.v2 = x<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>b = B(<span class="hljs-number">8</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%d %d&quot;</span> % b.v1, b.v2)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 9 10  B. 9 9  C. 10 10  D. </code></pre></li></ol><p>D</p><ol start="6"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        self.x = x<br>        x = <span class="hljs-number">666</span><br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A(<span class="hljs-number">888</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.x<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 666  B. 888  C. None  D. </code></pre></li></ol><p>B</p><ol start="7"><li><p></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">values</span> <span class="hljs-operator">=</span> [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<br>nums <span class="hljs-operator">=</span> <span class="hljs-keyword">set</span>(<span class="hljs-keyword">values</span>)<br> <br>def checkit(num):<br>    if num <span class="hljs-keyword">in</span> nums:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br> <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-keyword">filter</span>(checkit, <span class="hljs-keyword">values</span>):<br>print(i, <span class="hljs-keyword">end</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 1 2 3 5  B. 1 1 2 3 5  C. 1 2 3 4 3 2 1  D. </code></pre></li></ol><p>B</p><ol start="8"><li><p></p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">values</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<br>def <span class="hljs-built_in">transform</span>(<span class="hljs-built_in">num</span>):<br>    <span class="hljs-built_in">return</span> <span class="hljs-built_in">num</span> ** <span class="hljs-number">2</span><br> <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">map</span>(<span class="hljs-built_in">transform</span>, <span class="hljs-built_in">values</span>):<br>    <span class="hljs-built_in">print</span>(i, end=&#x27; &#x27;)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 1 1 4 9 25  B. 1 1 2 3 5  C. 0.5 0.5 1 1.5 2.5  D. 2 2 4 6 10</code></pre></li></ol><p>A</p><ol start="9"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        self.x = x<br> <br>a = A(<span class="hljs-number">100</span>)<br>a.__dict__[<span class="hljs-string">&#x27;y&#x27;</span>] = <span class="hljs-number">50</span><br><span class="hljs-built_in">print</span>(a.y + <span class="hljs-built_in">len</span>(a.__dict__))<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 2  B. 50  C. 51  D. 52</code></pre></li></ol><p>D</p><ol start="10"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(__name__)<br> <br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.get()<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. A  B. a  C. __main__  D. _A__a</code></pre></li></ol><p>C</p><ol start="11"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">country_counter = &#123;&#125;<br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">addone</span>(<span class="hljs-params">country</span>):<br>    <span class="hljs-keyword">if</span> country <span class="hljs-keyword">in</span> country_counter:<br>        country_counter[country] += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        country_counter[country] = <span class="hljs-number">1</span><br> <br>addone(<span class="hljs-string">&#x27;China&#x27;</span>)<br>addone(<span class="hljs-string">&#x27;Japan&#x27;</span>)<br>addone(<span class="hljs-string">&#x27;China&#x27;</span>)<br>addone(<span class="hljs-string">&quot;American&quot;</span>)<br> <br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(country_counter))<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 0  B. 1  C. 2  D. 3</code></pre></li></ol><p>D</p><ol start="12"><li><p></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">dict1 = &#123;&#125;<br>dict1<span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">1</span><br>dict1<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span> = <span class="hljs-number">2</span><br>dict1<span class="hljs-selector-attr">[1.0]</span> = <span class="hljs-number">3</span><br> <br>result = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> each <span class="hljs-keyword">in</span> dict1:<br><span class="hljs-built_in">print</span>(dict1<span class="hljs-selector-attr">[each]</span>)<br>    result += dict1<span class="hljs-selector-attr">[each]</span><br><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(result)</span></span><br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 2  B. 3  C. 5  D. 6</code></pre></li></ol><p>C  dict1[1] dict1[1.0]  </p><ol start="13"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">dostuff</span>(<span class="hljs-params">param1, *param2</span>):<br>    <span class="hljs-built_in">print</span> <span class="hljs-built_in">type</span>(param2)<br> <br>dostuff(<span class="hljs-string">&#x27;apples&#x27;</span>, <span class="hljs-string">&#x27;bananas&#x27;</span>, <span class="hljs-string">&#x27;cherry&#x27;</span>, <span class="hljs-string">&#x27;dates&#x27;</span>)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. &lt;type int&gt;  B. &lt;type str&gt;  C. &lt;type tuple&gt;  D. &lt;type dict&gt;</code></pre></li></ol><p>C</p><ol start="14"><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, a, b, c</span>):<br>        self.x = a + b + c<br> <br>a = A(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>b = <span class="hljs-built_in">getattr</span>(a, <span class="hljs-string">&#x27;x&#x27;</span>)<br><span class="hljs-built_in">setattr</span>(a, <span class="hljs-string">&#x27;x&#x27;</span>, b+<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(a.x)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 1  B. 2  C. 6  D. 7</code></pre></li></ol><p>D</p><ol start="15"><li><p></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stylus">list1 = <span class="hljs-selector-attr">[1, 2]</span><br>list2 = <span class="hljs-selector-attr">[3, 4]</span><br> <br>dict1 = &#123;<span class="hljs-string">&#x27;1&#x27;</span>:list1, <span class="hljs-string">&#x27;2&#x27;</span>:list2&#125;<br>dict2 = dict1<span class="hljs-selector-class">.copy</span>()<br> <br>dict1<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">5</span><br> <br>result = dict1<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span><span class="hljs-selector-attr">[0]</span> + dict2<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span><span class="hljs-selector-attr">[0]</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(result)</span></span><br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 5  B. 6  C. 8  D. 10</code></pre></li></ol><p>D</p><ol start="16"><li><p></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import copy<br> <br>list1 = <span class="hljs-selector-attr">[1, 2]</span><br>list2 = <span class="hljs-selector-attr">[3, 4]</span><br> <br>dict1 = &#123;<span class="hljs-string">&#x27;1&#x27;</span>:list1, <span class="hljs-string">&#x27;2&#x27;</span>:list2&#125;<br>dict2 = copy<span class="hljs-selector-class">.deepcopy</span>(dict1)<br> <br>dict1<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">5</span><br> <br>result = dict1<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span><span class="hljs-selector-attr">[0]</span> + dict2<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;1&#x27;</span>]</span><span class="hljs-selector-attr">[0]</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(result)</span></span><br><br></code></pre></td></tr></table></figure><pre><code class="hljs">  A. 5  B. 6  C. 8  D. 10</code></pre></li></ol><p>B</p><h3 id="Practice-41"><a href="#Practice-41" class="headerlink" title="Practice"></a>Practice</h3>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>AWS Technical Essentials - Lab</title>
    <link href="/1984/01/24/aws-saa/"/>
    <url>/1984/01/24/aws-saa/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><img src="https://felixyanghui.synology.me:8441/images/2022/12/02/image-20221129160103938.png" style="zoom:50%;" /><h1 id="1-AWS-Technical-Essentials-Lab"><a href="#1-AWS-Technical-Essentials-Lab" class="headerlink" title="1. AWS Technical Essentials - Lab"></a>1. AWS Technical Essentials - Lab</h1><h2 id="1-1-Lab-1-Topology"><a href="#1-1-Lab-1-Topology" class="headerlink" title="1.1 Lab-1 Topology"></a>1.1 Lab-1 Topology</h2><p><img src="https://felixyanghui.synology.me:8441/images/2022/12/02/image-20221202103555079.png" alt="image-20221202103555079"></p><h3 id="1-1-1-Create-VPC-and-web-server-AWS-Console"><a href="#1-1-1-Create-VPC-and-web-server-AWS-Console" class="headerlink" title="1.1.1 Create VPC and web server (AWS Console)"></a>1.1.1 Create VPC and web server (AWS Console)</h3><ul><li>Create VPC (VPC can be accross AZ, but shall be within one region)</li><li>Create Internet Gateway and attach it to the VPC</li><li>Create Subnet (associate with VPC, AZ)</li><li>Create NAT gateway (associate with the subnet)  - depends on IGW created firstly</li><li>Create Route Table<ul><li>By default, a Main type route table already created for the VPC.  Edit the route table to associate it with two priviate subnets and add a default route destinated to NAT GW created before, finally rename the route table name as private route table</li><li>Create one more route table: public route table, associate with two public subnets. and add a default route destinated to Internet GW created before</li></ul></li><li>Create VPC security group</li><li>Create EC2 - web instance</li></ul><h3 id="1-1-2-Create-VPC-and-web-server-Terraform-Module"><a href="#1-1-2-Create-VPC-and-web-server-Terraform-Module" class="headerlink" title="1.1.2 Create VPC and web server (Terraform -  Module)"></a>1.1.2 Create VPC and web server (Terraform -  Module)</h3><ul><li><p>main.tf</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs tcl">provider <span class="hljs-string">&quot;aws&quot;</span> &#123;<br>    region = <span class="hljs-string">&quot;us-east-2&quot;</span><br><br>    default_tags &#123;<br>      tags = &#123;<br>        Environment = <span class="hljs-string">&quot;lab-test&quot;</span><br>        Owner = <span class="hljs-string">&quot;Felix&quot;</span><br>        Project = <span class="hljs-string">&quot;AWS-boto3-SDK&quot;</span><br><br>      &#125;<br>    &#125;<br>  <br>&#125;<br><br>module <span class="hljs-string">&quot;vpc&quot;</span> &#123;<br>    <span class="hljs-keyword">source</span> = <span class="hljs-string">&quot;terraform-aws-modules/vpc/aws&quot;</span><br><br>    name = var.vpc_name<br>    cidr = var.vpc_cidr<br><br>    azs = var.vpc_azs<br>    public_subnets = var.vpc_public_subnets<br>    private_subnets = var.vpc_private_subnets<br><br>    enable_nat_gateway = var.vpc_enable_nat_gateway<br>    single_nat_gateway = var.vpc_single_nat_gateway<br>    one_nat_gateway_per_az = var.vpc_one_nat_gateway_per_az<br><br>    enable_dns_hostnames = var.vpc_enable_dns_hostnames<br><br><br><br>    tags = var.vpc_tags<br>&#125;<br><br>module <span class="hljs-string">&quot;web_server_sg&quot;</span> &#123;<br>  <span class="hljs-keyword">source</span> = <span class="hljs-string">&quot;terraform-aws-modules/security-group/aws//modules/http-80&quot;</span><br><br>  name        = <span class="hljs-string">&quot;web-server&quot;</span><br>  description = <span class="hljs-string">&quot;Security group for web-server with HTTP ports open within VPC&quot;</span><br>  vpc_id      = module.vpc.vpc_id<br><br>  ingress_cidr_blocks = var.web_server_sg_ingress_cidr_blocks<br><br>&#125;<br><br>module <span class="hljs-string">&quot;ssh_sg&quot;</span> &#123;<br>  <span class="hljs-keyword">source</span> = <span class="hljs-string">&quot;terraform-aws-modules/security-group/aws//modules/ssh&quot;</span><br>  name = <span class="hljs-string">&quot;ssh&quot;</span><br>  vpc_id      = module.vpc.vpc_id<br>  ingress_cidr_blocks = var.ssh_sg_ingress_cidr_blocks<br>  <br>&#125;<br><br>module <span class="hljs-string">&quot;ec2_instance&quot;</span> &#123;<br>  <span class="hljs-keyword">source</span>  = <span class="hljs-string">&quot;terraform-aws-modules/ec2-instance/aws&quot;</span><br><br>  name = var.ec2_instance_name<br><br>  ami                    = var.ec2_instance_ami<br>  instance_type          = var.ec2_instance_instance_type<br>  key_name               = var.ec2_instance_key_name<br>  vpc_security_group_ids = [module.web_server_sg.security_group_id, module.ssh_sg.security_group_id]<br>  subnet_id              = module.vpc.public_subnets[<span class="hljs-number">1</span>]<br><br>  user_data = <span class="hljs-string">&quot;$&#123;file(&quot;</span>install_web_server.sh<span class="hljs-string">&quot;)&#125;&quot;</span><br><br>  tags = var.ec2_instance_tags<br><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>variables.tf</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-comment">###</span><br><span class="hljs-comment"># define variables for vpc</span><br><span class="hljs-comment">###</span><br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_name&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Name of VPC&quot;</span><br>    type = <span class="hljs-keyword">string</span><br>    default = <span class="hljs-string">&quot;Lab-VPC&quot;</span><br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_cidr&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;CIDR block for VPC&quot;</span><br>    type = <span class="hljs-keyword">string</span><br>    default = <span class="hljs-string">&quot;10.0.0.0/16&quot;</span><br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_azs&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Availability zones for VPC&quot;</span><br>    type = <span class="hljs-keyword">list</span>(<span class="hljs-keyword">string</span>)<br>    default = [<span class="hljs-string">&quot;us-east-2a&quot;</span>, <span class="hljs-string">&quot;us-east-2b&quot;</span>]<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_private_subnets&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Private subnets for VPC&quot;</span><br>    type = <span class="hljs-keyword">list</span>(<span class="hljs-keyword">string</span>)<br>    default = [ <span class="hljs-string">&quot;10.0.1.0/24&quot;</span>, <span class="hljs-string">&quot;10.0.3.0/24&quot;</span> ]<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_public_subnets&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Public subnets for VPC&quot;</span><br>    type = <span class="hljs-keyword">list</span>(<span class="hljs-keyword">string</span>)<br>    default = [ <span class="hljs-string">&quot;10.0.0.0/24&quot;</span>, <span class="hljs-string">&quot;10.0.2.0/24&quot;</span> ]<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_enable_nat_gateway&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Enable NAT gateway for VPC&quot;</span><br>    default = true<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_single_nat_gateway&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Enable Single NAT gateway for VPC&quot;</span><br>    default = true<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_one_nat_gateway_per_az&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Enable one NAT gateway per az for VPC&quot;</span><br>    default = false<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_enable_dns_hostnames&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;enable DNS hostnames&quot;</span><br>    default = true<br>  <br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;vpc_tags&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Tags to apply to resources created by VPC module&quot;</span><br>    type = map(<span class="hljs-keyword">string</span>)<br>    default = &#123;<br>      <span class="hljs-string">&quot;Terrform&quot;</span> = <span class="hljs-string">&quot;True&quot;</span><br>    &#125;<br>  <br>&#125;<br><br><br><span class="hljs-comment">###</span><br><span class="hljs-comment"># define variables for ec2 instance</span><br><span class="hljs-comment">###</span><br><br><span class="hljs-comment">#name = var.ec2_instance_name</span><br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;ec2_instance_name&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Name of EC2 instance&quot;</span><br>    type = <span class="hljs-keyword">string</span><br>    default = <span class="hljs-string">&quot;web server for testing&quot;</span><br><br>&#125;<br><br><span class="hljs-comment"># ami = var.ec2_instance_ami</span><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;ec2_instance_ami&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;AMI of EC2 instance&quot;</span><br>    type = <span class="hljs-keyword">string</span><br>    default = <span class="hljs-string">&quot;ami-0beaa649c482330f7&quot;</span><br>    <br>&#125;<br><br><span class="hljs-comment"># instance_type = var.ec2_instance_instance_type</span><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;ec2_instance_instance_type&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Instance type of EC2 instance&quot;</span><br>    type = <span class="hljs-keyword">string</span><br>    default = <span class="hljs-string">&quot;t2.micro&quot;</span><br>    <br>&#125;<br><br><span class="hljs-comment"># key_name = var.ec2_instance_key_name</span><br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;ec2_instance_key_name&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Key name of EC2 instance&quot;</span><br>    type = <span class="hljs-keyword">string</span><br>    default = <span class="hljs-string">&quot;felix-key-pair&quot;</span><br>    <br>&#125;<br><br><br><span class="hljs-comment"># tags = var.ec2_instance_tags</span><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;ec2_instance_tags&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Tags to apply to EC2 instance&quot;</span><br>    type = map(<span class="hljs-keyword">string</span>)<br>    default = &#123;<br>      <span class="hljs-string">&quot;Terrform&quot;</span> = <span class="hljs-string">&quot;True&quot;</span><br>    &#125;<br>  <br>&#125;<br><br><span class="hljs-comment">###</span><br><span class="hljs-comment"># define variables for security group</span><br><span class="hljs-comment">###</span><br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;web_server_sg_ingress_cidr_blocks&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;List of IPv4 CIDR ranges to use on all ingress rules for web server HTTP&quot;</span><br>    type = <span class="hljs-keyword">list</span>(<span class="hljs-keyword">string</span>)<br>    default =   [<br>    <span class="hljs-string">&quot;36.152.113.203/32&quot;</span>, <span class="hljs-string">&quot;218.2.208.75/32&quot;</span>, <span class="hljs-string">&quot;172.31.0.0/16&quot;</span>, <span class="hljs-string">&quot;18.162.220.99/32&quot;</span>,<br>    <span class="hljs-string">&quot;18.162.103.100/32&quot;</span>, <span class="hljs-string">&quot;18.162.171.88/32&quot;</span>, <span class="hljs-string">&quot;58.212.197.96/32&quot;</span>, <span class="hljs-string">&quot;18.162.198.138/32&quot;</span> <br>    ]<br>&#125;<br><br><span class="hljs-keyword">variable</span> <span class="hljs-string">&quot;ssh_sg_ingress_cidr_blocks&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;List of IPv4 CIDR ranges to use on all ingress rules for ssh&quot;</span><br>    type = <span class="hljs-keyword">list</span>(<span class="hljs-keyword">string</span>)<br>    default =   [<br>    <span class="hljs-string">&quot;36.152.113.203/32&quot;</span>, <span class="hljs-string">&quot;218.2.208.75/32&quot;</span>, <span class="hljs-string">&quot;172.31.0.0/16&quot;</span>, <span class="hljs-string">&quot;18.162.220.99/32&quot;</span>,<br>    <span class="hljs-string">&quot;18.162.103.100/32&quot;</span>, <span class="hljs-string">&quot;18.162.171.88/32&quot;</span>, <span class="hljs-string">&quot;58.212.197.96/32&quot;</span>, <span class="hljs-string">&quot;18.162.198.138/32&quot;</span><br>    ]<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>outputs.tf</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tcl">output <span class="hljs-string">&quot;vpc_public_subnets&quot;</span> &#123;<br>  description = <span class="hljs-string">&quot;IDs of the VPC&#x27;s public subnets&quot;</span><br>  value       = module.vpc.public_subnets<br>&#125;<br><br>output <span class="hljs-string">&quot;ec2_instance_public_dns&quot;</span> &#123;<br>  description = <span class="hljs-string">&quot;The public DNS name assigned to the instance.&quot;</span><br>  value = module.ec2_instance.public_dns<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>install_web_server.sh</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br>yum install -y httpd mysql php<br>wget https://us-west-2-tcprod.s3.amazonaws.com/courses/ILT-TF-100-TECESS/v4.7.10/lab-1-build-a-web-server/scripts/lab-app.zip<br>unzip lab-app.zip -d /var/www/html/<br>chkconfig httpd on<br>service httpd start<br></code></pre></td></tr></table></figure></li></ul><h2 id="1-2-Lab-2-Topology"><a href="#1-2-Lab-2-Topology" class="headerlink" title="1.2 Lab-2 Topology"></a>1.2 Lab-2 Topology</h2><img src="https://felixyanghui.synology.me:8441/images/2022/12/12/image-20221212112639946.png" alt="image-20221212112639946" style="zoom:50%;" /><h3 id="1-2-1-Create-database-and-interact-with-web-server-web-console"><a href="#1-2-1-Create-database-and-interact-with-web-server-web-console" class="headerlink" title="1.2.1 Create database and interact with web server (web console)"></a>1.2.1 Create database and interact with web server (web console)</h3><ul><li>Create security group for RDS instance</li><li>Create subnet groups for database</li><li>Create RDS database instance</li><li>Configure web instance on web browser to connect to RDS database instance</li></ul><h3 id="1-2-2-Create-database-and-interact-with-web-server-Terraform-module"><a href="#1-2-2-Create-database-and-interact-with-web-server-Terraform-module" class="headerlink" title="1.2.2 Create database and interact with web server (Terraform - module)"></a>1.2.2 Create database and interact with web server (Terraform - module)</h3><ul><li><p>Add variables for Dymanadb - MYSQL</p><ul><li>Use locals to define parameters for DB</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">###</span><br><span class="hljs-comment"># define variables for security group</span><br><span class="hljs-comment">###</span><br><br>variable <span class="hljs-string">&quot;web_server_sg_ingress_cidr_blocks&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;List of IPv4 CIDR ranges to use on all ingress rules for web server HTTP&quot;</span><br>    <span class="hljs-built_in">type</span> = <span class="hljs-built_in">list</span>(string)<br>    default =   [<br>    <span class="hljs-string">&quot;36.152.113.203/32&quot;</span>, <span class="hljs-string">&quot;218.2.208.75/32&quot;</span>, <span class="hljs-string">&quot;172.31.0.0/16&quot;</span>, <span class="hljs-string">&quot;18.162.220.99/32&quot;</span>,<br>    <span class="hljs-string">&quot;18.162.103.100/32&quot;</span>, <span class="hljs-string">&quot;18.162.171.88/32&quot;</span>, <span class="hljs-string">&quot;58.212.197.96/32&quot;</span>, <span class="hljs-string">&quot;18.162.198.138/32&quot;</span>,<br>    <span class="hljs-string">&quot;117.89.135.187/32&quot;</span> <br>    ]<br>&#125;<br><br>variable <span class="hljs-string">&quot;ssh_sg_ingress_cidr_blocks&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;List of IPv4 CIDR ranges to use on all ingress rules for ssh&quot;</span><br>    <span class="hljs-built_in">type</span> = <span class="hljs-built_in">list</span>(string)<br>    default =   [<br>    <span class="hljs-string">&quot;36.152.113.203/32&quot;</span>, <span class="hljs-string">&quot;218.2.208.75/32&quot;</span>, <span class="hljs-string">&quot;172.31.0.0/16&quot;</span>, <span class="hljs-string">&quot;18.162.220.99/32&quot;</span>,<br>    <span class="hljs-string">&quot;18.162.103.100/32&quot;</span>, <span class="hljs-string">&quot;18.162.171.88/32&quot;</span>, <span class="hljs-string">&quot;58.212.197.96/32&quot;</span>, <span class="hljs-string">&quot;18.162.198.138/32&quot;</span>,<br>    <span class="hljs-string">&quot;117.89.135.187/32&quot;</span><br>    ]<br>&#125;<br><br><span class="hljs-comment">###</span><br><span class="hljs-comment"># define variables for db</span><br><span class="hljs-comment">###</span><br><br>variable <span class="hljs-string">&quot;db_sg_name&quot;</span> &#123;<br>    <span class="hljs-built_in">type</span> = string<br>    default = <span class="hljs-string">&quot;lab&quot;</span><br>  <br>&#125;<br><br><span class="hljs-built_in">locals</span> &#123;<br>    web_server_sg_name = <span class="hljs-string">&quot;web_server&quot;</span><br>    ssh_sg_name = <span class="hljs-string">&quot;ssh&quot;</span><br>    db_identifier = <span class="hljs-string">&quot;lab-db&quot;</span><br><br>    db_engine            = <span class="hljs-string">&quot;mysql&quot;</span><br>    db_engine_version    = <span class="hljs-string">&quot;8.0.28&quot;</span><br>    db_instance_class    = <span class="hljs-string">&quot;db.t3.micro&quot;</span><br>    db_allocated_storage = <span class="hljs-number">5</span><br><br>    db_db_name  = <span class="hljs-string">&quot;lab&quot;</span><br>    db_username = <span class="hljs-string">&quot;lab_admin&quot;</span><br>    db_password = <span class="hljs-string">&quot;lab-password&quot;</span><br>    db_port     = <span class="hljs-string">&quot;3306&quot;</span><br>    db_sg_ingress_with_source_security_group_id = [ <br>        &#123;<br>            from_port   = <span class="hljs-number">3306</span><br>            to_port     = <span class="hljs-number">3306</span><br>            protocol    = <span class="hljs-string">&quot;tcp&quot;</span><br>            description = <span class="hljs-string">&quot;mysql&quot;</span><br>            source_security_group_id = module.web_server_sg.security_group_id<br>      &#125;,<br>    ]<br>    db_major_engine_version = <span class="hljs-string">&quot;8.0&quot;</span><br>    db_family = <span class="hljs-string">&quot;mysql8.0&quot;</span><br>    db_create_db_subnet_group = true<br>    db_multi_az = true<br>    db_skip_final_snapshot = true<br>&#125;<br><br>variable <span class="hljs-string">&quot;db_identifier&quot;</span> &#123;<br>    <span class="hljs-built_in">type</span> = string<br>    default = <span class="hljs-string">&quot;lab-db&quot;</span><br><br>&#125;<br><br>variable <span class="hljs-string">&quot;db_tags&quot;</span> &#123;<br>    description = <span class="hljs-string">&quot;Tags to apply to db&quot;</span><br>    <span class="hljs-built_in">type</span> = <span class="hljs-built_in">map</span>(string)<br>    default = &#123;<br>      <span class="hljs-string">&quot;Terrform&quot;</span> = <span class="hljs-string">&quot;True&quot;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>Add DB in main.tf</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># for db security group</span><br>module <span class="hljs-string">&quot;db_sg&quot;</span> &#123;<br>  source = <span class="hljs-string">&quot;terraform-aws-modules/security-group/aws&quot;</span><br><br>  name        = var.db_sg_name<br>  vpc_id      = module.vpc.vpc_id<br><br>  ingress_with_source_security_group_id = local.db_sg_ingress_with_source_security_group_id<br>&#125;<br><br>module <span class="hljs-string">&quot;db&quot;</span> &#123;<br>  source  = <span class="hljs-string">&quot;terraform-aws-modules/rds/aws&quot;</span><br><br>  identifier = local.db_identifier<br><br>  engine            = local.db_engine<br>  engine_version    = local.db_engine_version<br>  instance_class    = local.db_instance_class<br>  allocated_storage = local.db_allocated_storage<br>  db_name  = local.db_db_name<br>  username = local.db_username<br>  password = local.db_password<br>  port     = local.db_port<br>  major_engine_version = local.db_major_engine_version<br>  family = local.db_family<br>  multi_az = local.db_multi_az<br>  skip_final_snapshot = local.db_skip_final_snapshot<br>  vpc_security_group_ids = [module.db_sg.security_group_id]<br>  tags = var.db_tags<br>  <span class="hljs-comment"># DB subnet group</span><br>  create_db_subnet_group = local.db_create_db_subnet_group<br>  subnet_ids = module.vpc.private_subnets<br>  <br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>output.tf</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">output <span class="hljs-string">&quot;db_db_instance_endpoint&quot;</span> &#123;<br>  description = <span class="hljs-string">&quot;The connection endpoint&quot;</span><br>  value = module.db.db_instance_endpoint<br>  <br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="1-3-Lab-3-Topology"><a href="#1-3-Lab-3-Topology" class="headerlink" title="1.3 Lab-3 Topology"></a>1.3 Lab-3 Topology</h2><img src="https://felixyanghui.synology.me:8441/images/2022/12/02/image-20221129160103938.png" style="zoom:50%;" /><h3 id="1-3-1-Autoscalaing-Loadbalancer-and-Cloud-Watch"><a href="#1-3-1-Autoscalaing-Loadbalancer-and-Cloud-Watch" class="headerlink" title="1.3.1 Autoscalaing, Loadbalancer and Cloud Watch"></a>1.3.1 Autoscalaing, Loadbalancer and Cloud Watch</h3><ul><li><p>Create AMI from running EC2 - web server</p></li><li><p>Create loadbalancer:  ALB</p><p><img src="https://felixyanghui.synology.me:8441/images/2022/12/12/image-20221212135325032.png" alt="image-20221212135325032"></p></li><li><p>Create EC2 launch template</p></li><li><p>Create auto-scalling group, enable load balancer and choose the target group which configured in ALB creation step</p><p><img src="https://felixyanghui.synology.me:8441/images/2022/12/12/image-20221212141947725.png" alt="image-20221212141947725"></p></li><li><p>Validate load balancer if run probably, by accessing the load balancer DNS name. Refresh browser will show different EC2 name as load balancer load balance the traffic to different EC2 in target group</p></li><li><p>Create ASG policy Target tracking scalling policy, which automatically create CloudWatch alarm to monitor the CPU utilization of ASG</p></li></ul><h3 id="1-3-2-Autoscalaing-Loadbalancer-and-Cloud-Watch-Terraform-Module"><a href="#1-3-2-Autoscalaing-Loadbalancer-and-Cloud-Watch-Terraform-Module" class="headerlink" title="1.3.2 Autoscalaing, Loadbalancer and Cloud Watch (Terraform - Module)"></a>1.3.2 Autoscalaing, Loadbalancer and Cloud Watch (Terraform - Module)</h3><ul><li><p>Add ALB, ASG and related security groups in main.tf</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-comment">## Creat loadbalancer ALB</span><br>module <span class="hljs-string">&quot;alb&quot;</span> &#123;<br>  <span class="hljs-keyword">source</span>  = <span class="hljs-string">&quot;terraform-aws-modules/alb/aws&quot;</span><br>  version = <span class="hljs-string">&quot;~&gt; 8.0&quot;</span><br><br>  name = local.alb_name<br><br>  load_balancer_type = local.alb_load_balancer_type<br><br>  vpc_id             = module.vpc.vpc_id<br>  subnets            = module.vpc.public_subnets<br>  security_groups    = [module.web_server_sg.security_group_id]<br><br><span class="hljs-comment">  # access_logs = &#123;</span><br><span class="hljs-comment">  #   bucket = &quot;my-alb-logs&quot;</span><br><span class="hljs-comment">  # &#125;</span><br><br>  target_groups = local.alb_target_groups<br><br><br>  http_tcp_listeners = local.alb_http_tcp_listeners<br><br>  tags = local.alb_tags<br><br>&#125;<br><br><br><span class="hljs-comment">## create auto scalling</span><br><br><span class="hljs-comment"># for asg security group</span><br>module <span class="hljs-string">&quot;asg_sg&quot;</span> &#123;<br>  <span class="hljs-keyword">source</span> = <span class="hljs-string">&quot;terraform-aws-modules/security-group/aws&quot;</span><br><br>  name        = local.asg_sg_name<br>  vpc_id      = module.vpc.vpc_id<br><br>  ingress_with_source_security_group_id = local.asg_sg_ingress_with_source_security_group_id<br>  egress_with_cidr_blocks = local.asg_sg_egress_with_cidr_blocks<br>&#125;<br><br>module <span class="hljs-string">&quot;asg&quot;</span> &#123;<br>  <span class="hljs-keyword">source</span>  = <span class="hljs-string">&quot;terraform-aws-modules/autoscaling/aws&quot;</span><br><br><span class="hljs-comment">  # Autoscaling group</span><br>  name = local.asg_name<br><br><span class="hljs-comment">  # combine ASG with loadbalancer alb through target_group_arns</span><br>  target_group_arns = module.alb.target_group_arns<br><br>  min_size                  = local.asg_min_size<br>  max_size                  = local.asg_max_size<br>  desired_capacity          = local.asg_desired_capacity<br>  wait_for_capacity_timeout = local.asg_wait_for_capacity_timeout<br>  health_check_type         = local.asg_health_check_type<br>  vpc_zone_identifier       = module.vpc.private_subnets<br><br>  instance_refresh = local.asg_instance_refresh<br><br><span class="hljs-comment">  # Launch configuration</span><br>  launch_template_name = local.asg_lc_name<br><br>  image_id          = local.asg_image_id<br>  instance_type     = local.asg_instance_type<br>  key_name          = var.ec2_instance_key_name<br>  <br><span class="hljs-comment"># use pre-defined sg, only allow the access from loadbalancers or others in sg: web server group</span><br>  security_groups = [module.asg_sg.security_group_id]<br><br><span class="hljs-comment">  # create autoscaling policy based on avgCPUutilization</span><br>  scaling_policies = local.asg_scaling_policies<br><br><br>  tags = local.asg_tags<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>Define related variables and locals in variables.tf</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs tcl">locals &#123;<br>    ...<br><br><span class="hljs-comment">    # alb</span><br>    alb_load_balancer_type = <span class="hljs-string">&quot;application&quot;</span><br>    alb_name = <span class="hljs-string">&quot;lab-alb&quot;</span><br>    alb_target_groups = [<br>        &#123;<br>        name_prefix      = <span class="hljs-string">&quot;pref-&quot;</span><br>        backend_protocol = <span class="hljs-string">&quot;HTTP&quot;</span><br>        backend_port     = <span class="hljs-number">80</span><br>        &#125;<br>    ]<br><br>    alb_http_tcp_listeners = [<br>        &#123;<br>            port               = <span class="hljs-number">80</span><br>            protocol           = <span class="hljs-string">&quot;HTTP&quot;</span><br>            target_group_index = <span class="hljs-number">0</span><br>        &#125;<br>    ]<br><br>    alb_tags = &#123;<br><br>        <span class="hljs-string">&quot;Terrform&quot;</span> = <span class="hljs-string">&quot;True&quot;</span><br>    &#125;<br><br><span class="hljs-comment">    #asg</span><br>    asg_sg_ingress_with_source_security_group_id = [ <br>        &#123;<br>            from_port   = <span class="hljs-number">80</span><br>            to_port     = <span class="hljs-number">80</span><br>            protocol    = <span class="hljs-string">&quot;tcp&quot;</span><br>            description = <span class="hljs-string">&quot;web&quot;</span><br>            source_security_group_id = module.web_server_sg.security_group_id<br>      &#125;,<br>        &#123;<br>            from_port   = <span class="hljs-number">22</span><br>            to_port     = <span class="hljs-number">22</span><br>            protocol    = <span class="hljs-string">&quot;tcp&quot;</span><br>            description = <span class="hljs-string">&quot;ssh&quot;</span><br>            source_security_group_id = module.web_server_sg.security_group_id<br>      &#125;,<br>    ]<br><br><span class="hljs-comment"># define egress policy to allow all protocols for EC2 in private subnet to access internet</span><br>    asg_sg_egress_with_cidr_blocks = [<br>        &#123;<br>            from_port = <span class="hljs-number">-1</span><br>            to_port = <span class="hljs-number">-1</span><br><span class="hljs-comment">            # value = &quot;all&quot; to allow all protocols</span><br>            protocol    = <span class="hljs-string">&quot;all&quot;</span><br>            description = <span class="hljs-string">&quot;all ports for egress of EC2&quot;</span><br>            cidr_blocks = <span class="hljs-string">&quot;0.0.0.0/0&quot;</span><br>        &#125;,<br>    ]<br><br>    asg_name = <span class="hljs-string">&quot;lab-asg&quot;</span><br>    asg_min_size                  = <span class="hljs-number">2</span><br>    asg_max_size                  = <span class="hljs-number">4</span><br>    asg_desired_capacity          = <span class="hljs-number">2</span><br>    asg_wait_for_capacity_timeout = <span class="hljs-number">0</span><br>    asg_health_check_type         = <span class="hljs-string">&quot;EC2&quot;</span><br>    asg_instance_refresh = &#123;<br>        strategy = <span class="hljs-string">&quot;Rolling&quot;</span><br>        preferences = &#123;<br>            checkpoint_delay       = <span class="hljs-number">600</span><br>            checkpoint_percentages = [<span class="hljs-number">35</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>]<br>            instance_warmup        = <span class="hljs-number">300</span><br>            min_healthy_percentage = <span class="hljs-number">50</span><br>        &#125;<br>        triggers = [<span class="hljs-string">&quot;tag&quot;</span>]<br>    &#125;<br><br><br>    asg_lc_name           = <span class="hljs-string">&quot;lab-asg-launch-configuration&quot;</span><br>    asg_image_id          = <span class="hljs-string">&quot;ami-0366e7e36827b904b&quot;</span><br>    asg_instance_type     = <span class="hljs-string">&quot;t2.micro&quot;</span><br>    asg_ebs_optimized     = true<br>    asg_enable_monitoring = true<br><br><br>    asg_tags = &#123;<br>        <span class="hljs-string">&quot;Terrform&quot;</span> = <span class="hljs-string">&quot;True&quot;</span><br>    &#125;<br><br>    asg_sg_name = <span class="hljs-string">&quot;lab-asg-sg&quot;</span><br><br>    asg_scaling_policies = &#123;<br>        lab-autoscaling-policy = &#123;<br>            policy_type               = <span class="hljs-string">&quot;TargetTrackingScaling&quot;</span><br>            target_tracking_configuration = &#123;<br>                predefined_metric_specification = &#123;<br>                predefined_metric_type = <span class="hljs-string">&quot;ASGAverageCPUUtilization&quot;</span><br><span class="hljs-comment">                # resource_label         = &quot;Lab-Label&quot;</span><br>                &#125;<br>                target_value = <span class="hljs-number">50.0</span><br>            &#125;<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="1-3-3-Learning-and-Summary"><a href="#1-3-3-Learning-and-Summary" class="headerlink" title="1.3.3 Learning and Summary"></a>1.3.3 Learning and Summary</h3><ul><li>Issue not resolved:  Configure launch template with <code>user_data</code>  and EC2 in private network, even though NAT gateway and egress rules (allow all protocols) already set. Only EC2 AMI works</li><li>Create ALB, ASG<ul><li>ALB:  two components : alb_target_groups and alb_http_tcp_listeners</li><li>ASG: <ul><li>launch_template</li><li>autoscaling group</li><li>target_group_arns:  associate ASG with loadbalancer alb target groups</li><li>scaling_policies:  automatically create CloudWatch alarms for ASG scaling</li></ul></li></ul></li><li></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>AWS</tag>
      
      <tag>lab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ansible lab</title>
    <link href="/1984/01/24/ansible-web-haproxy/"/>
    <url>/1984/01/24/ansible-web-haproxy/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1 id="Infra-preparation"><a href="#Infra-preparation" class="headerlink" title="Infra preparation"></a>Infra preparation</h1><h2 id="Servers-List"><a href="#Servers-List" class="headerlink" title="Servers List"></a>Servers List</h2><table><thead><tr><th>Server Name</th><th>IP address</th><th>Role</th><th>OS</th></tr></thead><tbody><tr><td>Ansible01</td><td>192.168.22.67</td><td>Web Server - 1</td><td>CentOS8</td></tr><tr><td>Ansible02</td><td>192.168.22.68</td><td>Web Server - 2</td><td>CentOS8</td></tr><tr><td>Ansible03</td><td>192.168.22.69</td><td>HAProxy</td><td>CentOS8</td></tr></tbody></table><h2 id="Topology"><a href="#Topology" class="headerlink" title="Topology"></a>Topology</h2><p>Overall topology is like below:</p><p>![image-20220311092828023](&#x2F;Users&#x2F;felix&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220311092828023.png)</p><h2 id="Provision-Infra-with-Terraform-and-vSphere"><a href="#Provision-Infra-with-Terraform-and-vSphere" class="headerlink" title="Provision Infra with Terraform and vSphere"></a>Provision Infra with Terraform and vSphere</h2><p>Leverage terraform to provision the servers, create below main.tf file:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Configure the VMware vSphere Provider</span><br><span class="hljs-string">provider</span> <span class="hljs-string">&quot;vsphere&quot;</span> &#123;<br>  <span class="hljs-string">user</span>           <span class="hljs-string">=</span> <span class="hljs-string">&quot;administrator@vsphere.local&quot;</span><br>  <span class="hljs-string">password</span>       <span class="hljs-string">=</span> <span class="hljs-string">&quot;xxx&quot;</span><br>  <span class="hljs-string">vsphere_server</span> <span class="hljs-string">=</span> <span class="hljs-string">&quot;192.168.20.251&quot;</span><br><br>  <span class="hljs-comment"># if you have a self-signed cert</span><br>  <span class="hljs-string">allow_unverified_ssl</span> <span class="hljs-string">=</span> <span class="hljs-literal">true</span><br>&#125;<br><br><span class="hljs-comment"># Deploy 3 linux VMs</span><br><span class="hljs-string">module</span> <span class="hljs-string">&quot;centos-server-linuxvm&quot;</span> &#123;<br>  <span class="hljs-string">source</span>    <span class="hljs-string">=</span> <span class="hljs-string">&quot;Terraform-VMWare-Modules/vm/vsphere&quot;</span><br>  <span class="hljs-comment">#source    = &quot;.terraform/modules/centos-server-linuxvm&quot;</span><br>  <span class="hljs-string">version</span>   <span class="hljs-string">=</span> <span class="hljs-string">&quot;3.4.1&quot;</span><br>  <span class="hljs-string">vmtemp</span>    <span class="hljs-string">=</span> <span class="hljs-string">&quot;CentOS8&quot;</span><br>  <span class="hljs-string">instances</span> <span class="hljs-string">=</span> <span class="hljs-number">3</span><br>  <span class="hljs-string">vmname</span>    <span class="hljs-string">=</span> <span class="hljs-string">&quot;Ansible&quot;</span><br>  <span class="hljs-string">vmrp</span>      <span class="hljs-string">=</span> <span class="hljs-string">&quot;Felix-Cluster/Resources/ansiblelab&quot;</span><br>  <span class="hljs-string">network</span> <span class="hljs-string">=</span> &#123;<br>    <span class="hljs-string">&quot;VM Network&quot;</span> <span class="hljs-string">=</span> [<span class="hljs-string">&quot;192.168.22.67&quot;</span>, <span class="hljs-string">&quot;192.168.22.68&quot;</span>, <span class="hljs-string">&quot;192.168.22.69&quot;</span>] <span class="hljs-comment"># To use DHCP create Empty list [&quot;&quot;,&quot;&quot;]; You can also use a CIDR annotation;</span><br>  &#125;<br>  <span class="hljs-string">vmgateway</span> <span class="hljs-string">=</span> <span class="hljs-string">&quot;192.168.0.250&quot;</span><br>  <span class="hljs-string">dc</span>        <span class="hljs-string">=</span> <span class="hljs-string">&quot;Felix-DC&quot;</span><br>  <span class="hljs-string">datastore</span> <span class="hljs-string">=</span> <span class="hljs-string">&quot;Data&quot;</span><br>  <span class="hljs-string">ipv4submask</span>  <span class="hljs-string">=</span> [<span class="hljs-string">&quot;16&quot;</span>, <span class="hljs-string">&quot;16&quot;</span>, <span class="hljs-string">&quot;16&quot;</span>]<br>  <span class="hljs-string">network_type</span> <span class="hljs-string">=</span> [<span class="hljs-string">&quot;vmxnet3&quot;</span>, <span class="hljs-string">&quot;vmxnet3&quot;</span>, <span class="hljs-string">&quot;vmxnet3&quot;</span>]<br>  <span class="hljs-string">dns_server_list</span>  <span class="hljs-string">=</span> [<span class="hljs-string">&quot;192.168.22.1&quot;</span>, <span class="hljs-string">&quot;192.168.22.1&quot;</span>, <span class="hljs-string">&quot;192.168.22.1&quot;</span>]<br>  <span class="hljs-string">is_windows_image</span> <span class="hljs-string">=</span> <span class="hljs-literal">false</span><br>&#125;<br><br><span class="hljs-string">output</span> <span class="hljs-string">&quot;vmnames&quot;</span> &#123;<br>  <span class="hljs-string">value</span> <span class="hljs-string">=</span> <span class="hljs-string">module.centos-server-linuxvm.VM</span><br>&#125;<br><br><span class="hljs-string">output</span> <span class="hljs-string">&quot;vmnameswip&quot;</span> &#123;<br>  <span class="hljs-string">value</span> <span class="hljs-string">=</span> <span class="hljs-string">module.centos-server-linuxvm.ip</span><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">terrform init</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">terrform plan</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">terrform apply</span><br></code></pre></td></tr></table></figure><h1 id="Step-by-step-to-set-up-webservers-and-haproxy-with-ansible"><a href="#Step-by-step-to-set-up-webservers-and-haproxy-with-ansible" class="headerlink" title="Step by step to set up webservers and haproxy with ansible"></a><a href="https://github.com/felixyh/ansiblelab">Step by step to set up webservers and haproxy with ansible</a></h1><h2 id="Lab-01"><a href="#Lab-01" class="headerlink" title="Lab-01"></a>Lab-01</h2><h3 id="Initialize-lab-environment"><a href="#Initialize-lab-environment" class="headerlink" title="Initialize lab environment"></a>Initialize lab environment</h3><p>Create hosts file</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[web]<br>ansible01 <span class="hljs-attribute">ansible_host</span>=192.168.22.67<br>ansible02 <span class="hljs-attribute">ansible_host</span>=192.168.22.68<br><br>[haproxy]<br>ansible03 <span class="hljs-attribute">ansible_host</span>=192.168.22.69<br><br>[web:vars]<br><span class="hljs-attribute">ansible_ssh_user</span>=root<br><br>[haproxy:vars]<br><span class="hljs-attribute">ansible_ssh_user</span>=root<br></code></pre></td></tr></table></figure><p>Ignore SSH authenticity checking, to avoid any human intervention in the middle of the script execution for below prompts:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># GATHERING FACTS <span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">***</span></span><br><span class="hljs-strong"><span class="hljs-section"># The authenticity of host &#x27;xxx.xxx.xxx.xxx (xxx.xxx.xxx.xxx)&#x27; can&#x27;t be established.</span></span><br><span class="hljs-strong"><span class="hljs-section"># RSA key fingerprint is xx:yy:zz:....</span></span><br><span class="hljs-strong"><span class="hljs-section"># Are you sure you want to continue connecting (yes/no)?</span></span><br></code></pre></td></tr></table></figure><p>Edit the <em>ansible.cfg</em>, set <code>host_key_checking=false</code></p><blockquote><p>ansible configuration file is only created automatically during the installation if you perform the installation with package managers like yum or apt-get. If you installed ansible using pip you should create the configuration file manually.</p><p>See <a href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html#the-configuration-file">The configuration file</a>. Ansible searches configuration files in this order</p><ol><li>ansible.cfg (in the current directory)</li><li>~&#x2F;.ansible.cfg (in the home directory)</li><li>&#x2F;etc&#x2F;ansible&#x2F;ansible.cfg</li></ol><p>If there isnt any configuration file the defaults will apply. See the hardcoded defaults in <a href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html#ansible-configuration-settings">Ansible Configuration Settings</a>. </p><p> <code>ansible-config dump</code> can help show the default ansible.cfg file.</p><p><code>ansible-config init --disabled &gt; ansible.cfg</code> can help generate ansible.cfg file with all options disabled by default</p></blockquote><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gradle">felix@Felixs-MacBook-Pro <span class="hljs-number">01</span>-Environment % cat <span class="hljs-regexp">/etc/</span>ansible/ansible.cfg | <span class="hljs-keyword">grep</span> host_key<br>host_key_checking=<span class="hljs-keyword">false</span><br></code></pre></td></tr></table></figure><p>Upload the key to servers in batch with Ansible module: <code>authorized_key</code></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">ansible -i <span class="hljs-number">01</span>-Environment/hosts <span class="hljs-keyword">all</span>  -m authorized_key -a &quot;user=root key=&#x27;&#123;&#123; lookup(&#x27;file&#x27;,&#x27;~/.ssh/id_rsa.pub&#x27;)&#125;&#125;&#x27; path=&#x27;/root/.ssh/authorized_keys&#x27; manage_dir=no&quot; <span class="hljs-comment">--ask-pass -c paramiko</span><br>#  <br> <br>#<br><span class="hljs-keyword">user</span>=root    #<br>key=<span class="hljs-string">&#x27;&#123;&#123; lookup(&#x27;</span>fil<span class="hljs-string">e&#x27;,&#x27;</span>/root/.ssh/id_rsa.pub<span class="hljs-string">&#x27;)&#125;&#125;&#x27;</span>    #<br><span class="hljs-type">path</span>=<span class="hljs-string">&#x27;/root/.ssh/authorized_keys&#x27;</span>    #<br>manage_dir=<span class="hljs-keyword">no</span>       #authorized_keysyes, <span class="hljs-type">path</span>  authorized key  <span class="hljs-keyword">no</span><br><span class="hljs-keyword">exclusive</span> [<span class="hljs-keyword">default</span>: <span class="hljs-keyword">no</span>] # authorized_keys  key<br>state (Choices: present, absent) [<span class="hljs-keyword">Default</span>: present] #present  key  authorized_keys absent  authorized_keys  key<br><br></code></pre></td></tr></table></figure><p>Lastly, add key footprint into known host in localhost and disable firewall on all servers</p><p>Create the setup.yaml file as below:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">all</span><br>  <span class="hljs-attr">become:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">become_user:</span> <span class="hljs-string">root</span><br>  <span class="hljs-attr">remote_user:</span> <span class="hljs-string">root</span><br>  <span class="hljs-attr">gather_facts:</span> <span class="hljs-literal">false</span><br><br>  <span class="hljs-attr">tasks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">wait</span> <span class="hljs-string">for</span> <span class="hljs-string">ssh</span> <span class="hljs-string">to</span> <span class="hljs-string">be</span> <span class="hljs-string">up</span><br>      <span class="hljs-attr">become:</span> <span class="hljs-literal">false</span><br>      <span class="hljs-attr">wait_for:</span><br>        <span class="hljs-attr">port:</span> <span class="hljs-number">22</span><br>        <span class="hljs-attr">delay:</span> <span class="hljs-number">5</span><br>        <span class="hljs-attr">connect_timeout:</span> <span class="hljs-number">5</span><br>        <span class="hljs-attr">timeout:</span> <span class="hljs-number">360</span><br>        <span class="hljs-attr">host:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">&#123;&#123; ansible_host &#125;&#125;</span>&quot;</span><br>      <span class="hljs-attr">delegate_to:</span> <span class="hljs-string">localhost</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">add</span> <span class="hljs-string">footprints</span><br>      <span class="hljs-attr">shell:</span> <span class="hljs-string">&quot;ssh-keyscan -H <span class="hljs-template-variable">&#123;&#123; ansible_host &#125;&#125;</span> &gt;&gt; ~/.ssh/known_hosts&quot;</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">diable</span> <span class="hljs-string">firewall</span><br>      <span class="hljs-attr">service:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">firewalld</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">stopped</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>Run <code>setup.yaml </code> </p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># To add key footprint into known host in localhost</span><br><span class="hljs-attribute">ansible</span>-playbook -i <span class="hljs-number">01</span>-Environment/hosts <span class="hljs-number">01</span>-Environment/setup.yaml<br></code></pre></td></tr></table></figure><h2 id="Lab-02"><a href="#Lab-02" class="headerlink" title="Lab-02"></a>Lab-02</h2><h3 id="Install-necesssary-packages-and-set-global-proxy"><a href="#Install-necesssary-packages-and-set-global-proxy" class="headerlink" title="Install necesssary packages and set global proxy"></a>Install necesssary packages and set global proxy</h3><p>Create httpd.yaml file and create tasks for package installation</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">web</span><br>  <span class="hljs-attr">gather_facts:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">environment:</span><br>    <span class="hljs-attr">http_proxy:</span> <span class="hljs-number">10.64</span><span class="hljs-number">.1</span><span class="hljs-number">.81</span><span class="hljs-string">:8080</span><br>    <span class="hljs-attr">https_proxy:</span> <span class="hljs-number">10.64</span><span class="hljs-number">.1</span><span class="hljs-number">.81</span><span class="hljs-string">:8080</span><br>  <span class="hljs-attr">tasks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Installs</span> <span class="hljs-string">necessary</span> <span class="hljs-string">packages</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-string">httpd</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-string">php*</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-string">git</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">latest</span><br>        <span class="hljs-attr">update_cache:</span> <span class="hljs-literal">true</span>  <br></code></pre></td></tr></table></figure><h3 id="Setup-the-virtual-hosts"><a href="#Setup-the-virtual-hosts" class="headerlink" title="Setup the virtual hosts"></a>Setup the virtual hosts</h3><p>Create the virtual host configuration file: awesome-app</p><blockquote><p><a href="https://www.cnblogs.com/swl0221/p/11752080.html">A good article for virtual hosts</a> setup to understand the concept: </p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"># Listen 8067<br># <span class="hljs-tag">&lt;<span class="hljs-name">VirtualHost</span> *<span class="hljs-attr">:8067</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">VirtualHost</span> *<span class="hljs-attr">:80</span>&gt;</span><br>  DocumentRoot /var/www/awesome-app<br>  # ServerName www.awesomeapp.com<br>  ErrorLog /var/log/httpd/error_log<br>  CustomLog /var/log/httpd/access_log combined<br>  <span class="hljs-tag">&lt;<span class="hljs-name">Directory</span> /<span class="hljs-attr">var</span>/<span class="hljs-attr">www</span>/<span class="hljs-attr">awesome-app</span>&gt;</span><br>    Options -Indexes +FollowSymlinks<br>    Require all granted<br>    AllowOverride All<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">Directory</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">VirtualHost</span>&gt;</span><br></code></pre></td></tr></table></figure><p>@httpd.yaml file, create task to copy awesome-app configuration file to webserver: &#x2F;etc&#x2F;httpd&#x2F;conf.d&#x2F;</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Push</span> <span class="hljs-string">default</span> <span class="hljs-string">virtual</span> <span class="hljs-string">host</span> <span class="hljs-string">configuration</span><br>  <span class="hljs-attr">copy:</span><br>    <span class="hljs-attr">src:</span> <span class="hljs-string">files/awesome-app</span><br>    <span class="hljs-attr">dest:</span> <span class="hljs-string">/etc/httpd/conf.d/awesome-app.conf</span><br>    <span class="hljs-attr">mode:</span> <span class="hljs-number">0640</span><br></code></pre></td></tr></table></figure><h3 id="Deploy-the-web-servers"><a href="#Deploy-the-web-servers" class="headerlink" title="Deploy the web servers"></a>Deploy the web servers</h3><p>@httpd.yaml file, create task to deploy awesome application</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">our</span> <span class="hljs-string">awesome</span> <span class="hljs-string">application</span><br>  <span class="hljs-attr">git:</span><br>    <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/leucos/ansible-tuto-demosite.git</span><br>    <span class="hljs-attr">dest:</span> <span class="hljs-string">/var/www/awesome-app</span><br>  <span class="hljs-attr">tags:</span> <span class="hljs-string">deploy</span><br></code></pre></td></tr></table></figure><h3 id="Check-configuration-and-roll-back-to-default-http-server-as-needed"><a href="#Check-configuration-and-roll-back-to-default-http-server-as-needed" class="headerlink" title="Check configuration and roll back to default http server as needed"></a>Check configuration and roll back to default http server as needed</h3><p>@httpd.yaml file, create tasks to check configuration and rollback as needed</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Check</span> <span class="hljs-string">that</span> <span class="hljs-string">our</span> <span class="hljs-string">config</span> <span class="hljs-string">is</span> <span class="hljs-string">valid</span><br>   <span class="hljs-attr">command:</span> <span class="hljs-string">apachectl</span> <span class="hljs-string">configtest</span><br>   <span class="hljs-attr">register:</span> <span class="hljs-string">result</span><br>   <span class="hljs-attr">ignore_errors:</span> <span class="hljs-literal">true</span><br>   <span class="hljs-attr">notify:</span><br>     <span class="hljs-bullet">-</span> <span class="hljs-string">restart</span> <span class="hljs-string">httpd</span><br><br> <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Rolling</span> <span class="hljs-string">back</span> <span class="hljs-bullet">-</span> <span class="hljs-string">Removing</span> <span class="hljs-string">the</span> <span class="hljs-string">virtualhost</span><br>   <span class="hljs-attr">file:</span><br>     <span class="hljs-attr">path:</span><br>       <span class="hljs-bullet">-</span> <span class="hljs-string">/etc/httpd/conf.d/awesome-app.conf</span><br>       <span class="hljs-bullet">-</span> <span class="hljs-string">/var/www/awesome-app</span><br>     <span class="hljs-attr">state:</span> <span class="hljs-string">absent</span><br>   <span class="hljs-attr">when:</span> <span class="hljs-string">result</span> <span class="hljs-string">is</span> <span class="hljs-string">failed</span><br><br> <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Rolling</span> <span class="hljs-string">back</span> <span class="hljs-bullet">-</span> <span class="hljs-string">Ending</span> <span class="hljs-string">playbook</span><br>   <span class="hljs-attr">fail:</span><br>     <span class="hljs-attr">msg:</span> <span class="hljs-string">&quot;Configuration file is not valid. Please  check that before re-running the playbook&quot;</span><br>   <span class="hljs-attr">when:</span> <span class="hljs-string">result</span> <span class="hljs-string">is</span> <span class="hljs-string">failed</span><br></code></pre></td></tr></table></figure><h3 id="Run-command-to-deploy"><a href="#Run-command-to-deploy" class="headerlink" title="Run command to deploy"></a>Run command to deploy</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">ansible-playbook -<span class="hljs-selector-tag">i</span> hosts httpd<span class="hljs-selector-class">.yaml</span><br></code></pre></td></tr></table></figure><img src="/Users/felix/Library/Application Support/typora-user-images/image-20220311102203398.png" alt="image-20220311102203398" style="zoom:50%;" /><h2 id="Lab-03"><a href="#Lab-03" class="headerlink" title="Lab-03"></a>Lab-03</h2><h3 id="Create-haproxy-template-to-be-rendered"><a href="#Create-haproxy-template-to-be-rendered" class="headerlink" title="Create haproxy template to be rendered"></a>Create haproxy template to be rendered</h3><p>create <code>haproxy.cfg.j2</code> file under teamplate folder</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">global</span><br><span class="language-xml">    daemon</span><br><span class="language-xml">    maxconn 256</span><br><span class="language-xml"></span><br><span class="language-xml">defaults</span><br><span class="language-xml">    mode http</span><br><span class="language-xml">    timeout connect 5000ms</span><br><span class="language-xml">    timeout client 50000ms</span><br><span class="language-xml">    timeout server 50000ms</span><br><span class="language-xml"></span><br><span class="language-xml">listen cluster</span><br><span class="language-xml">    bind </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">ansible_host</span> &#125;&#125;</span><span class="language-xml">:80</span><br><span class="language-xml">    mode http</span><br><span class="language-xml">    stats enable</span><br><span class="language-xml">    balance roundrobin</span><br><span class="language-xml">&#123;% for backend in groups[&#x27;web&#x27;] %&#125;</span><br><span class="language-xml">    server </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">hostvars</span>[backend][&#x27;ansible_hostname&#x27;] &#125;&#125;</span><span class="language-xml"> </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">hostvars</span>[backend].ansible_host &#125;&#125;</span><span class="language-xml"> check port 80</span><br><span class="language-xml">&#123;% endfor %&#125;</span><br><span class="language-xml">    option httpchk HEAD /index.php HTTP/1.0</span><br></code></pre></td></tr></table></figure><h3 id="Install-haproxy-for-two-web-servers"><a href="#Install-haproxy-for-two-web-servers" class="headerlink" title="Install haproxy for two web servers"></a>Install haproxy for two web servers</h3><p>Create <code>haproxy.yaml</code> file and create tasks to install haproxy and enable service on server boot</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">web</span><br>  <span class="hljs-attr">gather_facts:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">haproxy</span><br>  <span class="hljs-attr">tasks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Installs</span> <span class="hljs-string">haproxy</span> <span class="hljs-string">load</span> <span class="hljs-string">balancer</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">haproxy</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">present</span><br>        <span class="hljs-attr">update_cache:</span> <span class="hljs-literal">yes</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Enable</span> <span class="hljs-string">and</span> <span class="hljs-string">Allow</span> <span class="hljs-string">haproxy</span> <span class="hljs-string">to</span> <span class="hljs-string">restart</span> <span class="hljs-string">automatically</span> <span class="hljs-string">at</span> <span class="hljs-string">system</span> <span class="hljs-string">boot-up</span><br>      <span class="hljs-attr">service:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">haproxy</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>      <span class="hljs-attr">notify:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">restart</span> <span class="hljs-string">haproxy</span><br></code></pre></td></tr></table></figure><p>Create tasks to push template to haproxy server</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Pushes</span> <span class="hljs-string">configuration</span><br>  <span class="hljs-attr">template:</span><br>    <span class="hljs-attr">src:</span> <span class="hljs-string">templates/haproxy.cfg.j2</span><br>    <span class="hljs-attr">dest:</span> <span class="hljs-string">/etc/haproxy/haproxy.cfg</span><br>    <span class="hljs-attr">mode:</span> <span class="hljs-number">0640</span><br>    <span class="hljs-attr">owner:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">group:</span> <span class="hljs-string">root</span><br>  <span class="hljs-attr">notify:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">restart</span> <span class="hljs-string">haproxy</span><br></code></pre></td></tr></table></figure><h3 id="Run-command-to-deploy-haproxy"><a href="#Run-command-to-deploy-haproxy" class="headerlink" title="Run command to deploy haproxy"></a>Run command to deploy haproxy</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ansible-playbook -i hosts httpd.yaml haproxy.yaml<br></code></pre></td></tr></table></figure><img src="/Users/felix/Library/Application Support/typora-user-images/image-20220311102500323.png" alt="image-20220311102500323" style="zoom:50%;" /><p>Access <a href="http://haproxy-ip/haproxy?stats">http://haproxy-IP/haproxy?stats</a></p><img src="/Users/felix/Library/Application Support/typora-user-images/image-20220311102526388.png" alt="image-20220311102526388" style="zoom:50%;" /><h2 id="Lab-04"><a href="#Lab-04" class="headerlink" title="Lab-04"></a>Lab-04</h2><h3 id="set-variables-for-tempalte-associated-with-hosts-x2F-groups"><a href="#set-variables-for-tempalte-associated-with-hosts-x2F-groups" class="headerlink" title="set variables for tempalte associated with hosts&#x2F;groups"></a>set variables for tempalte associated with hosts&#x2F;groups</h3><p>create two folders named as <code>group_vars</code> and <code>host_vars</code></p><h4 id="Group-vars"><a href="#Group-vars" class="headerlink" title="Group vars"></a>Group vars</h4><p>The check interval will be set in a group_vars file for haproxy. This will ensure all haproxies will inherit from it.</p><p>We just need to create the file <code>group_vars/haproxy.yml</code> below the inventory directory. <strong>The file has to be named after the group you want to define the variables for</strong>. <strong>If we wanted to define variables for the web group, the file would be named <code>group_vars/web.yml</code>.</strong></p><p>@haproxy.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">haproxy_check_interval:</span> <span class="hljs-number">3000</span><br></code></pre></td></tr></table></figure><p>Note that the <code>.yml</code> is optionalm: we could name haproxy group vars file <code>group_vars/haproxy</code> and Ansible would be ok with it. The extension just helps editors picking the right syntax highlighter.</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">haproxy_check_interval:</span> <span class="hljs-number">3000</span><br><span class="hljs-symbol">haproxy_stats_socket:</span> <span class="hljs-keyword">/tmp/</span>sock<br></code></pre></td></tr></table></figure><p>The name is arbitrary. Meaningful names are recommended of course, but there is no required syntax. You could even use complex variables (a.k.a. Python dict) like this:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">haproxy:</span><br><span class="hljs-symbol">    check_interval:</span> <span class="hljs-number">3000</span><br><span class="hljs-symbol">    stats_socket:</span> <span class="hljs-keyword">/tmp/</span>sock<br></code></pre></td></tr></table></figure><p>This is just a matter of taste. Complex vars can help group stuff logically. They can also, under some circumstances, merge subsequently defined keys (note however that this is not the default ansible behaviour). For now well just use simple variables.</p><h4 id="Hosts-vars"><a href="#Hosts-vars" class="headerlink" title="Hosts vars"></a>Hosts vars</h4><p>Hosts vars follow exactly the same rules, but live in files under <code>host_vars</code> directory.</p><p>Lets define weights for our backends in <code>host_vars/host1.example.com</code>:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">haproxy_backend_weight</span>: <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><p>and <code>host_vars/host2.example.com</code>:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">haproxy_backend_weight</span>: <span class="hljs-number">150</span><br></code></pre></td></tr></table></figure><p>If wed define <code>haproxy_backend_weight</code> in <code>group_vars/web</code>, it would be used as a default: variables defined in <code>host_vars</code> files overrides variables defined in <code>group_vars</code>.</p><p>@ansible01.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">haproxy_backend_weight:</span> <span class="hljs-number">150</span><br></code></pre></td></tr></table></figure><p>@ansible02.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">haproxy_backend_weight:</span> <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><p>@ansible03.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">haproxy_backend_weight:</span> <span class="hljs-number">150</span><br><span class="hljs-attr">haproxy_stats_socket:</span> <span class="hljs-string">/run/sock</span><br></code></pre></td></tr></table></figure><h3 id="Update-the-template-file-with-defined-variables"><a href="#Update-the-template-file-with-defined-variables" class="headerlink" title="Update the template file with defined variables"></a>Update the template file with defined variables</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">global</span><br>    <span class="hljs-string">daemon</span><br>    <span class="hljs-string">maxconn</span> <span class="hljs-number">256</span><br>&#123;<span class="hljs-string">%</span> <span class="hljs-string">if</span> <span class="hljs-string">haproxy_stats_socket</span> <span class="hljs-string">%</span>&#125;<br>    <span class="hljs-string">stats</span> <span class="hljs-string">socket</span> &#123;&#123; <span class="hljs-string">haproxy_stats_socket</span> &#125;&#125; <span class="hljs-comment"># use variables: haproxy_stats_socket defined in host var</span><br>&#123;<span class="hljs-string">%</span> <span class="hljs-string">endif</span> <span class="hljs-string">%</span>&#125;<br><br><span class="hljs-string">defaults</span><br>    <span class="hljs-string">mode</span> <span class="hljs-string">http</span><br>    <span class="hljs-string">timeout</span> <span class="hljs-string">connect</span> <span class="hljs-string">5000ms</span><br>    <span class="hljs-string">timeout</span> <span class="hljs-string">client</span> <span class="hljs-string">50000ms</span><br>    <span class="hljs-string">timeout</span> <span class="hljs-string">server</span> <span class="hljs-string">50000ms</span><br><br><span class="hljs-string">listen</span> <span class="hljs-string">cluster</span><br>    <span class="hljs-string">bind</span> &#123;&#123; <span class="hljs-string">ansible_host</span> &#125;&#125;<span class="hljs-string">:80</span><br>    <span class="hljs-string">mode</span> <span class="hljs-string">http</span><br>    <span class="hljs-string">stats</span> <span class="hljs-string">enable</span><br>    <span class="hljs-string">balance</span> <span class="hljs-string">roundrobin</span><br>&#123;<span class="hljs-string">%</span> <span class="hljs-string">for</span> <span class="hljs-string">backend</span> <span class="hljs-string">in</span> <span class="hljs-string">groups</span>[<span class="hljs-string">&#x27;web&#x27;</span>] <span class="hljs-string">%</span>&#125;<br>    <span class="hljs-string">server</span> &#123;&#123; <span class="hljs-string">hostvars</span>[<span class="hljs-string">backend</span>][<span class="hljs-string">&#x27;ansible_hostname&#x27;</span>] &#125;&#125; &#123;&#123; <span class="hljs-string">hostvars</span>[<span class="hljs-string">backend</span>]<span class="hljs-string">.ansible_host</span> &#125;&#125; <span class="hljs-string">check</span> <span class="hljs-string">port</span> <span class="hljs-number">80</span><br>&#123;<span class="hljs-string">%</span> <span class="hljs-string">endfor</span> <span class="hljs-string">%</span>&#125;<br>    <span class="hljs-string">option</span> <span class="hljs-string">httpchk</span> <span class="hljs-string">HEAD</span> <span class="hljs-string">/index.php</span> <span class="hljs-string">HTTP/1.0</span><br></code></pre></td></tr></table></figure><h3 id="Run-command-to-update"><a href="#Run-command-to-update" class="headerlink" title="Run command to update"></a>Run command to update</h3><p>ansible-playbook -i hosts haproxy.yaml</p><blockquote><p>we dont need to run httpd.yaml any more, as theres no change to web servers. However we added an empty play for web hosts at the top. It does nothing except <code>gather_facts: true</code>. But its here because it will trigger facts gathering on hosts in group <code>web</code>. This is required because the haproxy playbook needs to pick facts from hosts in this group. If we dont do this, ansible will complain saying that <code>ansible_all_ipv4_addresses</code> key doesnt exist.</p></blockquote><p>@haproxy.yaml </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">web</span><br>  <span class="hljs-attr">gather_facts:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">haproxy</span><br>  <span class="hljs-attr">tasks:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Installs</span> <span class="hljs-string">haproxy</span> <span class="hljs-string">load</span> <span class="hljs-string">balancer</span><br>      <span class="hljs-attr">yum:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">haproxy</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">present</span><br>        <span class="hljs-attr">update_cache:</span> <span class="hljs-literal">yes</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Pushes</span> <span class="hljs-string">configuration</span><br>      <span class="hljs-attr">template:</span><br>        <span class="hljs-attr">src:</span> <span class="hljs-string">templates/haproxy.cfg.j2</span><br>        <span class="hljs-attr">dest:</span> <span class="hljs-string">/etc/haproxy/haproxy.cfg</span><br>        <span class="hljs-attr">mode:</span> <span class="hljs-number">0640</span><br>        <span class="hljs-attr">owner:</span> <span class="hljs-string">root</span><br>        <span class="hljs-attr">group:</span> <span class="hljs-string">root</span><br>      <span class="hljs-attr">notify:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">restart</span> <span class="hljs-string">haproxy</span><br><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Enable</span> <span class="hljs-string">and</span> <span class="hljs-string">Allow</span> <span class="hljs-string">haproxy</span> <span class="hljs-string">to</span> <span class="hljs-string">restart</span> <span class="hljs-string">automatically</span> <span class="hljs-string">at</span> <span class="hljs-string">system</span> <span class="hljs-string">boot-up</span><br>      <span class="hljs-attr">service:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">haproxy</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>      <span class="hljs-attr">notify:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">restart</span> <span class="hljs-string">haproxy</span><br><br>  <span class="hljs-attr">handlers:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">restart</span> <span class="hljs-string">haproxy</span><br>      <span class="hljs-attr">service:</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">haproxy</span><br>        <span class="hljs-attr">state:</span> <span class="hljs-string">restarted</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>lab</tag>
      
      <tag>Ansible</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Azure AKS</title>
    <link href="/1984/01/24/azure/"/>
    <url>/1984/01/24/azure/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1 id="Azure-AKS"><a href="#Azure-AKS" class="headerlink" title="Azure AKS"></a>Azure AKS</h1><h2 id="Create-Azure-AKS-via-AZ-CLI"><a href="#Create-Azure-AKS-via-AZ-CLI" class="headerlink" title="Create Azure AKS via AZ CLI"></a>Create Azure AKS via AZ CLI</h2><ul><li><p>Login Azure</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">az login</span><br></code></pre></td></tr></table></figure></li><li><p>Create Azure resource group</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">az <span class="hljs-keyword">group</span> <span class="hljs-title">create</span> --name felix_test<br></code></pre></td></tr></table></figure></li><li><p>Create Azure AKS Cluster</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">az aks create --resource-<span class="hljs-keyword">group</span> <span class="hljs-title">felix_test</span> --name K8sCluster --<span class="hljs-keyword">node</span><span class="hljs-title">-count</span> <span class="hljs-number">1</span> --generate-ssh-keys --<span class="hljs-keyword">node</span><span class="hljs-title">-vm-size</span>=Standard_B2s --disable-rbac<br></code></pre></td></tr></table></figure></li><li><p>Access AKS cluster through kubectl</p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">az</span> <span class="hljs-string">aks</span> <span class="hljs-built_in">get-credentials</span> <span class="hljs-built_in">--resource-group=felix_test</span> <span class="hljs-built_in">--name=K8sCluster</span><br><span class="hljs-string">Merged</span> <span class="hljs-string">&quot;K8sCluster&quot;</span> <span class="hljs-string">as</span> <span class="hljs-string">current</span> <span class="hljs-string">context</span> <span class="hljs-string">in</span> /<span class="hljs-string">Users</span>/<span class="hljs-string">felix_yang</span>/.<span class="hljs-string">kube</span>/<span class="hljs-string">config</span><br></code></pre></td></tr></table></figure><p><img src="https://felixyanghui.synology.me:8441/images/2022/12/30/image-20221230212633255.png" alt="image-20221230212633255"></p><blockquote><p>all the configuration of Azure AKS cluster written into kubectl config file: <em>&#x2F;Users&#x2F;felix_yang&#x2F;.kube&#x2F;config</em></p></blockquote></li><li><p>Verify the access via Kubectl commands</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">felix_yang</span>@nj-felix-yang-mba ~ % kubectl get nodes<br><span class="hljs-attribute">NAME</span>                                STATUS   ROLES   AGE    VERSION<br><span class="hljs-attribute">aks</span>-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   Ready    agent   <span class="hljs-number">6</span>m2s   v1.<span class="hljs-number">24</span>.<span class="hljs-number">6</span><br><br><span class="hljs-attribute">felix_yang</span>@nj-felix-yang-mba ~ % kubectl get namespaces   <br><span class="hljs-attribute">NAME</span>              STATUS   AGE<br><span class="hljs-attribute">default</span>           Active   <span class="hljs-number">19</span>m<br><span class="hljs-attribute">kube</span>-node-lease   Active   <span class="hljs-number">19</span>m<br><span class="hljs-attribute">kube</span>-public       Active   <span class="hljs-number">19</span>m<br><span class="hljs-attribute">kube</span>-system       Active   <span class="hljs-number">19</span>m<br><br><br><span class="hljs-attribute">felix_yang</span>@nj-felix-yang-mba ~ % kubectl get pods --<span class="hljs-literal">all</span>-namespaces -o wide<br><span class="hljs-attribute">NAMESPACE</span>     NAME                                  READY   STATUS    RESTARTS   AGE     IP            NODE                                NOMINATED NODE   READINESS GATES<br><span class="hljs-attribute">kube</span>-system   azure-ip-masq-agent-<span class="hljs-number">5</span>nb4w             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m29s   <span class="hljs-number">10.224.0.4</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   cloud-node-manager-bjghg              <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m29s   <span class="hljs-number">10.224.0.4</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   coredns-<span class="hljs-number">59</span>b6bf8b4f-<span class="hljs-number">9</span>bnk9              <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m39s   <span class="hljs-number">10.244.0.8</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   coredns-<span class="hljs-number">59</span>b6bf8b4f-sktkk              <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">19</span>m     <span class="hljs-number">10.244.0.7</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   coredns-autoscaler-<span class="hljs-number">5655</span>d66f64-dv487   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">19</span>m     <span class="hljs-number">10.244.0.5</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   csi-azuredisk-node-hkzb6              <span class="hljs-number">3</span>/<span class="hljs-number">3</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m29s   <span class="hljs-number">10.224.0.4</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   csi-azurefile-node-vgh7t              <span class="hljs-number">3</span>/<span class="hljs-number">3</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m29s   <span class="hljs-number">10.224.0.4</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   konnectivity-agent-<span class="hljs-number">676</span>cb95b4d-dj9f5   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m36s   <span class="hljs-number">10.244.0.9</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   konnectivity-agent-<span class="hljs-number">676</span>cb95b4d-pfv8c   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">19</span>m     <span class="hljs-number">10.244.0.2</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   kube-proxy-<span class="hljs-number">9</span>n8wm                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m29s   <span class="hljs-number">10.224.0.4</span>    aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   metrics-server-<span class="hljs-number">7</span>dd74d8758-vnkwn       <span class="hljs-number">2</span>/<span class="hljs-number">2</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m34s   <span class="hljs-number">10.244.0.11</span>   aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br><span class="hljs-attribute">kube</span>-system   metrics-server-<span class="hljs-number">7</span>dd74d8758-xvj5h       <span class="hljs-number">2</span>/<span class="hljs-number">2</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m34s   <span class="hljs-number">10.244.0.10</span>   aks-nodepool1-<span class="hljs-number">19839722</span>-vmss000000   &lt;none&gt;           &lt;none&gt;<br></code></pre></td></tr></table></figure></li><li><p>Delete AKS cluster</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">az aks delete --resource-<span class="hljs-keyword">group</span> <span class="hljs-title">felix_test</span> --name K8sCluster<br></code></pre></td></tr></table></figure></li></ul><h2 id="Useful-Links-of-Kubectl"><a href="#Useful-Links-of-Kubectl" class="headerlink" title="Useful Links of Kubectl"></a>Useful Links of Kubectl</h2><ul><li><a href="https://go.microsoft.com/fwlink/?linkid=2135816">kubectl </a> </li><li><a href="https://go.microsoft.com/fwlink/?linkid=2135746">Kubectl </a> </li><li><a href="https://go.microsoft.com/fwlink/?linkid=2135748">Kubectl </a> </li><li><a href="https://go.microsoft.com/fwlink/?linkid=2135818">Kubectl </a> </li><li><a href="https://kubernetes.io/docs/reference/kubectl/jsonpath/">JSONPath Support</a></li></ul><h2 id="Organizing-Cluster-Access-Using-kubeconfig-Files"><a href="#Organizing-Cluster-Access-Using-kubeconfig-Files" class="headerlink" title="Organizing Cluster Access Using kubeconfig Files"></a><a href="https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/">Organizing Cluster Access Using kubeconfig Files</a></h2><p>Use kubeconfig files to organize information about clusters, users, namespaces, and authentication mechanisms. The <code>kubectl</code> command-line tool uses kubeconfig files to find the information it needs to choose a cluster and communicate with the API server of a cluster.</p><blockquote><p><strong>Note:</strong> A file that is used to configure access to clusters is called a <em>kubeconfig file</em>. This is a generic way of referring to configuration files. It does not mean that there is a file named <code>kubeconfig</code>.</p></blockquote><blockquote><p><strong>Warning:</strong> Only use kubeconfig files from trusted sources. Using a specially-crafted kubeconfig file could result in malicious code execution or file exposure. If you must use an untrusted kubeconfig file, inspect it carefully first, much as you would a shell script.</p></blockquote><p>By default, <code>kubectl</code> looks for a file named <code>config</code> in the <code>$HOME/.kube</code> directory. You can specify other kubeconfig files by setting the <code>KUBECONFIG</code> environment variable or by setting the <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl/"><code>--kubeconfig</code></a> flag.</p><p>For step-by-step instructions on creating and specifying kubeconfig files, see <a href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters">Configure Access to Multiple Clusters</a>.</p><h2 id="Azure-CLI-Commands"><a href="#Azure-CLI-Commands" class="headerlink" title="Azure CLI Commands"></a>Azure CLI Commands</h2><ul><li><p>use query to filter the output</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">felix_yang@nj-felix-yang-mba ~ % az <span class="hljs-keyword">group</span> <span class="hljs-title">list</span> --query <span class="hljs-string">&quot;[*].name&quot;</span>                        <br>[<br>  <span class="hljs-string">&quot;rg-vm-jpwest&quot;</span>,<br>  <span class="hljs-string">&quot;NetworkWatcherRG&quot;</span>,<br>  <span class="hljs-string">&quot;felix_test&quot;</span>,<br>  <span class="hljs-string">&quot;MC_felix_test_K8sCluster_eastus&quot;</span>,<br>  <span class="hljs-string">&quot;rg-vm-eastasia&quot;</span><br>]<br></code></pre></td></tr></table></figure><p><em><a href="https://jmespath.org/tutorial.html">https://jmespath.org/tutorial.html</a></em></p></li><li><p>set default subscription</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs routeros">az account <span class="hljs-built_in">set</span> -s 138250aa-021a-4cb4-81ff-537da09d0e72<br><br>felix_yang@nj-felix-yang-mba ~ % az account show<br>&#123;<br>  <span class="hljs-string">&quot;environmentName&quot;</span>: <span class="hljs-string">&quot;AzureCloud&quot;</span>,<br>  <span class="hljs-string">&quot;homeTenantId&quot;</span>: <span class="hljs-string">&quot;3e04753a-ae5b-42d4-a86d-d6f05460f9e4&quot;</span>,<br>  <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;138250aa-021a-4cb4-81ff-537da09d0e72&quot;</span>,<br>  <span class="hljs-string">&quot;isDefault&quot;</span>: <span class="hljs-literal">true</span>,      -------------------------&gt;&gt;&gt;&gt; <span class="hljs-built_in">set</span> <span class="hljs-keyword">to</span><span class="hljs-built_in"> default</span><br><span class="hljs-built_in"></span>  <span class="hljs-string">&quot;managedByTenants&quot;</span>: [],<br>  <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Cloud Service Engineering lab test&quot;</span>,<br>  <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;Enabled&quot;</span>,<br>  <span class="hljs-string">&quot;tenantId&quot;</span>: <span class="hljs-string">&quot;3e04753a-ae5b-42d4-a86d-d6f05460f9e4&quot;</span>,<br>  <span class="hljs-string">&quot;user&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;felix_yang@trendmicro.com&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;user&quot;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><img src="https://felixyanghui.synology.me:8441/images/2022/12/30/image-20221230214050304.png" alt="image-20221230214050304" style="zoom:33%;" /></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Azure</tag>
      
      <tag>AKS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Github </title>
    <link href="/1984/01/24/github-workflow/"/>
    <url>/1984/01/24/github-workflow/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1 id="Step-by-step"><a href="#Step-by-step" class="headerlink" title="Step by step"></a>Step by step</h1><iframe src="//player.bilibili.com/player.html?aid=561005338&bvid=BV19e4y1q7JJ&cid=846391446&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p>1.git clone &#x2F;&#x2F; <br>2.git checkout -b xxx xxx<br>remotexxx<br>3.<br>4.git diff <br>5.git add <br>6.git commit git<br>7.git push origin xxx xxxgitgithubgit<br>--<br>GitHub<br>1.git checkout main main<br>2.git pull origin master(main) <br>3.git checkout xxx xxx<br>4.git rebase main xxxmaincommit<br>rebase conflict <br>5.git push -f origin xxx rebasepushgithub<br>-f <br>6.pull request  squash and merge commit<br>-<br><br>1.git branch -d xxx git<br>2.git pull origin master </p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>k8s  CICD lab</title>
    <link href="/1984/01/24/cicd-lab/"/>
    <url>/1984/01/24/cicd-lab/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/04/image-20221002110216278.png" alt="image-20221002110216278"></p><h1 id="01-Installation"><a href="#01-Installation" class="headerlink" title="01. Installation"></a>01. Installation</h1><h2 id="01-1-A-Setup-K8S-Cluster-lt-V1-24"><a href="#01-1-A-Setup-K8S-Cluster-lt-V1-24" class="headerlink" title="01.1.A Setup K8S Cluster (&lt; V1.24)"></a>01.1.A Setup K8S Cluster (&lt; V1.24)</h2><h3 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h3><h4 id="Lab-servers"><a href="#Lab-servers" class="headerlink" title="Lab servers"></a>Lab servers</h4><p>OS image: CentOS 8 stream</p><p>K8S Master: 192.168.22.91<br>K8S Node-1: 192.168.22.92<br>K8S Node-2: 192.168.22.93</p><p>Rancher: 192.168.22.84 admin&#x2F;novirus</p><p>GitLab: 192.168.22.85. root&#x2F;P@ssw0rd</p><p>Harbor: 192.168.22.86 admin&#x2F;novirus</p><p><del>(Jenkins on Kubernetes: 192.168.22.61:32001)</del></p><p>Jenkins on CentOS8: 192.168.22.87:8080 </p><p>Grafana:  192.168.22.61:32000</p><h4 id="Initial-environment-setup-for-master-and-node-servers"><a href="#Initial-environment-setup-for-master-and-node-servers" class="headerlink" title="Initial environment setup for master and node servers"></a>Initial environment setup for master and node servers</h4><p>Environment_ini.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Disable SELinux</span><br>setenforce 0<br>sed -i <span class="hljs-string">&#x27;s/^SELINUX=enforcing$/SELINUX=disabled/&#x27;</span> /etc/selinux/config<br><br><span class="hljs-comment"># Disable firewall permanently</span><br>systemctl <span class="hljs-built_in">disable</span> firewalld --now<br>systemctl mask --now firewalld<br><span class="hljs-comment">#systemctl status firewalld</span><br><br><span class="hljs-comment"># Diable swap temporally</span><br>swapoff -a<br><br><span class="hljs-comment">#swapswap</span><br>sed -ri <span class="hljs-string">&#x27;s/.*swap.*/#&amp;/&#x27;</span> /etc/fstab<br><br><span class="hljs-comment"># Adjust kernel parameters</span><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /etc/sysctl.d/k8s.conf</span><br><span class="hljs-string">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="hljs-string">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="hljs-string">EOF</span><br>sysctl --system<br><br><span class="hljs-comment"># Load netfilter kernel module</span><br>modprobe br_netfilter<br>lsmod | grep br_netfilter<br><br><span class="hljs-comment"># Network gateway and proxy settings, only GW=192.168.0.250 can reach TW proxy=10.64.1.81:8080</span><br>route -n | grep -i ug<br><br><span class="hljs-comment"># sync time with chronyd</span><br>sudo systemctl start chronyd<br>sudo systemctl <span class="hljs-built_in">enable</span> chronyd<br>chronyd -q <span class="hljs-string">&#x27;server ntp.ntsc.ac.cn iburst&#x27;</span><br>chronyc activity<br>chronyc tracking<br></code></pre></td></tr></table></figure><h4 id="Set-proxy-for-Lab-environment"><a href="#Set-proxy-for-Lab-environment" class="headerlink" title="Set proxy for Lab environment"></a>Set proxy for Lab environment</h4><p>Proxy_set.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Set proxy for os system</span><br><span class="hljs-built_in">export</span> HTTPS_PROXY=<span class="hljs-string">&quot;10.64.1.81:8080&quot;</span><br><span class="hljs-built_in">export</span> HTTP_PROXY=<span class="hljs-string">&quot;10.64.1.81:8080&quot;</span><br><span class="hljs-built_in">export</span> NO_PROXY=<span class="hljs-string">&quot;10.64.0.0/16,172.168.1.0/24,127.0.0.0/8,10.0.0.0/8,192.168.0.0/16&quot;</span><br></code></pre></td></tr></table></figure><h4 id="Install-Docker-for-master-and-node-servers"><a href="#Install-Docker-for-master-and-node-servers" class="headerlink" title="Install Docker for master and node servers"></a>Install Docker for master and node servers</h4><p>Docker_install.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Install required packages. yum-utils provides the yum-config-manager utility, and device-mapper-persistent-data and lvm2 are required by the devicemapper storage driver.</span><br>yum install -y yum-utils device-mapper-persistent-data lvm2<br><br><span class="hljs-comment"># Use the following command to set up the stable repository</span><br>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo<br><br><span class="hljs-comment"># Remove podman buildah to avoid the error: &quot;Error: Problem 1: problem with installed package podman-1:3.4.1-3.module_el8.6.0+954+963caf36.x86_64 - package podman-1:3.4.1-3.module_el8.6.0+954+963caf36.x86_64 requires runc &gt;= 1.0.0-57, but none of the providers can be installed&quot;</span><br>yum erase -y podman buildah<br><br><span class="hljs-comment"># Install docker</span><br>yum install -y docker-ce docker-ce-cli containerd.io<br><br><span class="hljs-comment"># If need to install a specific version, can use below commands</span><br><span class="hljs-comment">## yum list docker-ce --showduplicates | sort -r</span><br><span class="hljs-comment">## sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io</span><br><span class="hljs-comment">## for example: 3:19.03.2-3.el7</span><br><span class="hljs-comment">## yum install docker-ce-&lt;3:19.03.2-3.el7&gt; docker-ce-cli-&lt;3:19.03.2-3.el7&gt; containerd.io</span><br><span class="hljs-comment"># Start and Enable Docker</span><br>systemctl start docker &amp;&amp;  systemctl <span class="hljs-built_in">enable</span> docker<br><br><br><span class="hljs-comment"># Set proxy for docker </span><br><span class="hljs-built_in">mkdir</span> /etc/systemd/system/docker.service.d<br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; /etc/systemd/system/docker.service.d/http-proxy.conf</span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">Environment=&quot;HTTP_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;HTTPS_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;NO_PROXY=localhost,127.0.0.0/8,10.0.0.0/8,192.168.0.0/16,docker-registry.somecorporation.com&quot;</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># set proxy for containerd</span><br><span class="hljs-built_in">mkdir</span> /etc/systemd/system/containerd.service.d<br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; /etc/systemd/system/containerd.service.d/http-proxy.conf</span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">Environment=&quot;HTTP_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;HTTPS_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;NO_PROXY=localhost,127.0.0.0/8,10.0.0.0/8,192.168.0.0/16,docker-registry.somecorporation.com&quot;</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># Reload and restart docker</span><br>systemctl daemon-reload &amp;&amp; systemctl restart docker<br><br><span class="hljs-comment"># Reload and restart containerd</span><br>systemctl daemon-reload &amp;&amp; systemctl restart containerd<br><br><span class="hljs-comment"># Show docker proxy settings</span><br>systemctl show --property Environment docker<br><br><span class="hljs-comment"># Show docker proxy settings</span><br>systemctl show --property Environment containerd<br></code></pre></td></tr></table></figure><h3 id="Install-Kubernetes"><a href="#Install-Kubernetes" class="headerlink" title="Install Kubernetes"></a>Install Kubernetes</h3><h4 id="Installing-kubeadm-kubelet-and-kubectl-on-Master-and-node-servers"><a href="#Installing-kubeadm-kubelet-and-kubectl-on-Master-and-node-servers" class="headerlink" title="Installing kubeadm, kubelet and kubectl on Master and node servers"></a><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-kubeadm-kubelet-and-kubectl">Installing kubeadm, kubelet and kubectl</a> on Master and node servers</h4><p>K8s_install.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Install kubeadm, kubelet and kubectl with Aliyun repo</span><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /etc/yum.repos.d/kubernetes.repo</span><br><span class="hljs-string">[kubernetes]</span><br><span class="hljs-string">name=Kubernetes</span><br><span class="hljs-string">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span><br><span class="hljs-string">enabled=1</span><br><span class="hljs-string">gpgcheck=0</span><br><span class="hljs-string">repo_gpgcheck=0</span><br><span class="hljs-string">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># Set SELinux in permissive mode (effectively disabling it)</span><br>sudo setenforce 0<br>sudo sed -i <span class="hljs-string">&#x27;s/^SELINUX=enforcing$/SELINUX=permissive/&#x27;</span> /etc/selinux/config<br><br><br><span class="hljs-comment"># sudo yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes</span><br><span class="hljs-comment"># install version 1.23.5 which is stable version. Installing lastest version usually have unknown issue when initialization</span><br>sudo yum -y install kubeadm-1.23.5 kubelet-1.23.5 kubectl-1.23.5<br><br><br><span class="hljs-comment"># !!! before enable kubelet, need to ensure docker and kubelet driver are the same, otherwise, there&#x27;s below error message after &quot;kubeadm init&quot; command: &quot;cgroup and systemd are not matched&quot;</span><br><span class="hljs-comment"># [error: failed to run Kubelet: failed to create kubelet: misconfiguration: kubelet cgroup driver: systemd is different from docker cgroup driver: cgroupfs]</span><br><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf</span><br><span class="hljs-string"># Note: This dropin only works with kubeadm and kubelet v1.11+</span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">Environment=&quot;KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf&quot;</span><br><span class="hljs-string">Environment=&quot;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml&quot;</span><br><span class="hljs-string">Environment=&quot;KUBELET_CGROUP_ARGS=--cgroup-driver=cgroupfs&quot;</span><br><span class="hljs-string"># This is a file that &quot;kubeadm init&quot; and &quot;kubeadm join&quot; generates at runtime, populating the KUBELET_KUBEADM_ARGS variable dynamically</span><br><span class="hljs-string">EnvironmentFile=-/var/lib/kubelet/kubeadm-flags.env</span><br><span class="hljs-string"># This is a file that the user can use for overrides of the kubelet args as a last resort. Preferably, the user should use</span><br><span class="hljs-string"># the .NodeRegistration.KubeletExtraArgs object in the configuration files instead. KUBELET_EXTRA_ARGS should be sourced from this file.</span><br><span class="hljs-string">EnvironmentFile=-/etc/sysconfig/kubelet</span><br><span class="hljs-string">ExecStart=</span><br><span class="hljs-string">ExecStart=/usr/bin/kubelet \$KUBELET_KUBECONFIG_ARGS \$KUBELET_CONFIG_ARGS \$KUBELET_KUBEADM_ARGS \$KUBELET_EXTRA_ARGS \$KUBELET_CGROUP_ARGS</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment">###################</span><br><span class="hljs-comment"># !!! before enable kubelet, need to ensure docker and kubelet driver are the same, otherwise, there&#x27;s below error message after &quot;kubeadm init&quot; command: &quot;cgroup and systemd are not matched&quot;</span><br><span class="hljs-comment"># [error: failed to run Kubelet: failed to create kubelet: misconfiguration: kubelet cgroup driver: systemd is different from docker cgroup driver: cgroupfs]</span><br><br><span class="hljs-comment"># vi  /usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf</span><br><br><br><span class="hljs-comment">#Update below parameter:</span><br><span class="hljs-comment">#Environment=&quot;KUBELET_CGROUP_ARGS=--cgroup-driver=cgroupfs&quot;</span><br><span class="hljs-comment">#ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS $KUBELET_CGROUP_ARGS</span><br><span class="hljs-comment">#######################</span><br><br>systemctl daemon-reload &amp;&amp; systemctl restart kubelet<br>sudo systemctl <span class="hljs-built_in">enable</span> --now kubelet<br><br><span class="hljs-comment"># restart container CRI</span><br><span class="hljs-built_in">rm</span> -rf /etc/containerd/config.toml<br>systemctl restart containerd<br><br><span class="hljs-comment"># install crictl</span><br>crictl config runtime-endpoint unix:///run/containerd/containerd.sock<br>crictl config image-endpoint unix:///run/containerd/containerd.sock<br></code></pre></td></tr></table></figure><h4 id="Init-Kubenetes-with-network-and-configure-kubectl-as-regular-user-on-Master-server"><a href="#Init-Kubenetes-with-network-and-configure-kubectl-as-regular-user-on-Master-server" class="headerlink" title="Init Kubenetes with network and configure kubectl as regular user on Master server"></a>Init Kubenetes with network and configure kubectl as regular user on Master server</h4><p>Network_kubectl_user.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><br>kubeadm init --pod-network-cidr=10.244.0.0/16 --config kubeadm-config.yaml<br><span class="hljs-comment">#Kubernetes,</span><br><span class="hljs-comment">#kubeadm init --kubernetes-version=v1.15.1 --pod-network-cidr=10.244.0.0/16</span><br><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># kubeadm reset</span><br><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># yum erase -y kubelet kubectl kubeadm kubernetes-cni</span><br><br><br><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br>sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config<br>sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config<br></code></pre></td></tr></table></figure><h4 id="Install-network-plugin-and-weave-tool-on-Master-server"><a href="#Install-network-plugin-and-weave-tool-on-Master-server" class="headerlink" title="Install network plugin and weave tool on Master server"></a>Install network plugin and weave tool on Master server</h4><p>Network_plugin.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Install network plugin weave</span><br>kubectl apply -f <span class="hljs-string">&quot;https://cloud.weave.works/k8s/net?k8s-version=<span class="hljs-subst">$(kubectl version | base64 | tr -d &#x27;\n&#x27;)</span>&quot;</span><br><br>sudo curl --proxy 10.64.1.81:8080 -L git.io/weave -o /usr/local/bin/weave<br>sudo <span class="hljs-built_in">chmod</span> a+x /usr/local/bin/weave<br>weave ps<br>weave status<br>weave status peers<br>weave status connections<br></code></pre></td></tr></table></figure><h3 id="Post-Installation"><a href="#Post-Installation" class="headerlink" title="Post-Installation"></a>Post-Installation</h3><h4 id="Join-node-server-to-master"><a href="#Join-node-server-to-master" class="headerlink" title="Join node server to master"></a>Join node server to master</h4><p>Node_join.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># avoid error: [ERROR FileContentproc-sys-net-ipv4-ip_forward]: /proc/sys/net/ipv4/ip_forward contents are not set to 1</span><br><span class="hljs-built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward<br><br><span class="hljs-comment"># Below command is copied from the output of the &quot;kubeadm init&quot;</span><br>kubeadm <span class="hljs-built_in">join</span> 192.168.22.81:6443 --token d0cbz5.9nugb974yhl54ss6 \<br>--discovery-token-ca-cert-hash sha256:bc7099ce8ff86c2cc7d8d51b0f30c4d57cbd3fbe967e81f8f05c2decf9599b07 <br><br><span class="hljs-comment"># Check K8S cluster nodes and pods status</span><br>kubectl get nodes<br>kubectl get pods --all-namespaces -o wide<br></code></pre></td></tr></table></figure><h4 id="Install-helm3-on-K8SMaster"><a href="#Install-helm3-on-K8SMaster" class="headerlink" title="Install helm3 on K8SMaster"></a>Install helm3 on K8SMaster</h4><p>Helm3_install.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -e <span class="hljs-string">&quot;https_proxy=10.64.1.81:8080&quot;</span>  https://get.helm.sh/helm-v3.1.2-linux-amd64.tar.gz<br>tar -zxvf helm-v3.1.2-linux-amd64.tar.gz<br><span class="hljs-built_in">cd</span> linux-amd64/<br><span class="hljs-built_in">mv</span> helm /usr/bin/<br>helm version<br><br><br><span class="hljs-comment"># helm init is not used any more since helm3</span><br><span class="hljs-comment"># $ kubectl create serviceaccount --namespace kube-system tiller</span><br><span class="hljs-comment"># $ kubectl create clusterrolebinding tiller-cluster-role --clusterrole=cluster-admin --serviceaccount=kube-system:tiller</span><br><span class="hljs-comment"># $ helm init --upgrade -i registry.cn-hangzhou.aliyuncs.com/google_containers/tiller:v2.15.1 --service-account=tiller --stable-repo-url https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts![title](/api/file/getImage?fileId=620bb3b4935fe2000e000015)</span><br><span class="hljs-comment"># add helm repo</span><br>helm repo add  aliyuncs https://apphub.aliyuncs.com<br>helm repo list<br>helm search repo aliyuncs | <span class="hljs-built_in">head</span> -5<br></code></pre></td></tr></table></figure><h4 id="something-more-about-helm"><a href="#something-more-about-helm" class="headerlink" title="something more about helm"></a>something more about helm</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># add helm repo</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo add stable http://mirror.azure.cn/kubernetes/charts</span><br><span class="hljs-string">&quot;stable&quot;</span> has been added to your repositories<br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo add aliyun  https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts</span><br><span class="hljs-string">&quot;aliyun&quot;</span> has been added to your repositories<br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo add jetstack https://charts.jetstack.io</span><br><span class="hljs-string">&quot;jetstack&quot;</span> has been added to your repositories<br><br><span class="hljs-comment"># update helm repo</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo update</span><br>Hang tight <span class="hljs-keyword">while</span> we grab the latest from your chart repositories...<br>...Successfully got an update from the <span class="hljs-string">&quot;jetstack&quot;</span> chart repository<br>...Successfully got an update from the <span class="hljs-string">&quot;aliyun&quot;</span> chart repository<br>...Successfully got an update from the <span class="hljs-string">&quot;stable&quot;</span> chart repository<br>Update Complete.  Happy Helming! <br><br><span class="hljs-comment"># list helm repo</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo list</span><br>NAME    URL                                                   <br>stable  http://mirror.azure.cn/kubernetes/charts              <br>aliyun  https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts<br>jetstackhttps://charts.jetstack.io                            <br><br><span class="hljs-comment"># search chart</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm search repo nginx</span><br>NAME                       CHART VERSIONAPP VERSIONDESCRIPTION                                       <br>aliyun/nginx-ingress       0.9.5        0.10.2     An nginx Ingress controller that uses ConfigMap...<br>aliyun/nginx-lego          0.3.1                   Chart <span class="hljs-keyword">for</span> nginx-ingress-controller and kube-lego  <br>stable/nginx-ingress       1.41.3       v0.34.1    DEPRECATED! An nginx Ingress controller that us...<br>stable/nginx-ldapauth-proxy0.1.6        1.13.5     DEPRECATED - nginx proxy with ldapauth            <br>stable/nginx-lego          0.3.1                   Chart <span class="hljs-keyword">for</span> nginx-ingress-controller and kube-lego  <br>aliyun/gcloud-endpoints    0.1.0                   Develop, deploy, protect and monitor your APIs ...<br>stable/gcloud-endpoints    0.1.2        1          DEPRECATED Develop, deploy, protect and monitor..<br></code></pre></td></tr></table></figure><h3 id="Common-Troubleshooting-Tips"><a href="#Common-Troubleshooting-Tips" class="headerlink" title="Common Troubleshooting Tips"></a>Common Troubleshooting Tips</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl get nodes<br>kubectl get ds -n kube-system<br>kubectl get pod<br>kubectl get pods -n kube-system<br>kubectl get pods -n kube-system -o wide<br>kubectl logs weave-net-ldsgl  -n kube-system weave-npc<br>kubectl describe pod auth-54d7667c5d-sgrt8<br>systemctl status kubelet<br>journalctl -f -u kubelet<br><span class="hljs-comment"># If the init container failed, subsequent container initilization just pending there, no logs from below commands</span><br>kubectl logs auth-54d7667c5d-dnslv<br>kubectl logs scan-687c4bfddd-w5fbk  --previous<br><span class="hljs-comment"># check why init container failed, lead to subsequent container can not be initialized</span><br>kubectl logs scan-687c4bfddd-w5fbk  -c db-init <br></code></pre></td></tr></table></figure><h2 id="01-1-B-Setup-K8S-Cluster-gt-x3D-V1-24"><a href="#01-1-B-Setup-K8S-Cluster-gt-x3D-V1-24" class="headerlink" title="01.1.B Setup K8S Cluster (&gt;&#x3D; V1.24)"></a>01.1.B Setup K8S Cluster (&gt;&#x3D; V1.24)</h2><p>since the new Kubernetes 1.24, theres deprecation of dockershim</p><p>Refer to <a href="https://blog.csdn.net/qq_41822345/article/details/126679925?ops_request_misc=&request_id=&biz_id=102&utm_term=%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85k8s&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-126679925.142%5Ev68%5Econtrol,201%5Ev4%5Eadd_ask,213%5Ev2%5Et3_control2&spm=1018.2226.3001.4187">Install latest K8S version</a></p><p>Refer to <a href="Containerd%E3%80%90%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E3%80%91">containerd introduction</a></p><p><img src="https://felixyanghui.synology.me:8441/images/2023/01/01/e230010b8e2640a286296e5a777d7726.png" alt=""></p><h3 id="Preparation-1"><a href="#Preparation-1" class="headerlink" title="Preparation"></a>Preparation</h3><h4 id="Lab-servers-1"><a href="#Lab-servers-1" class="headerlink" title="Lab servers"></a>Lab servers</h4><p>OS image: CentOS 8 stream</p><p>K8S Master: 192.168.22.91<br>K8S Node-1: 192.168.22.92<br>K8S Node-2: 192.168.22.93</p><p>Rancher: 192.168.22.84 admin&#x2F;novirus</p><p>GitLab: 192.168.22.85. root&#x2F;P@ssw0rd</p><p>Harbor: 192.168.22.86 admin&#x2F;novirus</p><p><del>(Jenkins on Kubernetes: 192.168.22.61:32001)</del></p><p>Jenkins on CentOS8: 192.168.22.87:8080 </p><p>Grafana:  192.168.22.61:32000</p><h4 id="Initial-environment-setup-for-master-and-node-servers-1"><a href="#Initial-environment-setup-for-master-and-node-servers-1" class="headerlink" title="Initial environment setup for master and node servers"></a>Initial environment setup for master and node servers</h4><p>Environment_ini.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Disable SELinux</span><br>setenforce 0<br>sed -i <span class="hljs-string">&#x27;s/^SELINUX=enforcing$/SELINUX=disabled/&#x27;</span> /etc/selinux/config<br><br><span class="hljs-comment"># Disable firewall permanently</span><br>systemctl <span class="hljs-built_in">disable</span> firewalld --now<br>systemctl mask --now firewalld<br><span class="hljs-comment">#systemctl status firewalld</span><br><br><span class="hljs-comment"># Diable swap temporally</span><br>swapoff -a<br><br><span class="hljs-comment">#swapswap</span><br>sed -ri <span class="hljs-string">&#x27;s/.*swap.*/#&amp;/&#x27;</span> /etc/fstab<br><br><span class="hljs-comment"># Adjust kernel parameters</span><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /etc/sysctl.d/k8s.conf</span><br><span class="hljs-string">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="hljs-string">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="hljs-string">EOF</span><br>sysctl --system<br><br><span class="hljs-comment"># Load netfilter kernel module</span><br>modprobe br_netfilter<br>lsmod | grep br_netfilter<br><br><span class="hljs-comment"># Network gateway and proxy settings, only GW=192.168.0.250 can reach TW proxy=10.64.1.81:8080</span><br>route -n | grep -i ug<br><br><span class="hljs-comment"># sync time with chronyd</span><br>sudo systemctl start chronyd<br>sudo systemctl <span class="hljs-built_in">enable</span> chronyd<br>chronyd -q <span class="hljs-string">&#x27;server ntp.ntsc.ac.cn iburst&#x27;</span><br>chronyc activity<br>chronyc tracking<br></code></pre></td></tr></table></figure><h4 id="Set-proxy-for-Lab-environment-1"><a href="#Set-proxy-for-Lab-environment-1" class="headerlink" title="Set proxy for Lab environment"></a>Set proxy for Lab environment</h4><p>Proxy_set.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Set proxy for os system</span><br><span class="hljs-built_in">export</span> HTTPS_PROXY=<span class="hljs-string">&quot;10.64.1.81:8080&quot;</span><br><span class="hljs-built_in">export</span> HTTP_PROXY=<span class="hljs-string">&quot;10.64.1.81:8080&quot;</span><br><span class="hljs-built_in">export</span> NO_PROXY=<span class="hljs-string">&quot;10.64.0.0/16,172.168.1.0/24,127.0.0.0/8,10.0.0.0/8,192.168.0.0/16&quot;</span><br></code></pre></td></tr></table></figure><h4 id="Install-Docker-for-master-and-node-servers-1"><a href="#Install-Docker-for-master-and-node-servers-1" class="headerlink" title="Install Docker for master and node servers"></a>Install Docker for master and node servers</h4><p>Docker_install.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Install required packages. yum-utils provides the yum-config-manager utility, and device-mapper-persistent-data and lvm2 are required by the devicemapper storage driver.</span><br>yum install -y yum-utils device-mapper-persistent-data lvm2<br><br><span class="hljs-comment"># Use the following command to set up the stable repository</span><br>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo<br><br><span class="hljs-comment"># Remove podman buildah to avoid the error: &quot;Error: Problem 1: problem with installed package podman-1:3.4.1-3.module_el8.6.0+954+963caf36.x86_64 - package podman-1:3.4.1-3.module_el8.6.0+954+963caf36.x86_64 requires runc &gt;= 1.0.0-57, but none of the providers can be installed&quot;</span><br>yum erase -y podman buildah<br><br><span class="hljs-comment"># Install docker</span><br>yum install -y docker-ce docker-ce-cli containerd.io<br><br><span class="hljs-comment"># If need to install a specific version, can use below commands</span><br><span class="hljs-comment">## yum list docker-ce --showduplicates | sort -r</span><br><span class="hljs-comment">## sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io</span><br><span class="hljs-comment">## for example: 3:19.03.2-3.el7</span><br><span class="hljs-comment">## yum install docker-ce-&lt;3:19.03.2-3.el7&gt; docker-ce-cli-&lt;3:19.03.2-3.el7&gt; containerd.io</span><br><span class="hljs-comment"># Start and Enable Docker</span><br>systemctl start docker &amp;&amp;  systemctl <span class="hljs-built_in">enable</span> docker<br><br><br><span class="hljs-comment"># Install containerd #-----------------Start----------------#</span><br><span class="hljs-comment"># https://github.com/containerd/containerd/blob/main/docs/getting-started.md</span><br><br><span class="hljs-comment"># Step-1: Installing containerd</span><br>tar Cxzvf /usr/local containerd-1.6.14-linux-amd64.tar.gz<br><br><br><span class="hljs-comment">## systemd enabled</span><br><span class="hljs-built_in">mkdir</span> -p /usr/local/lib/systemd/system<br>curl https://raw.githubusercontent.com/containerd/containerd/main/containerd.service -o /usr/local/lib/systemd/system/containerd.service<br>systemctl daemon-reload<br>systemctl <span class="hljs-built_in">enable</span> --now containerd<br><br><span class="hljs-comment"># Step-2: Installing runc</span><br><br>install -m 755 runc.amd64 /usr/local/sbin/runc<br><br><span class="hljs-comment"># Step-3: Installing CNI plugins</span><br><br><span class="hljs-built_in">mkdir</span> -p /opt/cni/bin<br>tar Cxzvf /opt/cni/bin cni-plugins-linux-amd64-v1.1.1.tgz<br><span class="hljs-comment">#---------------------------------END--------------------#</span><br><br><span class="hljs-comment">#---------- set Cgroup drivers on systemd &lt;start&gt;--------------</span><br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; kubeadm-config.yaml</span><br><span class="hljs-string"># kubeadm-config.yaml</span><br><span class="hljs-string">kind: ClusterConfiguration</span><br><span class="hljs-string">apiVersion: kubeadm.k8s.io/v1beta3</span><br><span class="hljs-string">kubernetesVersion: v1.25.5</span><br><span class="hljs-string">---</span><br><span class="hljs-string">kind: KubeletConfiguration</span><br><span class="hljs-string">apiVersion: kubelet.config.k8s.io/v1beta1</span><br><span class="hljs-string">cgroupDriver: systemd</span><br><span class="hljs-string">EOF</span><br><br>containerd config default &gt; /etc/containerd/config.toml<br><br>sed -i <span class="hljs-string">&#x27;s/SystemdCgroup = false/SystemdCgroup = true/g&#x27;</span> /etc/containerd/config.toml<br><br>systemctl restart containerd<br><br><span class="hljs-comment">#---------- set Cgroup drivers on systemd &lt;end&gt;--------------</span><br><br><span class="hljs-comment"># Set proxy for docker </span><br><span class="hljs-built_in">mkdir</span> /etc/systemd/system/docker.service.d<br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; /etc/systemd/system/docker.service.d/http-proxy.conf</span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">Environment=&quot;HTTP_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;HTTPS_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;NO_PROXY=localhost,127.0.0.0/8,10.0.0.0/8,192.168.0.0/16,docker-registry.somecorporation.com&quot;</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># set proxy for containerd</span><br><span class="hljs-built_in">mkdir</span> /etc/systemd/system/containerd.service.d<br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; /etc/systemd/system/containerd.service.d/http-proxy.conf</span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">Environment=&quot;HTTP_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;HTTPS_PROXY=10.64.1.81:8080&quot;</span><br><span class="hljs-string">Environment=&quot;NO_PROXY=localhost,127.0.0.0/8,10.0.0.0/8,192.168.0.0/16,docker-registry.somecorporation.com&quot;</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># Reload and restart docker</span><br>systemctl daemon-reload &amp;&amp; systemctl restart docker<br><br><span class="hljs-comment"># Reload and restart containerd</span><br>systemctl daemon-reload &amp;&amp; systemctl restart containerd<br><br><span class="hljs-comment"># Show docker proxy settings</span><br>systemctl show --property Environment docker<br><br><span class="hljs-comment"># Show docker proxy settings</span><br>systemctl show --property Environment containerd<br></code></pre></td></tr></table></figure><h3 id="Install-Kubernetes-1"><a href="#Install-Kubernetes-1" class="headerlink" title="Install Kubernetes"></a>Install Kubernetes</h3><h4 id="Installing-kubeadm-kubelet-and-kubectl-on-Master-and-node-servers-1"><a href="#Installing-kubeadm-kubelet-and-kubectl-on-Master-and-node-servers-1" class="headerlink" title="Installing kubeadm, kubelet and kubectl on Master and node servers"></a><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-kubeadm-kubelet-and-kubectl">Installing kubeadm, kubelet and kubectl</a> on Master and node servers</h4><p>K8s_install.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Install kubeadm, kubelet and kubectl with Aliyun repo</span><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /etc/yum.repos.d/kubernetes.repo</span><br><span class="hljs-string">[kubernetes]</span><br><span class="hljs-string">name=Kubernetes</span><br><span class="hljs-string">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span><br><span class="hljs-string">enabled=1</span><br><span class="hljs-string">gpgcheck=0</span><br><span class="hljs-string">repo_gpgcheck=0</span><br><span class="hljs-string">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># Set SELinux in permissive mode (effectively disabling it)</span><br>sudo setenforce 0<br>sudo sed -i <span class="hljs-string">&#x27;s/^SELINUX=enforcing$/SELINUX=permissive/&#x27;</span> /etc/selinux/config<br><br><span class="hljs-comment"># install version 1.25.5 which is stable version. Installing lastest version usually have unknown issue when initialization</span><br>sudo yum -y install kubeadm-1.25.5 kubelet-1.25.5 kubectl-1.25.5<br><br>systemctl daemon-reload &amp;&amp; systemctl restart kubelet<br>sudo systemctl <span class="hljs-built_in">enable</span> --now kubelet<br><br><span class="hljs-comment"># install crictl</span><br>crictl config runtime-endpoint unix:///run/containerd/containerd.sock<br>crictl config image-endpoint unix:///run/containerd/containerd.sock<br></code></pre></td></tr></table></figure><h4 id="Init-Kubenetes-with-network-and-configure-kubectl-as-regular-user-on-Master-server-1"><a href="#Init-Kubenetes-with-network-and-configure-kubectl-as-regular-user-on-Master-server-1" class="headerlink" title="Init Kubenetes with network and configure kubectl as regular user on Master server"></a>Init Kubenetes with network and configure kubectl as regular user on Master server</h4><p>Network_kubectl_user.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubeadm init --pod-network-cidr=10.244.0.0/16<br><span class="hljs-comment"># kubeadm init --pod-network-cidr=10.244.0.0/16 --config kubeadm-config.yaml</span><br><span class="hljs-comment">#Kubernetes,</span><br><span class="hljs-comment">#kubeadm init --kubernetes-version=v1.15.1 --pod-network-cidr=10.244.0.0/16</span><br><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># kubeadm reset</span><br><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># yum erase -y kubelet kubectl kubeadm kubernetes-cni</span><br><br><br><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br>sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config<br>sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config<br></code></pre></td></tr></table></figure><h4 id="Install-network-plugin-and-weave-tool-on-Master-server-1"><a href="#Install-network-plugin-and-weave-tool-on-Master-server-1" class="headerlink" title="Install network plugin and weave tool on Master server"></a>Install network plugin and weave tool on Master server</h4><p>Network_plugin.sh</p><blockquote><p><strong>Note:</strong> Without network plugin installed, master node and kubelet status will not be ready</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl https://docs.projectcalico.org/manifests/calico.yaml -O<br><span class="hljs-comment"># calico.yamlpodkubeadm init--pod-network-cidr</span><br>sed -i <span class="hljs-string">&#x27;s/192.168.0.0/10.244.0.0/g&#x27;</span> calico.yaml<br>kubectl apply -f calico.yaml<br></code></pre></td></tr></table></figure><p><img src="https://felixyanghui.synology.me:8441/images/2023/01/01/image-20230101211754084.png" alt="image-20230101211754084"></p><p><img src="https://felixyanghui.synology.me:8441/images/2023/01/01/image-20230101211819945.png" alt="image-20230101211819945"></p><h3 id="Post-Installation-1"><a href="#Post-Installation-1" class="headerlink" title="Post-Installation"></a>Post-Installation</h3><h4 id="Join-node-server-to-master-1"><a href="#Join-node-server-to-master-1" class="headerlink" title="Join node server to master"></a>Join node server to master</h4><p>Node_join.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># avoid error: [ERROR FileContentproc-sys-net-ipv4-ip_forward]: /proc/sys/net/ipv4/ip_forward contents are not set to 1</span><br><span class="hljs-built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward<br><br><span class="hljs-comment"># Below command is copied from the output of the &quot;kubeadm init&quot;</span><br>kubeadm <span class="hljs-built_in">join</span> 192.168.22.81:6443 --token d0cbz5.9nugb974yhl54ss6 \<br>--discovery-token-ca-cert-hash sha256:bc7099ce8ff86c2cc7d8d51b0f30c4d57cbd3fbe967e81f8f05c2decf9599b07 <br><br><span class="hljs-comment"># Check K8S cluster nodes and pods status</span><br>kubectl get nodes<br>kubectl get pods --all-namespaces -o wide<br></code></pre></td></tr></table></figure><h4 id="Install-helm3-on-K8SMaster-1"><a href="#Install-helm3-on-K8SMaster-1" class="headerlink" title="Install helm3 on K8SMaster"></a>Install helm3 on K8SMaster</h4><p>Helm3_install.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -e <span class="hljs-string">&quot;https_proxy=10.64.1.81:8080&quot;</span>  https://get.helm.sh/helm-v3.1.2-linux-amd64.tar.gz<br>tar -zxvf helm-v3.1.2-linux-amd64.tar.gz<br><span class="hljs-built_in">cd</span> linux-amd64/<br><span class="hljs-built_in">mv</span> helm /usr/bin/<br>helm version<br><br><br><span class="hljs-comment"># helm init is not used any more since helm3</span><br><span class="hljs-comment"># $ kubectl create serviceaccount --namespace kube-system tiller</span><br><span class="hljs-comment"># $ kubectl create clusterrolebinding tiller-cluster-role --clusterrole=cluster-admin --serviceaccount=kube-system:tiller</span><br><span class="hljs-comment"># $ helm init --upgrade -i registry.cn-hangzhou.aliyuncs.com/google_containers/tiller:v2.15.1 --service-account=tiller --stable-repo-url https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts![title](/api/file/getImage?fileId=620bb3b4935fe2000e000015)</span><br><span class="hljs-comment"># add helm repo</span><br>helm repo add  aliyuncs https://apphub.aliyuncs.com<br>helm repo list<br>helm search repo aliyuncs | <span class="hljs-built_in">head</span> -5<br></code></pre></td></tr></table></figure><h4 id="something-more-about-helm-1"><a href="#something-more-about-helm-1" class="headerlink" title="something more about helm"></a>something more about helm</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># add helm repo</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo add stable http://mirror.azure.cn/kubernetes/charts</span><br><span class="hljs-string">&quot;stable&quot;</span> has been added to your repositories<br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo add aliyun  https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts</span><br><span class="hljs-string">&quot;aliyun&quot;</span> has been added to your repositories<br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo add jetstack https://charts.jetstack.io</span><br><span class="hljs-string">&quot;jetstack&quot;</span> has been added to your repositories<br><br><span class="hljs-comment"># update helm repo</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo update</span><br>Hang tight <span class="hljs-keyword">while</span> we grab the latest from your chart repositories...<br>...Successfully got an update from the <span class="hljs-string">&quot;jetstack&quot;</span> chart repository<br>...Successfully got an update from the <span class="hljs-string">&quot;aliyun&quot;</span> chart repository<br>...Successfully got an update from the <span class="hljs-string">&quot;stable&quot;</span> chart repository<br>Update Complete.  Happy Helming! <br><br><span class="hljs-comment"># list helm repo</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm repo list</span><br>NAME    URL                                                   <br>stable  http://mirror.azure.cn/kubernetes/charts              <br>aliyun  https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts<br>jetstackhttps://charts.jetstack.io                            <br><br><span class="hljs-comment"># search chart</span><br>[root@CentOS001 ~]<span class="hljs-comment"># helm search repo nginx</span><br>NAME                       CHART VERSIONAPP VERSIONDESCRIPTION                                       <br>aliyun/nginx-ingress       0.9.5        0.10.2     An nginx Ingress controller that uses ConfigMap...<br>aliyun/nginx-lego          0.3.1                   Chart <span class="hljs-keyword">for</span> nginx-ingress-controller and kube-lego  <br>stable/nginx-ingress       1.41.3       v0.34.1    DEPRECATED! An nginx Ingress controller that us...<br>stable/nginx-ldapauth-proxy0.1.6        1.13.5     DEPRECATED - nginx proxy with ldapauth            <br>stable/nginx-lego          0.3.1                   Chart <span class="hljs-keyword">for</span> nginx-ingress-controller and kube-lego  <br>aliyun/gcloud-endpoints    0.1.0                   Develop, deploy, protect and monitor your APIs ...<br>stable/gcloud-endpoints    0.1.2        1          DEPRECATED Develop, deploy, protect and monitor..<br></code></pre></td></tr></table></figure><h3 id="Common-Troubleshooting-Tips-1"><a href="#Common-Troubleshooting-Tips-1" class="headerlink" title="Common Troubleshooting Tips"></a>Common Troubleshooting Tips</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl get nodes<br>kubectl get ds -n kube-system<br>kubectl get pod<br>kubectl get pods -n kube-system<br>kubectl get pods -n kube-system -o wide<br>kubectl logs weave-net-ldsgl  -n kube-system weave-npc<br>kubectl describe pod auth-54d7667c5d-sgrt8<br>systemctl status kubelet<br>journalctl -f -u kubelet<br><span class="hljs-comment"># If the init container failed, subsequent container initilization just pending there, no logs from below commands</span><br>kubectl logs auth-54d7667c5d-dnslv<br>kubectl logs scan-687c4bfddd-w5fbk  --previous<br><span class="hljs-comment"># check why init container failed, lead to subsequent container can not be initialized</span><br>kubectl logs scan-687c4bfddd-w5fbk  -c db-init <br><br>crictl --runtime-endpoint /run/containerd/containerd.sock ps<br><br></code></pre></td></tr></table></figure><h4 id="Check-Cgroup-drivers-for-kubelet-containerd"><a href="#Check-Cgroup-drivers-for-kubelet-containerd" class="headerlink" title="Check Cgroup drivers for kubelet, containerd"></a>Check Cgroup drivers for kubelet, containerd</h4><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs fortran">systemctl <span class="hljs-keyword">status</span> containerd.service<br>systemctl <span class="hljs-keyword">status</span> kubelet<br></code></pre></td></tr></table></figure><h3 id="cgroup-setting-highlights"><a href="#cgroup-setting-highlights" class="headerlink" title="cgroup setting highlights"></a>cgroup setting highlights</h3><p><a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cgroup-drivers">https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cgroup-drivers</a></p><blockquote><h3 id="cgroupfs-driver"><a href="#cgroupfs-driver" class="headerlink" title="cgroupfs driver"></a>cgroupfs driver</h3><p>The <code>cgroupfs</code> driver is the default cgroup driver in the kubelet. When the <code>cgroupfs</code> driver is used, the kubelet and the container runtime directly interface with the cgroup filesystem to configure cgroups.</p><p>The <code>cgroupfs</code> driver is <strong>not</strong> recommended when <a href="https://www.freedesktop.org/wiki/Software/systemd/">systemd</a> is the init system because systemd expects a single cgroup manager on the system. Additionally, if you use <a href="https://kubernetes.io/docs/concepts/architecture/cgroups">cgroup v2</a> , use the <code>systemd</code> cgroup driver instead of <code>cgroupfs</code>.</p><h3 id="systemd-cgroup-driver"><a href="#systemd-cgroup-driver" class="headerlink" title="systemd cgroup driver"></a>systemd cgroup driver</h3><p>When <a href="https://www.freedesktop.org/wiki/Software/systemd/">systemd</a> is chosen as the init system for a Linux distribution, the init process generates and consumes a root control group (<code>cgroup</code>) and acts as a cgroup manager.</p><p>systemd has a tight integration with cgroups and allocates a cgroup per systemd unit. As a result, if you use <code>systemd</code> as the init system with the <code>cgroupfs</code> driver, the system gets two different cgroup managers.</p><p>Two cgroup managers result in two views of the available and in-use resources in the system. In some cases, nodes that are configured to use <code>cgroupfs</code> for the kubelet and container runtime, but use <code>systemd</code> for the rest of the processes become unstable under resource pressure.</p><p>The approach to mitigate this instability is to use <code>systemd</code> as the cgroup driver for the kubelet and the container runtime when systemd is the selected init system.</p><p>To set <code>systemd</code> as the cgroup driver, edit the <a href="https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/"><code>KubeletConfiguration</code></a> option of <code>cgroupDriver</code> and set it to <code>systemd</code>. For example:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">kubelet.config.k8s.io/v1beta1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">KubeletConfiguration</span><br><span class="hljs-string">...</span><br><span class="hljs-attr">cgroupDriver:</span> <span class="hljs-string">systemd</span><br></code></pre></td></tr></table></figure><p>If you configure <code>systemd</code> as the cgroup driver for the kubelet, you must also configure <code>systemd</code> as the cgroup driver for the container runtime. Refer to the documentation for your container runtime for instructions. For example:</p><ul><li><a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#containerd-systemd">containerd</a></li></ul><h4 id="Configuring-the-systemd-cgroup-driver"><a href="#Configuring-the-systemd-cgroup-driver" class="headerlink" title="Configuring the systemd cgroup driver"></a>Configuring the <code>systemd</code> cgroup driver</h4><p>To use the <code>systemd</code> cgroup driver in <code>/etc/containerd/config.toml</code> with <code>runc</code>, set</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">[plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span><span class="hljs-string">.containerd.runtimes.runc</span>]<br>  <span class="hljs-string">...</span><br>  [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span><span class="hljs-string">.containerd.runtimes.runc.options</span>]<br>    SystemdCgroup = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>The <code>systemd</code> cgroup driver is recommended if you use <a href="https://kubernetes.io/docs/concepts/architecture/cgroups">cgroup v2</a>.</p><p><strong>Note:</strong></p><p>If you installed containerd from a package (for example, RPM or <code>.deb</code>), you may find that the CRI integration plugin is disabled by default.</p><p>You need CRI support enabled to use containerd with Kubernetes. Make sure that <code>cri</code> is not included in the<code>disabled_plugins</code> list within <code>/etc/containerd/config.toml</code>; if you made changes to that file, also restart <code>containerd</code>.</p><p>If you experience container crash loops after the initial cluster installation or after installing a CNI, the containerd configuration provided with the package might contain incompatible configuration parameters. Consider resetting the containerd configuration with <code>containerd config default &gt; /etc/containerd/config.toml</code> as specified in <a href="https://github.com/containerd/containerd/blob/main/docs/getting-started.md#advanced-topics">getting-started.md</a> and then set the configuration parameters specified above accordingly.</p></blockquote><h3 id="Accessing-Cluster-via-kubeconfig"><a href="#Accessing-Cluster-via-kubeconfig" class="headerlink" title="Accessing Cluster via kubeconfig"></a>Accessing Cluster via kubeconfig</h3><p><a href="https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/">https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/</a></p><p><a href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/">https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/</a></p><h2 id="01-2-Setup-Rancher"><a href="#01-2-Setup-Rancher" class="headerlink" title="01.2. Setup Rancher"></a>01.2. Setup Rancher</h2><h3 id="prerequisites"><a href="#prerequisites" class="headerlink" title="prerequisites"></a>prerequisites</h3><p>refer to <a href="https://www.suse.com/assets/v2.5.16-Support-Matrix.pdf">rancher support matrix</a></p><table><thead><tr><th>Rancher Server</th><th>OS</th><th>Docker</th><th>K8S</th></tr></thead><tbody><tr><td>v2.4.9</td><td>CentOS8.2</td><td>20.10.18</td><td>v1.18.20</td></tr></tbody></table><h3 id="Install-rancher-on-docker"><a href="#Install-rancher-on-docker" class="headerlink" title="Install rancher on docker"></a>Install rancher on docker</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sudo</span> docker run -d --restart=unless-stopped --privileged  -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> -p <span class="hljs-number">443</span>:<span class="hljs-number">443</span> rancher/rancher:v2.<span class="hljs-number">4</span>.<span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><h3 id="Import-existing-K8S-cluster-on-rancher-console"><a href="#Import-existing-K8S-cluster-on-rancher-console" class="headerlink" title="Import existing K8S cluster on rancher console"></a>Import existing K8S cluster on rancher console</h3><p><img src="https://img2022.cnblogs.com/blog/198189/202201/198189-20220128161659405-38599556.png" alt="img"></p><p><img src="https://img2022.cnblogs.com/blog/198189/202201/198189-20220128161828060-1215655823.png" alt="img"></p><p><img src="https://img2022.cnblogs.com/blog/198189/202201/198189-20220128162140454-379347937.png" alt="img"></p><h4 id="Run-commands-on-K8S-master"><a href="#Run-commands-on-K8S-master" class="headerlink" title="Run commands on K8S master"></a>Run commands on K8S master</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl create serviceaccount felix<br>kubectl create clusterrolebinding cluster-admin-binding --clusterrole cluster-admin --user=felix<br><br>curl --insecure -sfL https://192.168.22.84/v3/import/5glwxx7gnhkc4zldnb8ts5xnrxv244cwmz5qrgw4k6jfkvf577t7b9.yaml | kubectl apply -f -<br>kubectl get pods --all-namespaces -o wide<br></code></pre></td></tr></table></figure><h2 id="01-3-Setup-Gitlab"><a href="#01-3-Setup-Gitlab" class="headerlink" title="01.3. Setup Gitlab"></a>01.3. Setup Gitlab</h2><h3 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p><a href="https://packages.gitlab.com/gitlab/gitlab-ce/packages/el/8/gitlab-ce-14.2.3-ce.0.el8.x86_64.rpm">https://packages.gitlab.com/gitlab/gitlab-ce/packages/el/8/gitlab-ce-14.2.3-ce.0.el8.x86_64.rpm</a></p><h3 id="Install-gitlab"><a href="#Install-gitlab" class="headerlink" title="Install gitlab"></a>Install gitlab</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bath">sudo yum install -y curl policycoreutils-python policycoreutils-python-utils policycoreutils openssh-server openssh-clients perl<br>sudo systemctl enable sshd<br>sudo systemctl start sshd<br><br>dnf install postfix<br>systemctl enable postfix<br>systemctl start postfix<br><br>curl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash<br>sudo EXTERNAL_URL=&quot;http://192.168.22.85&quot;  yum install gitlab-ce-14.2.3-ce.0.el8.x86_64<br></code></pre></td></tr></table></figure><p><em><strong>Output:</strong></em> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs bash">Default admin account has been configured with following details:<br>Username: root<br>Password: You didn<span class="hljs-string">&#x27;t opt-in to print initial root password to STDOUT.</span><br><span class="hljs-string">Password stored to /etc/gitlab/initial_root_password. This file will be cleaned up in first reconfigure run after 24 hours.</span><br><span class="hljs-string"></span><br><span class="hljs-string">NOTE: Because these credentials might be present in your log files in plain text, it is highly recommended to reset the password following https://docs.gitlab.com/ee/security/reset_user_password.html#reset-your-root-password.</span><br><span class="hljs-string"></span><br><span class="hljs-string">gitlab Reconfigured!</span><br><span class="hljs-string"></span><br><span class="hljs-string">       *.                  *.</span><br><span class="hljs-string">      ***                 ***</span><br><span class="hljs-string">     *****               *****</span><br><span class="hljs-string">    .******             *******</span><br><span class="hljs-string">    ********            ********</span><br><span class="hljs-string">   ,,,,,,,,,***********,,,,,,,,,</span><br><span class="hljs-string">  ,,,,,,,,,,,*********,,,,,,,,,,,</span><br><span class="hljs-string">  .,,,,,,,,,,,*******,,,,,,,,,,,,</span><br><span class="hljs-string">      ,,,,,,,,,*****,,,,,,,,,.</span><br><span class="hljs-string">         ,,,,,,,****,,,,,,</span><br><span class="hljs-string">            .,,,***,,,,</span><br><span class="hljs-string">                ,*,.</span><br><span class="hljs-string">  </span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">     _______ __  __          __</span><br><span class="hljs-string">    / ____(_) /_/ /   ____ _/ /_</span><br><span class="hljs-string">   / / __/ / __/ /   / __ `/ __ \</span><br><span class="hljs-string">  / /_/ / / /_/ /___/ /_/ / /_/ /</span><br><span class="hljs-string">  \____/_/\__/_____/\__,_/_.___/</span><br><span class="hljs-string">  </span><br><span class="hljs-string"></span><br><span class="hljs-string">Thank you for installing GitLab!</span><br><span class="hljs-string">GitLab should be available at http://192.168.22.85</span><br><span class="hljs-string"></span><br><span class="hljs-string">For a comprehensive list of configuration options please see the Omnibus GitLab readme</span><br><span class="hljs-string">https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md</span><br><span class="hljs-string"></span><br><span class="hljs-string">Help us improve the installation experience, let us know how we did with a 1 minute survey:</span><br><span class="hljs-string">https://gitlab.fra1.qualtrics.com/jfe/form/SV_6kVqZANThUQ1bZb?installation=omnibus&amp;release=14-2</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">  Verifying        : gitlab-ce-14.2.3-ce.0.el8.x86_64                                                                                                                                                           1/1 </span><br><span class="hljs-string"></span><br><span class="hljs-string">Installed:</span><br><span class="hljs-string">  gitlab-ce-14.2.3-ce.0.el8.x86_64                                                                                                                                                                                  </span><br><span class="hljs-string"></span><br><span class="hljs-string">Complete!</span><br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">root</span><br><span class="hljs-attribute">Password</span>: x35fWPKFju3JP7QLQ+VXgFYwKvQtwh77sCl8Jjw+<span class="hljs-number">8</span>xQ=<br></code></pre></td></tr></table></figure><h3 id="Useful-commands"><a href="#Useful-commands" class="headerlink" title="Useful commands"></a>Useful commands</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim  /etc/gitlab/gitlab.rb<br>external_url <span class="hljs-string">&#x27;http://192.168.22.85&#x27;</span><br><br>GitLab:<br>gitlab-ctl reconfigure<br>gitlab-ctl restart  <br><br><br>gitlab-ctl status<br><br> <br>gitlab-ctl start<br><br><br>gitlab-ctl stop <br><br>gitlab<br>systemctl <span class="hljs-built_in">disable</span> gitlab-runsvdir.service<br><br>gitlab<br>systemctl <span class="hljs-built_in">enable</span> gitlab-runsvdir.service<br>systemctl start gitlab-runsvdir.service<br>gitlab-cmd start<br><br></code></pre></td></tr></table></figure><h2 id="01-4-Setup-Jenkins"><a href="#01-4-Setup-Jenkins" class="headerlink" title="01.4. Setup Jenkins"></a>01.4. Setup Jenkins</h2><h3 id="Option-1-Set-up-a-Jenkins-server-on-Kubernetes"><a href="#Option-1-Set-up-a-Jenkins-server-on-Kubernetes" class="headerlink" title="Option-1: Set up a Jenkins server on Kubernetes"></a>Option-1: Set up a Jenkins server on Kubernetes</h3><p><a href="https://devopscube.com/setup-jenkins-on-kubernetes-cluster/">How To Setup Jenkins On Kubernetes Cluster  Beginners Guide</a></p><p>Access Jenkins:</p><p><a href="http://192.168.22.61:32001/login?from=/">http://192.168.22.61:32001/login?from=%2F</a></p><p>Get the initial password of Jenkins</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@k8smaster ~]<span class="hljs-comment"># kubectl get pods -n devops-tools</span><br>NAME                      READY   STATUS    RESTARTS   AGE<br>jenkins-b96f7764f-g5fhh   1/1     Running   0          11m<br><br>[root@k8smaster ~]<span class="hljs-comment"># kubectl exec jenkins-b96f7764f-g5fhh -n devops-tools -it bash</span><br>kubectl <span class="hljs-built_in">exec</span> [POD] [COMMAND] is DEPRECATED and will be removed <span class="hljs-keyword">in</span> a future version. Use kubectl <span class="hljs-built_in">exec</span> [POD] -- [COMMAND] instead.<br><br>jenkins@jenkins-b96f7764f-g5fhh:/$ <span class="hljs-built_in">cat</span> /var/jenkins_home/secrets/initialAdminPassword<br>04a4a6c9e79c4428930a92f433427dce<br></code></pre></td></tr></table></figure><h4 id="Errors-and-resolution"><a href="#Errors-and-resolution" class="headerlink" title="Errors and resolution"></a>Errors and resolution</h4><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs smalltalk"><span class="hljs-comment">&quot;An error occurred during installation: No such plugin: cloudbees-folder&quot;</span><br></code></pre></td></tr></table></figure><p>Resolution is to restart Jenkins: <a href="http://localhost:8080/restart">http://localhost:8080/restart</a></p><h3 id="Option-2-Set-up-a-Jenkins-server-on-CentOS8"><a href="#Option-2-Set-up-a-Jenkins-server-on-CentOS8" class="headerlink" title="Option-2: Set up a Jenkins server on CentOS8"></a>Option-2: Set up a Jenkins server on CentOS8</h3><p>Reference:</p><p><a href="https://sysadminxpert.com/install-openjdk-11-on-centos-7/">https://sysadminxpert.com/install-openjdk-11-on-centos-7/</a></p><p><a href="https://www.jianshu.com/p/85ab4db26857">https://www.jianshu.com/p/85ab4db26857</a></p><!--Need to install Java 11--><ul><li><p>Install OpenJDK 11</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"> yum -y install java-11-openjdk java-11-openjdk-devel<br> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;export JAVA_HOME=<span class="hljs-subst">$(dirname $(dirname $(readlink $(readlink $(which javac)</span>))))&quot;</span> &gt;&gt; ~/.bash_profile<br> <span class="hljs-built_in">cat</span> ~/.bash_profile<br><br>java version<br><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$JAVA_HOME</span><br></code></pre></td></tr></table></figure></li><li><p>Set or configure default Java version if theres another&#x2F;old version already installed</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">alternatives --config javac<br><br><span class="hljs-comment"># Set JAVA_HOME Environment Variable</span><br>vim ~/.bash_profile<br><br>JAVA_HOME=<span class="hljs-string">&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-4.el7_8.x86_64/bin/java&quot;</span><br><br><span class="hljs-built_in">source</span> ~/.bash_profile<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$JAVA_HOME</span><br></code></pre></td></tr></table></figure></li><li><p>Test Java installation</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> &gt; hello_world.java &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">public class helloworld &#123;</span><br><span class="hljs-string">  public static void main(String[] args) &#123;</span><br><span class="hljs-string">    System.out.println(&quot;Hello Java World!&quot;);</span><br><span class="hljs-string">  &#125;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">EOF</span><br><br>java hello_world.java<br></code></pre></td></tr></table></figure></li><li><p>Add the Jenkins Repository and Verify security key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo<br>sudo rpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.key<br><br></code></pre></td></tr></table></figure></li><li><p>Update packages</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum update<br></code></pre></td></tr></table></figure></li><li><p>Install Jenkins</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install jenkins -y<br></code></pre></td></tr></table></figure></li><li><p>Configure and start Jenkins service </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl daemon-reload<br>systemctl start jenkins<br></code></pre></td></tr></table></figure></li><li><p>Get initial password</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /var/lib/jenkins/secrets/initialAdminPassword<br></code></pre></td></tr></table></figure></li></ul><h2 id="01-5-Setup-Harbor"><a href="#01-5-Setup-Harbor" class="headerlink" title="01.5. Setup Harbor"></a>01.5. Setup Harbor</h2><h3 id="Prerequisites-1"><a href="#Prerequisites-1" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><h4 id="Install-docker"><a href="#Install-docker" class="headerlink" title="Install docker"></a>Install docker</h4><h4 id="Install-docker-compose"><a href="#Install-docker-compose" class="headerlink" title="Install docker compose"></a>Install docker compose</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo yum install docker-compose-plugin<br>sudo <span class="hljs-built_in">chmod</span> +x /usr/libexec/docker/cli-plugins/docker-compose<br><span class="hljs-built_in">ln</span> -s /usr/libexec/docker/cli-plugins/docker-compose /usr/sbin/docker-compose<br>docker-compose version<br></code></pre></td></tr></table></figure><h4 id="Download-harbor-offline-package"><a href="#Download-harbor-offline-package" class="headerlink" title="Download harbor offline package:"></a>Download harbor offline package:</h4><p><a href="https://github.com/goharbor/harbor/releases/tag/v2.6.0">https://github.com/goharbor/harbor/releases/tag/v2.6.0</a></p><h4 id="Install-harbor"><a href="#Install-harbor" class="headerlink" title="Install harbor"></a>Install harbor</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zxvf harbor-online-installer-v2.6.0.tgz -C /usr/local/<br><span class="hljs-built_in">cd</span> /usr/local/harbor/<br><span class="hljs-built_in">cp</span> harbor.yml.tmpl harbor.yml<br></code></pre></td></tr></table></figure><p>Modify harbor.yml to disable https and add IP address in hostname</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>++++++++++++++<br>hostname: 192.168.22.86<br><br><span class="hljs-comment"># http related config</span><br>http:<br>  <span class="hljs-comment"># port for http, default is 80. If https enabled, this port will redirect to https port</span><br>  port: 80<br><br><span class="hljs-comment"># https related config</span><br><span class="hljs-comment">#https:</span><br>  <span class="hljs-comment"># https port for harbor, default is 443</span><br>  <span class="hljs-comment">#port: 443</span><br>  <span class="hljs-comment"># The path of cert and key files for nginx</span><br>  <span class="hljs-comment">#certificate: /your/certificate/path</span><br>  <span class="hljs-comment">#private_key: /your/private/key/path</span><br>+++++++++++++++<br></code></pre></td></tr></table></figure><p>Install harbor</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">./prepare<br>./install.sh <br></code></pre></td></tr></table></figure><h3 id="Optional-HTTPS-access-enablement"><a href="#Optional-HTTPS-access-enablement" class="headerlink" title="Optional - HTTPS access enablement"></a>Optional - HTTPS access enablement</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs bash">openssl genrsa -out root.pem 2048<br>openssl req -new -sha256 -out root.csr -key root.pem \<br>-subj <span class="hljs-string">&quot;/C=CN/ST=jiangsu/L=nj/O=test/OU=Personal/CN=192.168.22.86&quot;</span> <br>openssl req -x509 -new -nodes -sha256 -days 365 \<br> -subj <span class="hljs-string">&quot;/C=CN/ST=jiangsu/L=nj/O=test/OU=Personal/CN=192.168.22.86&quot;</span> \<br> -key root.pem \<br> -out root.crt<br> <br> <br><span class="hljs-built_in">cat</span> &gt; v3.ext &lt;&lt;-<span class="hljs-string">EOF</span><br><span class="hljs-string">authorityKeyIdentifier=keyid,issuer</span><br><span class="hljs-string">basicConstraints=CA:FALSE</span><br><span class="hljs-string">keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment</span><br><span class="hljs-string">extendedKeyUsage = serverAuth</span><br><span class="hljs-string">subjectAltName = IP:192.168.56.108</span><br><span class="hljs-string">EOF</span><br><br><br><br>openssl genrsa -out ca_harbor.pem 2048<br>openssl req -new -sha256 -out ca_harbor.csr -key ca_harbor.pem<br>openssl x509 -req -sha512 -days 365 \<br>    -extfile v3.ext \<br>    -CA root.crt -CAkey root.pem -CAcreateserial \<br>    -<span class="hljs-keyword">in</span> ca_harbor.csr \<br>    -out ca_harbor.crt<br><br><br>openssl x509 -inform PEM -<span class="hljs-keyword">in</span> ca_harbor.crt -out ca_harbor.cert<br><br><span class="hljs-built_in">mkdir</span> -p /etc/docker/certs.d/192.168.22.86/<br><span class="hljs-built_in">cp</span> ca_harbor.cert /data/cert/ca_harbor.cert<br><span class="hljs-built_in">cp</span> ca_harbor.pem /data/cert/ca_harbor.pem<br><span class="hljs-built_in">cp</span> ca_harbor.crt /data/cert/ca_harbor.crt<br><span class="hljs-built_in">cp</span> /data/cert/ca_harbor.cert /etc/docker/certs.d/192.168.22.86/<br><span class="hljs-built_in">cp</span> /data/cert/ca_harbor.pem /etc/docker/certs.d/192.168.22.86/<br><span class="hljs-built_in">cp</span> /data/cert/ca_harbor.crt /etc/docker/certs.d/192.168.22.86/<br><br><br>/usr/local/harbor/<br>vi harbor.yml<br>++++++++++++++<br>hostname: 192.168.22.86<br><br><span class="hljs-comment"># http related config</span><br>http:<br>  <span class="hljs-comment"># port for http, default is 80. If https enabled, this port will redirect to https port</span><br>  port: 80<br><br><span class="hljs-comment"># https related config</span><br>https:<br>  <span class="hljs-comment"># https port for harbor, default is 443</span><br>  port: 443<br>  <span class="hljs-comment"># The path of cert and key files for nginx</span><br>  certificate: /data/cert/ca_harbor.cert<br>  private_key: /data/cert/ca_harbor.pem<br>+++++++++++++++<br><br>docker-compose down -v<br>systemctl restart docker<br><br>./install.sh<br><br>netstat -nplt<br></code></pre></td></tr></table></figure><h3 id="Access-the-harbor-console"><a href="#Access-the-harbor-console" class="headerlink" title="Access the harbor console"></a>Access the harbor console</h3><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/04/image-20221002100923461.png" alt="image-20221002100923461"></p><h2 id="01-6-Setup-InfluxDB-on-Kubernetes"><a href="#01-6-Setup-InfluxDB-on-Kubernetes" class="headerlink" title="01.6. Setup InfluxDB on Kubernetes"></a>01.6. Setup InfluxDB on Kubernetes</h2><h3 id="Step-by-step"><a href="#Step-by-step" class="headerlink" title="Step by step"></a>Step by step</h3><p>Reference articles:</p><p><a href="https://www.cnblogs.com/zhangsi-lzq/p/14457707.html">https://www.cnblogs.com/zhangsi-lzq/p/14457707.html</a></p><p><a href="https://opensource.com/article/19/2/deploy-influxdb-grafana-kubernetes">https://opensource.com/article/19/2/deploy-influxdb-grafana-kubernetes</a></p><ul><li><p>Create namespace: influxdb</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">kubectl create <span class="hljs-keyword">namespace</span> <span class="hljs-symbol">influxdb</span><br></code></pre></td></tr></table></figure></li><li><p>create a secret using the <strong>kubectl create secret</strong> command and some basic credentials</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros">kubectl create<span class="hljs-built_in"> secret </span>generic influxdb-creds -n influxdb \<br>  <span class="hljs-attribute">--from-literal</span>=INFLUXDB_DATABASE=twittergraph \<br>  <span class="hljs-attribute">--from-literal</span>=INFLUXDB_USERNAME=root \<br>  <span class="hljs-attribute">--from-literal</span>=INFLUXDB_PASSWORD=root \<br>  <span class="hljs-attribute">--from-literal</span>=INFLUXDB_HOST=influxdb<br>  <br>kubectl <span class="hljs-built_in">get</span><span class="hljs-built_in"> secret </span>influxdb-creds -n influxdb<br>kubectl describe<span class="hljs-built_in"> secret </span>influxdb-creds -n influxdb<br></code></pre></td></tr></table></figure></li><li><p>create and configure persistent storage for InfluxDB</p><ul><li><p>Setup the nfs server: 192.168.22.60</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-comment"># nfsnfs</span><br>[root<span class="hljs-variable">@nfs</span> ~]<span class="hljs-comment"># yum install nfs-utils -y</span><br><br><span class="hljs-comment"># </span><br>[root<span class="hljs-variable">@nfs</span> ~]<span class="hljs-comment"># mkdir /root/data/influxdbpv -pv</span><br><br><span class="hljs-comment"># 192.168.5.0/24</span><br>[root<span class="hljs-variable">@nfs</span> ~]<span class="hljs-comment"># vim /etc/exports</span><br>[root<span class="hljs-variable">@nfs</span> ~]<span class="hljs-comment"># more /etc/exports</span><br><span class="hljs-regexp">/root/data</span><span class="hljs-regexp">/influxdbpv     192.168.22.0/</span><span class="hljs-number">24</span>(rw,no_root_squash)<br><br><span class="hljs-comment"># nfs</span><br>[root<span class="hljs-variable">@nfs</span> ~]<span class="hljs-comment"># systemctl restart nfs-server</span><br><br><span class="hljs-comment"># nodenfs</span><br>[~]<span class="hljs-comment"># yum install nfs-utils -y</span><br></code></pre></td></tr></table></figure></li><li><p>create pv and pvc</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">PersistentVolume</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span>  <span class="hljs-string">influxdbpv</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">capacity:</span> <br>    <span class="hljs-attr">storage:</span> <span class="hljs-string">10Gi</span><br>  <span class="hljs-attr">accessModes:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">ReadWriteMany</span><br>  <span class="hljs-attr">persistentVolumeReclaimPolicy:</span> <span class="hljs-string">Retain</span><br>  <span class="hljs-attr">nfs:</span><br>    <span class="hljs-attr">path:</span> <span class="hljs-string">/root/data/influxdbpv</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.60</span><br><span class="hljs-meta">---</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">PersistentVolumeClaim</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">influxdb</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">accessModes:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">ReadWriteMany</span><br>  <span class="hljs-attr">resources:</span><br>    <span class="hljs-attr">requests:</span><br>      <span class="hljs-attr">storage:</span> <span class="hljs-string">8Gi</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>create configmap from default conf file</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull influxdb:1.6.4<br><br><span class="hljs-comment"># --rm means to remove the container after the command run</span><br>docker run --<span class="hljs-built_in">rm</span> influxdb:1.6.4 influxd config &gt; influxdb.conf<br><br><br>kubectl create configmap influxdb-config --from-file influxdb.conf -n influxdb<br>kubectl get cm influxdb-config -n influxdb<br></code></pre></td></tr></table></figure></li><li><p>create deployment yaml</p><p><code>kubectl get deploy influxdb -n influxdb -o yaml &gt; influxdb_deploy.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">deployment.kubernetes.io/revision:</span> <span class="hljs-string">&quot;4&quot;</span><br>  <span class="hljs-attr">labels:</span><br>    <span class="hljs-attr">app:</span> <span class="hljs-string">influxdb</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">influxdb</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span><br>  <span class="hljs-attr">selector:</span><br>    <span class="hljs-attr">matchLabels:</span><br>      <span class="hljs-attr">app:</span> <span class="hljs-string">influxdb</span><br>  <span class="hljs-attr">template:</span><br>    <span class="hljs-attr">metadata:</span><br>      <span class="hljs-attr">labels:</span><br>        <span class="hljs-attr">app:</span> <span class="hljs-string">influxdb</span><br>    <span class="hljs-attr">spec:</span><br>      <span class="hljs-attr">containers:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">envFrom:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">secretRef:</span><br>            <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb-creds</span><br>        <span class="hljs-attr">image:</span> <span class="hljs-string">docker.io/influxdb:1.6.4</span><br>        <span class="hljs-attr">imagePullPolicy:</span> <span class="hljs-string">IfNotPresent</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb</span><br>        <span class="hljs-attr">terminationMessagePath:</span> <span class="hljs-string">/dev/termination-log</span><br>        <span class="hljs-attr">terminationMessagePolicy:</span> <span class="hljs-string">File</span><br>        <span class="hljs-attr">volumeMounts:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/var/lib/influxdb</span><br>          <span class="hljs-attr">name:</span> <span class="hljs-string">var-lib-influxdb</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/influxdb</span><br>          <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb-config</span><br>      <span class="hljs-attr">dnsPolicy:</span> <span class="hljs-string">ClusterFirst</span><br>      <span class="hljs-attr">restartPolicy:</span> <span class="hljs-string">Always</span><br>      <span class="hljs-attr">schedulerName:</span> <span class="hljs-string">default-scheduler</span><br>      <span class="hljs-attr">securityContext:</span> &#123;&#125;<br>      <span class="hljs-attr">terminationGracePeriodSeconds:</span> <span class="hljs-number">30</span><br>      <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">var-lib-influxdb</span><br>        <span class="hljs-attr">persistentVolumeClaim:</span><br>          <span class="hljs-attr">claimName:</span> <span class="hljs-string">influxdb</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">configMap:</span><br>          <span class="hljs-attr">defaultMode:</span> <span class="hljs-number">420</span><br>          <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb-config</span><br>        <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb-config</span><br></code></pre></td></tr></table></figure></li><li><p>expose service for external access</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb-svc</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">influxdb</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">NodePort</span><br>  <span class="hljs-attr">ports:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">8086</span><br>      <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8086</span><br>      <span class="hljs-attr">nodePort:</span> <span class="hljs-number">32002</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">influxdb</span><br>  <span class="hljs-attr">selector:</span><br>    <span class="hljs-attr">app:</span> <span class="hljs-string">influxdb</span><br></code></pre></td></tr></table></figure></li><li><p>check status</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[root@k8smaster influxdb]# kubectl <span class="hljs-keyword">get</span> pods,deployment,rs,svc,ep -n influxdb -o wide<br><span class="hljs-type">NAME</span>                            READY   STATUS    RESTARTS   AGE     IP          NODE       NOMINATED NODE   READINESS GATES<br>pod/influxdb<span class="hljs-number">-5</span>c576d94b4-r8ln8   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">3</span>h26m   <span class="hljs-number">10.42</span><span class="hljs-number">.0</span><span class="hljs-number">.5</span>   k8s-n301   &lt;<span class="hljs-keyword">none</span>&gt;           &lt;<span class="hljs-keyword">none</span>&gt;<br><br><span class="hljs-type">NAME</span>                       READY   UP-<span class="hljs-keyword">TO</span>-<span class="hljs-type">DATE</span>   AVAILABLE   AGE     CONTAINERS   IMAGES                     SELECTOR<br>deployment.apps/influxdb   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     <span class="hljs-number">1</span>            <span class="hljs-number">1</span>           <span class="hljs-number">5</span>h55m   influxdb     docker.io/influxdb:<span class="hljs-number">1.6</span><span class="hljs-number">.4</span>   app=influxdb<br><br><span class="hljs-type">NAME</span>                                  DESIRED   <span class="hljs-keyword">CURRENT</span>   READY   AGE     CONTAINERS   IMAGES                     SELECTOR<br>replicaset.apps/influxdb<span class="hljs-number">-5</span>c576d94b4   <span class="hljs-number">1</span>         <span class="hljs-number">1</span>         <span class="hljs-number">1</span>       <span class="hljs-number">4</span>h2m    influxdb     docker.io/influxdb:<span class="hljs-number">1.6</span><span class="hljs-number">.4</span>   app=influxdb,pod-<span class="hljs-keyword">template</span>-hash=<span class="hljs-number">5</span>c576d94b4<br>replicaset.apps/influxdb<span class="hljs-number">-6564</span>f56995   <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>       <span class="hljs-number">4</span>h40m   influxdb     docker.io/influxdb:<span class="hljs-number">1.6</span><span class="hljs-number">.4</span>   app=influxdb,pod-<span class="hljs-keyword">template</span>-hash=<span class="hljs-number">6564</span>f56995<br>replicaset.apps/influxdb<span class="hljs-number">-88</span>c898c6f    <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>       <span class="hljs-number">4</span>h30m   influxdb     docker.io/influxdb:<span class="hljs-number">1.6</span><span class="hljs-number">.4</span>   app=influxdb,pod-<span class="hljs-keyword">template</span>-hash=<span class="hljs-number">88</span>c898c6f<br>replicaset.apps/influxdb-c4df979df    <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>       <span class="hljs-number">4</span>h37m   influxdb     docker.io/influxdb:<span class="hljs-number">1.6</span><span class="hljs-number">.4</span>   app=influxdb,pod-<span class="hljs-keyword">template</span>-hash=c4df979df<br><br><span class="hljs-type">NAME</span>                   <span class="hljs-keyword">TYPE</span>       <span class="hljs-keyword">CLUSTER</span>-IP      <span class="hljs-keyword">EXTERNAL</span>-IP   PORT(S)          AGE     SELECTOR<br>service/influxdb-svc   NodePort   <span class="hljs-number">10.106</span><span class="hljs-number">.242</span><span class="hljs-number">.32</span>   &lt;<span class="hljs-keyword">none</span>&gt;        <span class="hljs-number">8086</span>:<span class="hljs-number">32002</span>/TCP   <span class="hljs-number">3</span>h32m   app=influxdb<br><br><span class="hljs-type">NAME</span>                     ENDPOINTS        AGE<br>endpoints/influxdb-svc   <span class="hljs-number">10.42</span><span class="hljs-number">.0</span><span class="hljs-number">.5</span>:<span class="hljs-number">8086</span>   <span class="hljs-number">3</span>h32m<br></code></pre></td></tr></table></figure></li></ul><h3 id="Enable-authentication-for-InfluxDB"><a href="#Enable-authentication-for-InfluxDB" class="headerlink" title="Enable authentication for InfluxDB"></a>Enable authentication for InfluxDB</h3><ul><li><p>Create db user</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">kubectl -n influxdb exec influxdb-dp<span class="hljs-number">-6</span>c8756cfcd-pc8gf -it <span class="hljs-comment">-- /bin/bash</span><br>bash<span class="hljs-number">-5.0</span># influx<br>Connected <span class="hljs-keyword">to</span> http://localhost:<span class="hljs-number">8086</span> <span class="hljs-keyword">version</span> <span class="hljs-number">1.6</span><span class="hljs-number">.4</span><br>InfluxDB shell <span class="hljs-keyword">version</span>: <span class="hljs-number">1.6</span><span class="hljs-number">.4</span><br>&gt; <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> root <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">PASSWORD</span> <span class="hljs-string">&#x27;123456&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">PRIVILEGES</span><br>&gt; <span class="hljs-keyword">show</span> users<br><span class="hljs-keyword">user</span> <span class="hljs-keyword">admin</span><br><span class="hljs-comment">---- -----</span><br>root <span class="hljs-keyword">true</span><br>&gt; <span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure></li><li><p>modify configmap, to enable authentication</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros">kubectl <span class="hljs-built_in">edit</span> cm influxdb-config  -n influxdb<br><span class="hljs-comment">#....skip....</span><br>    [http]<br>      enabled = <span class="hljs-literal">true</span><br>      bind-address = <span class="hljs-string">&quot;:8086&quot;</span><br>      auth-enabled = <span class="hljs-literal">true</span>        #change <span class="hljs-keyword">from</span> <span class="hljs-literal">false</span> <span class="hljs-keyword">to</span> <span class="hljs-literal">true</span><br><span class="hljs-comment">#....skip....</span><br></code></pre></td></tr></table></figure></li><li><p>Restart pod to reload configmap file</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">kubectl</span> -n influxdb delete pod influxdb-dp-<span class="hljs-number">6</span>c8756cfcd-pc8gf<br><span class="hljs-attribute">kubectl</span> -n influxdb get pod<br><span class="hljs-attribute">NAME</span>                           READY   STATUS    RESTARTS   AGE<br><span class="hljs-attribute">influxdb</span>-dp-<span class="hljs-number">6</span>c8756cfcd-fhvws   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>     Running   <span class="hljs-number">0</span>          <span class="hljs-number">30</span>s<br></code></pre></td></tr></table></figure></li><li><p>Test authentication</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs awk">kubectl -n influxdb exec influxdb-dp-<span class="hljs-number">6</span>c8756cfcd-fhvws -it -- <span class="hljs-regexp">/bin/</span>bash<br>bash-<span class="hljs-number">5.0</span><span class="hljs-comment"># influx</span><br>Connected to http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8086</span> version <span class="hljs-number">1.6</span>.<span class="hljs-number">4</span><br>InfluxDB shell version: <span class="hljs-number">1.6</span>.<span class="hljs-number">4</span><br>&gt; show database;<br>ERR: unable to parse authentication credentials<br>Warning: It is possible this error is due to not setting a database.        <br>Please set a database with the command <span class="hljs-string">&quot;use &lt;database&gt;&quot;</span>.<br>&gt; auth                                                                      <br>username: root<br>password: <br>&gt; show databases                                                            <br>name: databases<br>name<br>----<br>_internal<br>&gt; <span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="Useful-commands-1"><a href="#Useful-commands-1" class="headerlink" title="Useful commands"></a>Useful commands</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Run a influxdb instand directly with deployment</span><br>kubectl create deployment influxdb --image=docker.io/influxdb:1.6.4 -n influxdb<br><br><span class="hljs-comment"># edit the resource on-line</span><br>kubectl edit deployment influxdb -n influxdb<br><br><span class="hljs-comment"># Test influxdb connection, data writing and reading</span><br>----<br><span class="hljs-comment">#!/bin/bash</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">true</span><br><span class="hljs-keyword">do</span><br>processes=$(<span class="hljs-built_in">cat</span> /proc/stat | awk <span class="hljs-string">&#x27;/processes/&#123;print $2&#125;&#x27;</span>)<br>curl -i -XPOST <span class="hljs-string">&#x27;http://192.168.22.61:32002/write?db=test&#x27;</span> --data-binary <span class="hljs-string">&quot;performance,type=processes value=<span class="hljs-variable">$processes</span>&quot;</span><br><span class="hljs-built_in">sleep</span> 60<br><span class="hljs-keyword">done</span><br>----<br><br>[root@nfs ~]<span class="hljs-comment"># ./test.sh </span><br>HTTP/1.1 204 No Content<br>Content-Type: application/json<br>Request-Id: 493a3dd6-3fdd-11ed-8007-000000000000<br>X-Influxdb-Build: OSS<br>X-Influxdb-Version: 1.6.4<br>X-Request-Id: 493a3dd6-3fdd-11ed-8007-000000000000<br>Date: Thu, 29 Sep 2022 09:58:36 GMT<br><br>HTTP/1.1 204 No Content<br>Content-Type: application/json<br>Request-Id: 6d125a7f-3fdd-11ed-8008-000000000000<br>X-Influxdb-Build: OSS<br>X-Influxdb-Version: 1.6.4<br>X-Request-Id: 6d125a7f-3fdd-11ed-8008-000000000000<br>Date: Thu, 29 Sep 2022 09:59:36 GMT<br><br><br>[root@nfs ~]<span class="hljs-comment"># curl -G &#x27;http://192.168.22.61:32002/query?pretty=true&#x27; --data-urlencode &quot;db=test&quot; --data-urlencode &quot;q=select * from performance order by time desc&quot;</span><br>&#123;<br>    <span class="hljs-string">&quot;results&quot;</span>: [<br>        &#123;<br>            <span class="hljs-string">&quot;statement_id&quot;</span>: 0,<br>            <span class="hljs-string">&quot;series&quot;</span>: [<br>                &#123;<br>                    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;performance&quot;</span>,<br>                    <span class="hljs-string">&quot;columns&quot;</span>: [<br>                        <span class="hljs-string">&quot;time&quot;</span>,<br>                        <span class="hljs-string">&quot;type&quot;</span>,<br>                        <span class="hljs-string">&quot;value&quot;</span><br>                    ],<br>                    <span class="hljs-string">&quot;values&quot;</span>: [<br>                        [<br>                            <span class="hljs-string">&quot;2022-09-29T09:59:36.859605683Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            7109601<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-09-29T09:58:36.723087558Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            7109596<br>                        ]<br>                    ]<br>                &#125;<br>            ]<br>        &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="02-CICD-configuration"><a href="#02-CICD-configuration" class="headerlink" title="02. CICD configuration"></a>02. CICD configuration</h1><h2 id="02-1-Configure-Gitlab"><a href="#02-1-Configure-Gitlab" class="headerlink" title="02.1. Configure Gitlab"></a>02.1. Configure Gitlab</h2><ul><li><p>Add new group : <em>MyApp</em></p></li><li><p>Add user: <em>felix</em></p></li><li><p>Assign user to the group</p></li><li><p>Add a project : <em>test</em></p></li><li><p>Add ssh key for gitlab connection</p><ul><li><p>At rancher server, create the ssh key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@CentOS004 ~]<span class="hljs-comment"># ssh-keygen -t rsa -b 2048 -C &quot;felix@demo.com&quot;</span><br>Generating public/private rsa key pair.<br>Enter file <span class="hljs-keyword">in</span> <span class="hljs-built_in">which</span> to save the key (/root/.ssh/id_rsa): <br>Created directory <span class="hljs-string">&#x27;/root/.ssh&#x27;</span>.<br>Enter passphrase (empty <span class="hljs-keyword">for</span> no passphrase): <br>Enter same passphrase again: <br>Your identification has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.<br>Your public key has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>SHA256:QFuC63n5VJBGTlKbG7oCzjXfnoR+azYAZKi490C918Q felix@demo.com<br>The key<span class="hljs-string">&#x27;s randomart image is:</span><br><span class="hljs-string">+---[RSA 2048]----+</span><br><span class="hljs-string">|   . .+o=.       |</span><br><span class="hljs-string">|  . +. B+o       |</span><br><span class="hljs-string">|.. + .oo=.       |</span><br><span class="hljs-string">|o . +  oEo.      |</span><br><span class="hljs-string">| o..o+.+S.       |</span><br><span class="hljs-string">|.ooo+o=+o        |</span><br><span class="hljs-string">| .oo.o++o        |</span><br><span class="hljs-string">|    .o o*.       |</span><br><span class="hljs-string">|      .++o       |</span><br><span class="hljs-string">+----[SHA256]-----+</span><br><span class="hljs-string">[root@CentOS004 ~]# cd ~/.ssh/</span><br><span class="hljs-string">[root@CentOS004 .ssh]# ll</span><br><span class="hljs-string">total 8</span><br><span class="hljs-string">-rw-------. 1 root root 1823 Sep 29 09:41 id_rsa</span><br><span class="hljs-string">-rw-r--r--. 1 root root  396 Sep 29 09:41 id_rsa.pub</span><br><span class="hljs-string">[root@CentOS004 .ssh]# cat id_rsa.pub </span><br><span class="hljs-string">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCnB34PpjflNQhmHq3ZxJqRb6veoMRJe49ZQWNEqWFAnndDYlHPUw/q+6z14Ef2YWMLZqvNzLRPCYALTmsJNe05Ln/q/iQ2AM0wDrAUz8FegTPwTrTn9w7L+JezRDQh0Q46tPP8snJdUE+NjEqFNwUT+0ug42+LG9BaLho9HViPBeAQDI2UKNb33lg/y09JxsHqXqqviM+Bjo3G79DsP4p+przNGztReln8+fu6rax3czGfnIs6FvIH6GN8pRny3pVfM89sPxtyF3JqkhJGVgrbwN4v8zRUUI/bXJgKYBWpROt3K2GXf9aY2YSS1xsvvs1rl00xdmYL44YnrAMuv8Xd felix@demo.com</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure></li><li><p>Copy id_rsa.pub text into <strong>public SSH key</strong> field</p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/04/image-20221002101228652.png" alt="image-20221002101228652"></p></li><li><p>Test connection and git pull from rancher server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@CentOS004 .ssh]<span class="hljs-comment"># ssh -T -p 22 git@192.168.22.85</span><br>The authenticity of host <span class="hljs-string">&#x27;192.168.22.85 (192.168.22.85)&#x27;</span> can<span class="hljs-string">&#x27;t be established.</span><br><span class="hljs-string">ECDSA key fingerprint is SHA256:/QoEvOYhu/IIbXkiLmBAeTtIyEceztIMRGr8//HfcH0.</span><br><span class="hljs-string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span><br><span class="hljs-string">Warning: Permanently added &#x27;</span>192.168.22.85<span class="hljs-string">&#x27; (ECDSA) to the list of known hosts.</span><br><span class="hljs-string">Welcome to GitLab, @root!</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">[root@CentOS004 ~]# git clone http://192.168.22.85/myapp/test.git</span><br><span class="hljs-string">Cloning into &#x27;</span><span class="hljs-built_in">test</span><span class="hljs-string">&#x27;...</span><br><span class="hljs-string">remote: Enumerating objects: 3, done.</span><br><span class="hljs-string">remote: Counting objects: 100% (3/3), done.</span><br><span class="hljs-string">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="hljs-string">Receiving objects: 100% (3/3), done.</span><br><span class="hljs-string">[root@CentOS004 ~]# cd test</span><br><span class="hljs-string">[root@CentOS004 test]# ll</span><br><span class="hljs-string">total 4</span><br><span class="hljs-string">-rw-r--r--. 1 root root 8 Sep 29 09:56 README.md</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h2 id="02-2-Configure-Harbor"><a href="#02-2-Configure-Harbor" class="headerlink" title="02.2. Configure Harbor"></a>02.2. Configure Harbor</h2><ul><li>Create project<ul><li>project name: <em>demo</em></li><li>Access level: <em>public</em></li></ul></li><li>Create user<ul><li>Name: <em>felix</em></li></ul></li><li>Assign user into the project<ul><li>Role: <em>project admin</em></li></ul></li></ul><h2 id="02-3-Configure-Jenkins"><a href="#02-3-Configure-Jenkins" class="headerlink" title="02.3. Configure Jenkins"></a>02.3. Configure Jenkins</h2><ul><li><p>Create account</p><ul><li>Name: <em>felix</em></li></ul></li><li><p>Create jenkins credential with kind: <em>SSH Username with private key</em></p><ul><li><p>ID: demo</p></li><li><p>Username: git</p></li><li><p>Private Key:  &lt;pasted from rancher server: ~&#x2F;.ssh&#x2F;id_rsa&gt;</p></li><li><p>Create a new Jenkins task: *myapp *with freestyle project</p><ul><li><p>configure source code management with git</p></li><li><p>Repository URL: ssh:&#x2F;&#x2F;<a href="mailto:&#x67;&#x69;&#116;&#x40;&#x31;&#57;&#x32;&#x2e;&#x31;&#x36;&#x38;&#46;&#x32;&#50;&#x2e;&#56;&#53;">&#x67;&#x69;&#116;&#x40;&#x31;&#57;&#x32;&#x2e;&#x31;&#x36;&#x38;&#46;&#x32;&#50;&#x2e;&#56;&#53;</a>&#x2F;myapp&#x2F;test.git</p></li><li><p>If theres error <a href="https://stackoverflow.com/questions/15174194/jenkins-host-key-verification-failed">Jenkins Host key verification failed</a> , <a href="https://stackoverflow.com/questions/15174194/jenkins-host-key-verification-failed">refer to this solution</a>.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo su -s /bin/bash jenkins<br>git ls-remote -h -- ssh://git@192.168.22.85/myapp/test.git HEAD<br><br><span class="hljs-built_in">cat</span> ~/.ssh/known_hosts<br></code></pre></td></tr></table></figure></li></ul></li><li><p>Branches to build:  *&#x2F;main</p></li></ul></li><li><p>Install cloudbase plug-in</p><ul><li><a href="https://plugins.jenkins.io/docker-build-publish">CloudBees Docker Build and Publish pluginVersion1.4.0</a></li></ul></li><li><p>Add user: <em>Jenkins</em> into group: <em>docker</em>, to ensure read priviledge of docker&#x2F;unix socket</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">usermod -a -G docker jenkins<br>systemctl restart jenkins<br>newgrp docker<br></code></pre></td></tr></table></figure></li><li><p>Add docker authentication, ensure jenkins access harbor through http</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">vi /etc/docker/daemon.json<br>&#123;<br>  <span class="hljs-string">&quot;insecure-registries&quot;</span>: [<span class="hljs-string">&quot;http://192.168.22.86&quot;</span>]<br>&#125;<br><br>systemctl daemon-reload &amp;&amp; systemctl restart docker<br></code></pre></td></tr></table></figure><p>on Jenkins console , add a new global credentials (kind: username with password)</p><ul><li>username: felix</li><li>password: <harbor password></li></ul></li><li><p>Update existing Jenkins task: <em>myapp</em>, add docker build and publish</p><ul><li><p>Repository Name: &lt;harbor repository: demo&#x2F;test&gt;</p></li><li><p>Docker Host URL: unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock</p></li><li><p>Docker registry URL: <a href="http://192.168.22.86/">http://192.168.22.86</a></p></li><li><p>Registry credentials: felix&#x2F;**** <harbor account></p></li></ul></li></ul><h1 id="03-CICD-Testing"><a href="#03-CICD-Testing" class="headerlink" title="03. CICD Testing"></a>03. CICD Testing</h1><h2 id="CI-Testing-with-Jenkins-Gitlab-Harbor"><a href="#CI-Testing-with-Jenkins-Gitlab-Harbor" class="headerlink" title="CI Testing with Jenkins, Gitlab, Harbor"></a>CI Testing with Jenkins, Gitlab, Harbor</h2><ul><li><p>push docker file, source code: start.sh to gitlab</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> http://192.168.22.85/myapp/test.git<br><span class="hljs-built_in">cd</span> <span class="hljs-built_in">test</span>/<br><br><span class="hljs-built_in">chmod</span> +x start.sh<br><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># more Dockerfile </span><br>From centos<br><br>USER root<br>ENV PATH /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<br>ADD ./ /root/<br>CMD [<span class="hljs-string">&quot;/root/start.sh&quot;</span>]<br><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># more start.sh </span><br><span class="hljs-comment">#!/bin/bash</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">true</span><br><span class="hljs-keyword">do</span><br>processes=$(<span class="hljs-built_in">cat</span> /proc/stat | awk <span class="hljs-string">&#x27;/processes/&#123;print $2&#125;&#x27;</span>)<br>curl -i -XPOST <span class="hljs-string">&#x27;http://192.168.22.61:32002/write?db=test&#x27;</span> --data-binary <span class="hljs-string">&quot;performance,type=processes value=<span class="hljs-variable">$processes</span>&quot;</span><span class="hljs-built_in">sleep</span> 60<br><span class="hljs-keyword">done</span><br><br><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># git config --global user.name &quot;felix&quot;</span><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># git config --global user.email &quot;felix@demo.com&quot;</span><br><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># git add .</span><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># git commit -m &quot;add docker file&quot;</span><br>[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># git push origin main</span><br></code></pre></td></tr></table></figure><ul><li><p>whats docker file, refer to here: </p><ul><li><a href="https://www.jianshu.com/p/1aed40d82c62">https://www.jianshu.com/p/1aed40d82c62</a></li><li><a href="https://www.runoob.com/docker/docker-dockerfile.html">https://www.runoob.com/docker/docker-dockerfile.html</a></li></ul><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/25/webp.webp" alt="img"></p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/25/webp-20221025115318212.webp" alt="img"></p><blockquote></blockquote></li></ul></li><li><p>Go to Jenkins &gt; myapp, build now</p><!--the dockerfile name must be "Dockerfile" in source code,otherwise Jenkins can not fine the dockerfile when building image--><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Started <span class="hljs-keyword">by</span> <span class="hljs-keyword">user</span> felix<br>Running <span class="hljs-keyword">as</span> <span class="hljs-keyword">SYSTEM</span><br>Building <span class="hljs-keyword">in</span> workspace /var/lib/jenkins/workspace/myapp<br>The recommended git tool <span class="hljs-keyword">is</span>: <span class="hljs-keyword">NONE</span><br><span class="hljs-keyword">using</span> credential a9ec308d-cc1a<span class="hljs-number">-4</span>d6e-bfd5<span class="hljs-number">-003325</span>dd5944<br> &gt; git rev-parse <span class="hljs-comment">--resolve-git-dir /var/lib/jenkins/workspace/myapp/.git # timeout=10</span><br>Fetching changes <span class="hljs-keyword">from</span> the remote Git repository<br> &gt; git config remote.origin.url ssh://git@<span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.85</span>/myapp/test.git # timeout=<span class="hljs-number">10</span><br>Fetching upstream changes <span class="hljs-keyword">from</span> ssh://git@<span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.85</span>/myapp/test.git<br> &gt; git <span class="hljs-comment">--version # timeout=10</span><br> &gt; git <span class="hljs-comment">--version # &#x27;git version 2.31.1&#x27;</span><br><span class="hljs-keyword">using</span> GIT_SSH <span class="hljs-keyword">to</span> <span class="hljs-keyword">set</span> credentials cicdtest<br>Verifying host key <span class="hljs-keyword">using</span> known hosts file<br> &gt; git <span class="hljs-keyword">fetch</span> <span class="hljs-comment">--tags --force --progress -- ssh://git@192.168.22.85/myapp/test.git +refs/heads/*:refs/remotes/origin/* # timeout=10</span><br> &gt; git rev-parse refs/remotes/origin/main^&#123;<span class="hljs-keyword">commit</span>&#125; # timeout=<span class="hljs-number">10</span><br>Checking <span class="hljs-keyword">out</span> Revision <span class="hljs-number">6119</span>d6d79088ba5cfa8fb6eba368f51dcf5e12f1 (refs/remotes/origin/main)<br> &gt; git config core.sparsecheckout # timeout=<span class="hljs-number">10</span><br> &gt; git checkout -f <span class="hljs-number">6119</span>d6d79088ba5cfa8fb6eba368f51dcf5e12f1 # timeout=<span class="hljs-number">10</span><br><span class="hljs-keyword">Commit</span> message: &quot;add start.sh&quot;<br> &gt; git rev-list <span class="hljs-comment">--no-walk e73b7cbe817d832caef117e9adcd400906517626 # timeout=10</span><br>[myapp] $ docker build -t <span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.86</span>/demo/test <span class="hljs-comment">--pull=true /var/lib/jenkins/workspace/myapp</span><br><span class="hljs-built_in">WARNING</span>: Support <span class="hljs-keyword">for</span> the legacy ~/.dockercfg <span class="hljs-keyword">configuration</span> file <span class="hljs-keyword">and</span> file-<span class="hljs-keyword">format</span> <span class="hljs-keyword">is</span> deprecated <span class="hljs-keyword">and</span> will be removed <span class="hljs-keyword">in</span> an upcoming <span class="hljs-keyword">release</span><br>Sending build context <span class="hljs-keyword">to</span> Docker daemon  <span class="hljs-number">69.63</span>kB<br><br>Step <span class="hljs-number">1</span>/<span class="hljs-number">5</span> : <span class="hljs-keyword">From</span> centos<br>latest: Pulling <span class="hljs-keyword">from</span> library/centos<br>Digest: sha256:a27fd8080b517143cbbbab9dfb7c8571c40d67d534bbdee55bd6c473f432b177<br>Status: Image <span class="hljs-keyword">is</span> up <span class="hljs-keyword">to</span> <span class="hljs-type">date</span> <span class="hljs-keyword">for</span> centos:latest<br> <span class="hljs-comment">---&gt; 5d0da3dc9764</span><br>Step <span class="hljs-number">2</span>/<span class="hljs-number">5</span> : <span class="hljs-keyword">USER</span> root<br> <span class="hljs-comment">---&gt; Using cache</span><br> <span class="hljs-comment">---&gt; 566a6bb50798</span><br>Step <span class="hljs-number">3</span>/<span class="hljs-number">5</span> : ENV <span class="hljs-type">PATH</span> /usr/<span class="hljs-keyword">local</span>/sbin:/usr/<span class="hljs-keyword">local</span>/bin:/usr/sbin:/usr/bin:/sbin:/bin<br> <span class="hljs-comment">---&gt; Using cache</span><br> <span class="hljs-comment">---&gt; 976874dd9ea6</span><br>Step <span class="hljs-number">4</span>/<span class="hljs-number">5</span> : <span class="hljs-keyword">ADD</span> ./ /root/<br> <span class="hljs-comment">---&gt; 89f3bef76911</span><br>Step <span class="hljs-number">5</span>/<span class="hljs-number">5</span> : CMD [&quot;bash /root/start.sh&quot;]<br> <span class="hljs-comment">---&gt; Running in 27a4eec3ac71</span><br>Removing intermediate container <span class="hljs-number">27</span>a4eec3ac71<br> <span class="hljs-comment">---&gt; d3821c155ee9</span><br>Successfully built d3821c155ee9<br>Successfully tagged <span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.86</span>/demo/test:latest<br>[myapp] $ docker inspect d3821c155ee9<br><span class="hljs-built_in">WARNING</span>: Support <span class="hljs-keyword">for</span> the legacy ~/.dockercfg <span class="hljs-keyword">configuration</span> file <span class="hljs-keyword">and</span> file-<span class="hljs-keyword">format</span> <span class="hljs-keyword">is</span> deprecated <span class="hljs-keyword">and</span> will be removed <span class="hljs-keyword">in</span> an upcoming <span class="hljs-keyword">release</span><br>[myapp] $ docker push <span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.86</span>/demo/test<br><span class="hljs-built_in">WARNING</span>: Support <span class="hljs-keyword">for</span> the legacy ~/.dockercfg <span class="hljs-keyword">configuration</span> file <span class="hljs-keyword">and</span> file-<span class="hljs-keyword">format</span> <span class="hljs-keyword">is</span> deprecated <span class="hljs-keyword">and</span> will be removed <span class="hljs-keyword">in</span> an upcoming <span class="hljs-keyword">release</span><br><span class="hljs-keyword">Using</span> <span class="hljs-keyword">default</span> tag: latest<br>The push refers <span class="hljs-keyword">to</span> repository [<span class="hljs-number">192.168</span><span class="hljs-number">.22</span><span class="hljs-number">.86</span>/demo/test]<br><span class="hljs-number">064</span>ab7092af0: Preparing<br><span class="hljs-number">74</span>ddd0ec08fa: Preparing<br><span class="hljs-number">74</span>ddd0ec08fa: Layer already <span class="hljs-keyword">exists</span><br><span class="hljs-number">064</span>ab7092af0: Pushed<br>latest: digest: sha256:<span class="hljs-number">486091</span>b0f6dab11302a808a99988b26ed52ed093beaa830c9a104c988b808805 size: <span class="hljs-number">738</span><br>Finished: SUCCESS<br></code></pre></td></tr></table></figure></li><li><p>Check harbor repository, confirm the image is created</p></li></ul><h2 id="CD-Testing-with-Rancher"><a href="#CD-Testing-with-Rancher" class="headerlink" title="CD Testing with Rancher"></a>CD Testing with Rancher</h2><ul><li><p>add below insecure access for all nodes of K8s cluster, ensure each node can access insure harbor server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> &gt; /etc/docker/daemon.json &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">&#123;</span><br><span class="hljs-string">  &quot;insecure-registries&quot;: [&quot;http://192.168.22.86&quot;]</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">EOF</span><br>systemctl daemon-reload &amp;&amp; systemctl restart docker<br></code></pre></td></tr></table></figure></li><li><p>create deploy to deploy workload via Rancher</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@cicdlab001 ~]<span class="hljs-comment"># kubectl get pods -n cicdtest -o wide</span><br>NAME                    READY   STATUS    RESTARTS   AGE   IP          NODE GATES<br>test-58b7787d9d-9r2kn   1/1     Running   0          44s   10.44.0.1   cicd<br>test-58b7787d9d-sb6x5   1/1     Running   0          44s   10.36.0.2   cicd<br><br></code></pre></td></tr></table></figure></li><li><p>verify influx db - confirm the latest data already written in databa</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@rancher <span class="hljs-built_in">test</span>]<span class="hljs-comment"># curl -G &#x27;http://192.168.22.61:32002/query?pretty=true&#x27; --data-urlencode &quot;db=test&quot; --data-urlencode &quot;q=select * from performance order by time desc&quot;</span><br>&#123;<br>    <span class="hljs-string">&quot;results&quot;</span>: [<br>        &#123;<br>            <span class="hljs-string">&quot;statement_id&quot;</span>: 0,<br>            <span class="hljs-string">&quot;series&quot;</span>: [<br>                &#123;<br>                    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;performance&quot;</span>,<br>                    <span class="hljs-string">&quot;columns&quot;</span>: [<br>                        <span class="hljs-string">&quot;time&quot;</span>,<br>                        <span class="hljs-string">&quot;type&quot;</span>,<br>                        <span class="hljs-string">&quot;value&quot;</span><br>                    ],<br>                    <span class="hljs-string">&quot;values&quot;</span>: [<br>                        [<br>                            <span class="hljs-string">&quot;2022-10-01T16:37:15.037646251Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            1530626<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-10-01T16:37:15.000946467Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            1529608<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-10-01T16:36:15.012783232Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            1530322<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-10-01T16:36:14.979504738Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            1529306<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-10-01T16:35:14.980991216Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            1530004<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-10-01T16:35:14.944116291Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            1528989<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-09-29T09:59:36.859605683Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            7109601<br>                        ],<br>                        [<br>                            <span class="hljs-string">&quot;2022-09-29T09:58:36.723087558Z&quot;</span>,<br>                            <span class="hljs-string">&quot;processes&quot;</span>,<br>                            7109596<br>                        ]<br>                    ]<br>                &#125;<br>            ]<br>        &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="Configure-Grafana-to-display-the-data"><a href="#Configure-Grafana-to-display-the-data" class="headerlink" title="Configure Grafana to display the data"></a>Configure Grafana to display the data</h2><ul><li><p>Configure grafana data source with influxdb</p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/04/image-20221002101502662.png" alt="image-20221002101502662"></p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/04/image-20221002101537582.png" alt="image-20221002101537582"></p></li><li><p>Create dashboard</p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/04/image-20221002101644194.png" alt="image-20221002101644194"></p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>cicd</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/1984/01/24/nei-zhi-han-shu-gong-han-han-shu-mo-fa-han-shu/"/>
    <url>/1984/01/24/nei-zhi-han-shu-gong-han-han-shu-mo-fa-han-shu/</url>
    
    <content type="html"><![CDATA[<h1 id="--"><a href="#--" class="headerlink" title="  "></a>  </h1><h2 id="-Built-in-Functions"><a href="#-Built-in-Functions" class="headerlink" title=" (Built-in Functions)"></a> (Built-in Functions)</h2><p><a href="https://www.cnblogs.com/wang-yc/p/5635765.html">python3 </a></p><p><a href="https://docs.python.org/3/library/functions.html">Built-in Functions</a></p><p><img src="https://felixyanghui.synology.me:8441/images/2022/10/10/image-20221010105230386.png" alt="image-20221010105230386"></p><p>Python<strong>init</strong>print<strong>str</strong></p><ul><li><strong>init</strong>(self, )<strong>class</strong>has no attribute</li><li><strong>del</strong>(self)</li><li><strong>new</strong>(cls,*args,<strong>kwd)</strong>init<strong></strong>new**</li><li><strong>str</strong>(self)print</li><li><strong>getitem</strong>(self, key)key[]seq[key]</li><li><strong>setitem</strong>(self, key, value)<strong>geitem</strong>seq[key]&#x3D;value</li><li><strong>len</strong>(self)len()</li><li><strong>getattr</strong>(s, name) </li><li><strong>setattr</strong>(s, name, value)</li><li><strong>delattr</strong>(s, name) name</li><li><strong>getattribute</strong>()<strong>getattribute</strong>()<strong>getattr</strong>()class<strong>getattr</strong>()<strong>getattr</strong>()AttributeError</li><li><strong>gt</strong>(self, other)selfother</li><li><strong>lt</strong>(self, other)selfother</li><li><strong>ge</strong>(slef, other)selfother</li><li><strong>le</strong>(self, other) selfother</li><li><strong>eq</strong>(self, other)selfother</li><li><strong>call</strong>(self, *args) ()<strong>call</strong></li></ul><p></p><ul><li><p><strong>name</strong><strong>main</strong>if<strong>main</strong>import.pyif<strong>main</strong></p></li><li><p><strong>file</strong></p></li><li><p><strong>package</strong>None . </p></li><li><p><strong>doc</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>.__name__<br><span class="hljs-string">&#x27;print&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>.__doc__<br><span class="hljs-string">&quot;print(value, ..., sep=&#x27; &#x27;, end=&#x27;\\n&#x27;, file=sys.stdout, flush=False)\n\nPrints the values to a stream, or to sys.stdout by default.\nOptional keyword arguments:\nfile:  a file-like object (stream); defaults to the current sys.stdout.\nsep:   string inserted between values, default a space.\nend:   string appended after the last value, default a newline.\nflush: whether to forcibly flush the stream.&quot;</span><br></code></pre></td></tr></table></figure></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">dir</span>(__builtins__)<br>[<span class="hljs-string">&#x27;ArithmeticError&#x27;</span>, <span class="hljs-string">&#x27;AssertionError&#x27;</span>, <span class="hljs-string">&#x27;AttributeError&#x27;</span>, <span class="hljs-string">&#x27;BaseException&#x27;</span>, <span class="hljs-string">&#x27;BlockingIOError&#x27;</span>, <span class="hljs-string">&#x27;BrokenPipeError&#x27;</span>, <span class="hljs-string">&#x27;BufferError&#x27;</span>, <span class="hljs-string">&#x27;BytesWarning&#x27;</span>, <span class="hljs-string">&#x27;ChildProcessError&#x27;</span>, <span class="hljs-string">&#x27;ConnectionAbortedError&#x27;</span>, <span class="hljs-string">&#x27;ConnectionError&#x27;</span>, <span class="hljs-string">&#x27;ConnectionRefusedError&#x27;</span>, <span class="hljs-string">&#x27;ConnectionResetError&#x27;</span>, <span class="hljs-string">&#x27;DeprecationWarning&#x27;</span>, <span class="hljs-string">&#x27;EOFError&#x27;</span>, <span class="hljs-string">&#x27;Ellipsis&#x27;</span>, <span class="hljs-string">&#x27;EnvironmentError&#x27;</span>, <span class="hljs-string">&#x27;Exception&#x27;</span>, <span class="hljs-string">&#x27;False&#x27;</span>, <span class="hljs-string">&#x27;FileExistsError&#x27;</span>, <span class="hljs-string">&#x27;FileNotFoundError&#x27;</span>, <span class="hljs-string">&#x27;FloatingPointError&#x27;</span>, <span class="hljs-string">&#x27;FutureWarning&#x27;</span>, <span class="hljs-string">&#x27;GeneratorExit&#x27;</span>, <span class="hljs-string">&#x27;IOError&#x27;</span>, <span class="hljs-string">&#x27;ImportError&#x27;</span>, <span class="hljs-string">&#x27;ImportWarning&#x27;</span>, <span class="hljs-string">&#x27;IndentationError&#x27;</span>, <span class="hljs-string">&#x27;IndexError&#x27;</span>, <span class="hljs-string">&#x27;InterruptedError&#x27;</span>, <span class="hljs-string">&#x27;IsADirectoryError&#x27;</span>, <span class="hljs-string">&#x27;KeyError&#x27;</span>, <span class="hljs-string">&#x27;KeyboardInterrupt&#x27;</span>, <span class="hljs-string">&#x27;LookupError&#x27;</span>, <span class="hljs-string">&#x27;MemoryError&#x27;</span>, <span class="hljs-string">&#x27;ModuleNotFoundError&#x27;</span>, <span class="hljs-string">&#x27;NameError&#x27;</span>, <span class="hljs-string">&#x27;None&#x27;</span>, <span class="hljs-string">&#x27;NotADirectoryError&#x27;</span>, <span class="hljs-string">&#x27;NotImplemented&#x27;</span>, <span class="hljs-string">&#x27;NotImplementedError&#x27;</span>, <span class="hljs-string">&#x27;OSError&#x27;</span>, <span class="hljs-string">&#x27;OverflowError&#x27;</span>, <span class="hljs-string">&#x27;PendingDeprecationWarning&#x27;</span>, <span class="hljs-string">&#x27;PermissionError&#x27;</span>, <span class="hljs-string">&#x27;ProcessLookupError&#x27;</span>, <span class="hljs-string">&#x27;RecursionError&#x27;</span>, <span class="hljs-string">&#x27;ReferenceError&#x27;</span>, <span class="hljs-string">&#x27;ResourceWarning&#x27;</span>, <span class="hljs-string">&#x27;RuntimeError&#x27;</span>, <span class="hljs-string">&#x27;RuntimeWarning&#x27;</span>, <span class="hljs-string">&#x27;StopAsyncIteration&#x27;</span>, <span class="hljs-string">&#x27;StopIteration&#x27;</span>, <span class="hljs-string">&#x27;SyntaxError&#x27;</span>, <span class="hljs-string">&#x27;SyntaxWarning&#x27;</span>, <span class="hljs-string">&#x27;SystemError&#x27;</span>, <span class="hljs-string">&#x27;SystemExit&#x27;</span>, <span class="hljs-string">&#x27;TabError&#x27;</span>, <span class="hljs-string">&#x27;TimeoutError&#x27;</span>, <span class="hljs-string">&#x27;True&#x27;</span>, <span class="hljs-string">&#x27;TypeError&#x27;</span>, <span class="hljs-string">&#x27;UnboundLocalError&#x27;</span>, <span class="hljs-string">&#x27;UnicodeDecodeError&#x27;</span>, <span class="hljs-string">&#x27;UnicodeEncodeError&#x27;</span>, <span class="hljs-string">&#x27;UnicodeError&#x27;</span>, <span class="hljs-string">&#x27;UnicodeTranslateError&#x27;</span>, <span class="hljs-string">&#x27;UnicodeWarning&#x27;</span>, <span class="hljs-string">&#x27;UserWarning&#x27;</span>, <span class="hljs-string">&#x27;ValueError&#x27;</span>, <span class="hljs-string">&#x27;Warning&#x27;</span>, <span class="hljs-string">&#x27;ZeroDivisionError&#x27;</span>, <span class="hljs-string">&#x27;__build_class__&#x27;</span>, <span class="hljs-string">&#x27;__debug__&#x27;</span>, <span class="hljs-string">&#x27;__doc__&#x27;</span>, <span class="hljs-string">&#x27;__import__&#x27;</span>, <span class="hljs-string">&#x27;__loader__&#x27;</span>, <span class="hljs-string">&#x27;__name__&#x27;</span>, <span class="hljs-string">&#x27;__package__&#x27;</span>, <span class="hljs-string">&#x27;__spec__&#x27;</span>, <span class="hljs-string">&#x27;abs&#x27;</span>, <span class="hljs-string">&#x27;all&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>, <span class="hljs-string">&#x27;ascii&#x27;</span>, <span class="hljs-string">&#x27;bin&#x27;</span>, <span class="hljs-string">&#x27;bool&#x27;</span>, <span class="hljs-string">&#x27;breakpoint&#x27;</span>, <span class="hljs-string">&#x27;bytearray&#x27;</span>, <span class="hljs-string">&#x27;bytes&#x27;</span>, <span class="hljs-string">&#x27;callable&#x27;</span>, <span class="hljs-string">&#x27;chr&#x27;</span>, <span class="hljs-string">&#x27;classmethod&#x27;</span>, <span class="hljs-string">&#x27;compile&#x27;</span>, <span class="hljs-string">&#x27;complex&#x27;</span>, <span class="hljs-string">&#x27;copyright&#x27;</span>, <span class="hljs-string">&#x27;credits&#x27;</span>, <span class="hljs-string">&#x27;delattr&#x27;</span>, <span class="hljs-string">&#x27;dict&#x27;</span>, <span class="hljs-string">&#x27;dir&#x27;</span>, <span class="hljs-string">&#x27;divmod&#x27;</span>, <span class="hljs-string">&#x27;enumerate&#x27;</span>, <span class="hljs-string">&#x27;eval&#x27;</span>, <span class="hljs-string">&#x27;exec&#x27;</span>, <span class="hljs-string">&#x27;exit&#x27;</span>, <span class="hljs-string">&#x27;filter&#x27;</span>, <span class="hljs-string">&#x27;float&#x27;</span>, <span class="hljs-string">&#x27;format&#x27;</span>, <span class="hljs-string">&#x27;frozenset&#x27;</span>, <span class="hljs-string">&#x27;getattr&#x27;</span>, <span class="hljs-string">&#x27;globals&#x27;</span>, <span class="hljs-string">&#x27;hasattr&#x27;</span>, <span class="hljs-string">&#x27;hash&#x27;</span>, <span class="hljs-string">&#x27;help&#x27;</span>, <span class="hljs-string">&#x27;hex&#x27;</span>, <span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;input&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;isinstance&#x27;</span>, <span class="hljs-string">&#x27;issubclass&#x27;</span>, <span class="hljs-string">&#x27;iter&#x27;</span>, <span class="hljs-string">&#x27;len&#x27;</span>, <span class="hljs-string">&#x27;license&#x27;</span>, <span class="hljs-string">&#x27;list&#x27;</span>, <span class="hljs-string">&#x27;locals&#x27;</span>, <span class="hljs-string">&#x27;map&#x27;</span>, <span class="hljs-string">&#x27;max&#x27;</span>, <span class="hljs-string">&#x27;memoryview&#x27;</span>, <span class="hljs-string">&#x27;min&#x27;</span>, <span class="hljs-string">&#x27;next&#x27;</span>, <span class="hljs-string">&#x27;object&#x27;</span>, <span class="hljs-string">&#x27;oct&#x27;</span>, <span class="hljs-string">&#x27;open&#x27;</span>, <span class="hljs-string">&#x27;ord&#x27;</span>, <span class="hljs-string">&#x27;pow&#x27;</span>, <span class="hljs-string">&#x27;print&#x27;</span>, <span class="hljs-string">&#x27;property&#x27;</span>, <span class="hljs-string">&#x27;quit&#x27;</span>, <span class="hljs-string">&#x27;range&#x27;</span>, <span class="hljs-string">&#x27;repr&#x27;</span>, <span class="hljs-string">&#x27;reversed&#x27;</span>, <span class="hljs-string">&#x27;round&#x27;</span>, <span class="hljs-string">&#x27;set&#x27;</span>, <span class="hljs-string">&#x27;setattr&#x27;</span>, <span class="hljs-string">&#x27;slice&#x27;</span>, <span class="hljs-string">&#x27;sorted&#x27;</span>, <span class="hljs-string">&#x27;staticmethod&#x27;</span>, <span class="hljs-string">&#x27;str&#x27;</span>, <span class="hljs-string">&#x27;sum&#x27;</span>, <span class="hljs-string">&#x27;super&#x27;</span>, <span class="hljs-string">&#x27;tuple&#x27;</span>, <span class="hljs-string">&#x27;type&#x27;</span>, <span class="hljs-string">&#x27;vars&#x27;</span>, <span class="hljs-string">&#x27;zip&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><br></code></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul><li><p>python2.2  <em></em>  <em></em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">int</span>(),<span class="hljs-built_in">float</span>(), <span class="hljs-built_in">bool</span>(), <span class="hljs-built_in">str</span>(), <span class="hljs-built_in">list</span>(),<span class="hljs-built_in">tuple</span>(), <span class="hljs-built_in">type</span>(), <span class="hljs-built_in">dict</span>(), <span class="hljs-built_in">set</span>(), <span class="hljs-built_in">frozenset</span>()<br></code></pre></td></tr></table></figure></li><li><p><strong></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># </span><br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">len</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;builtin_function_or_method&#x27;</span>&gt;<br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">open</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;builtin_function_or_method&#x27;</span>&gt;<br><br><span class="hljs-comment"># ****</span><br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">int</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br>&gt;&gt; <span class="hljs-built_in">type</span>(<span class="hljs-built_in">list</span>)<br>&gt;&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br></code></pre></td></tr></table></figure></li><li><p>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(<span class="hljs-built_in">int</span>)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(<span class="hljs-built_in">list</span>)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">pass</span><br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(C)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;type&#x27;</span>&gt;<br></code></pre></td></tr></table></figure></li><li><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># int </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;123&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;456&#x27;</span>)<br><br><span class="hljs-comment"># </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br><span class="hljs-number">579</span><br></code></pre></td></tr></table></figure></li><li><p>python</p><table><thead><tr><th>add(self, other)</th><th>+</th></tr></thead><tbody><tr><td>sub(self, other)</td><td>-</td></tr><tr><td>mul(self, other)</td><td>*</td></tr><tr><td>truediv(self, other)</td><td>&#x2F;</td></tr><tr><td>floordiv(self, other)</td><td>&#x2F;&#x2F;</td></tr><tr><td>mod(self, other)</td><td>%</td></tr><tr><td>divmod(self, other)</td><td> divmod() divmod(a, b)a&#x2F;&#x2F;b, a%b)</td></tr><tr><td>pow(self, other[, modulo])</td><td> power()  ** </td></tr><tr><td>lshift(self, other)</td><td>&lt;&lt;</td></tr><tr><td>rshift(self, other)</td><td>&gt;&gt;</td></tr><tr><td>and(self, other)</td><td>&amp;</td></tr><tr><td>xor(self, other)</td><td>^</td></tr><tr><td>or(self, other)</td><td></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">New_int</span>(<span class="hljs-title class_ inherited__">int</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__sub__(self, other)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__sub__</span>(<span class="hljs-params">self, other</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.__add__(self, other)<br> <br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = New_int(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = New_int(<span class="hljs-number">5</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a + b<br>-<span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a - b<br><span class="hljs-number">8</span><br><br></code></pre></td></tr></table></figure></li></ul><h1 id=""><a href="#" class="headerlink" title=""></a></h1><ul><li><p> <code>__init__(self, param1, param2...)</code> </p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ball</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br><span class="hljs-meta">... </span>            self.name = name<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">kick</span>(<span class="hljs-params">self</span>):<br><span class="hljs-meta">... </span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;my name is %s, fuck, who kick me#@#&#x27;</span> % self.name)<br><span class="hljs-meta">... </span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = Ball(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c.kick()<br>my name <span class="hljs-keyword">is</span> , fuck, who kick me<span class="hljs-comment">#@#</span><br></code></pre></td></tr></table></figure></li><li><p>pythonpython</p></li><li><p></p></li></ul><p>PythonPython__str__str__lt__&lt;Python</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">object</span>.__new__(self, ...)<br><span class="hljs-built_in">object</span>.__init__(self, ...)<br><span class="hljs-built_in">object</span>.__del__(self)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">+<span class="hljs-built_in">object</span>.__add__(self, other)<br>-<span class="hljs-built_in">object</span>.__sub__(self, other)<br>*<span class="hljs-built_in">object</span>.__mul__(self, other)<br>//<span class="hljs-built_in">object</span>.__floordiv__(self, other)<br>/<span class="hljs-built_in">object</span>.__div__(self, other)<br>%<span class="hljs-built_in">object</span>.__mod__(self, other)<br>**<span class="hljs-built_in">object</span>.__pow__(self, other[, modulo])<br>&lt;&lt;<span class="hljs-built_in">object</span>.__lshift__(self, other)<br>&gt;&gt;<span class="hljs-built_in">object</span>.__rshift__(self, other)<br>&amp;<span class="hljs-built_in">object</span>.__and__(self, other)<br>^<span class="hljs-built_in">object</span>.__xor__(self, other)<br>|<span class="hljs-built_in">object</span>.__or__(self, other)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">+=<span class="hljs-built_in">object</span>.__iadd__(self, other)<br>-=<span class="hljs-built_in">object</span>.__isub__(self, other)<br>*=<span class="hljs-built_in">object</span>.__imul__(self, other)<br>/=<span class="hljs-built_in">object</span>.__idiv__(self, other)<br>//=<span class="hljs-built_in">object</span>.__ifloordiv__(self, other)<br>%=<span class="hljs-built_in">object</span>.__imod__(self, other)<br>**=<span class="hljs-built_in">object</span>.__ipow__(self, other[, modulo])<br>&lt;&lt;=<span class="hljs-built_in">object</span>.__ilshift__(self, other)<br>&gt;&gt;=<span class="hljs-built_in">object</span>.__irshift__(self, other)<br>&amp;=<span class="hljs-built_in">object</span>.__iand__(self, other)<br>^=<span class="hljs-built_in">object</span>.__ixor__(self, other)<br>|=<span class="hljs-built_in">object</span>.__ior__(self, other)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">-<span class="hljs-built_in">object</span>.__neg__(self)<br>+<span class="hljs-built_in">object</span>.__pos__(self)<br><span class="hljs-built_in">abs</span>()<span class="hljs-built_in">object</span>.__abs__(self)<br>~<span class="hljs-built_in">object</span>.__invert__(self)<br><span class="hljs-built_in">complex</span>()<span class="hljs-built_in">object</span>.__complex__(self)<br><span class="hljs-built_in">int</span>()<span class="hljs-built_in">object</span>.__int__(self)<br>long()<span class="hljs-built_in">object</span>.__long__(self)<br><span class="hljs-built_in">float</span>()<span class="hljs-built_in">object</span>.__float__(self)<br><span class="hljs-built_in">oct</span>()<span class="hljs-built_in">object</span>.__oct__(self)<br><span class="hljs-built_in">hex</span>()<span class="hljs-built_in">object</span>.__hex__(self)<br><span class="hljs-built_in">round</span>()<span class="hljs-built_in">object</span>.__round__(self, n)<br>floor()object__floor__(self)<br>ceil()<span class="hljs-built_in">object</span>.__ceil__(self)<br>trunc()<span class="hljs-built_in">object</span>.__trunc__(self)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">&lt;<span class="hljs-built_in">object</span>.__lt__(self, other)<br>&lt;=<span class="hljs-built_in">object</span>.__le__(self, other)<br>==<span class="hljs-built_in">object</span>.__eq__(self, other)<br>!=<span class="hljs-built_in">object</span>.__ne__(self, other)<br>&gt;=<span class="hljs-built_in">object</span>.__ge__(self, other)<br>&gt;<span class="hljs-built_in">object</span>.__gt__(self, other)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>()<span class="hljs-built_in">object</span>.__str__(self) <br><span class="hljs-built_in">repr</span>()<span class="hljs-built_in">object</span>.__repr__(self)<br><span class="hljs-built_in">len</span>()<span class="hljs-built_in">object</span>.__len__(self)<br><span class="hljs-built_in">hash</span>()<span class="hljs-built_in">object</span>.__hash__(self) <br><span class="hljs-built_in">bool</span>()<span class="hljs-built_in">object</span>.__nonzero__(self) <br><span class="hljs-built_in">dir</span>()<span class="hljs-built_in">object</span>.__dir__(self)<br>sys.getsizeof()<span class="hljs-built_in">object</span>.__sizeof__(self)<br></code></pre></td></tr></table></figure><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">len</span>()<span class="hljs-built_in">object</span>.__len__(self)<br>self[key]<span class="hljs-built_in">object</span>.__getitem__(self, key)<br>self[key] = value<span class="hljs-built_in">object</span>.__setitem__(self, key, value)<br><span class="hljs-keyword">del</span>[key] <span class="hljs-built_in">object</span>.__delitem__(self, key)<br><span class="hljs-built_in">iter</span>()<span class="hljs-built_in">object</span>.__iter__(self)<br><span class="hljs-built_in">reversed</span>()<span class="hljs-built_in">object</span>.__reversed__(self)<br><span class="hljs-keyword">in</span><span class="hljs-built_in">object</span>.__contains__(self, item)<br>key<span class="hljs-built_in">object</span>.__missing__(self, key)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
